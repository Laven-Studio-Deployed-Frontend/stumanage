{"version":3,"sources":["utils/Excel.js","styles/resources/Logo.png","utils/Date.js","serviceWorker.js","config/httpErrors.js","config/index.js","api/User/index.js","api/Company/index.js","utils/Alert.js","api/Axios.js","api/Company/Branch.js","socket/Bill/index.js","socket/Company/index.js","socket/Spending/index.js","socket/index.js","api/Company/Spending.js","api/Bill/index.js","api/Bill/PackageType.js","api/Bill/Package.js","api/Bill/Status.js","api/index.js","api/Bill/History.js","api/Permission/index.js","api/Staff/index.js","api/Staff/Salary.js","api/Staff/ChamCong.js","api/Subscription/index.js","components/Form/Staff.js","components/DatePicker/index.jsx","functions/Global.jsx","components/Form/Bill.js","components/Form/ProductList.js","components/Spiners.jsx","components/Tables/StaffSalary.js","components/Tables/Package.js","components/Tables/ProductList.js","components/Tables/ChamCong.js","components/Tables/index.js","components/HeaderBar/FullSearchBox.js","components/HeaderBar/Package.js","components/Modal/Form.js","components/SideBar/items.js","components/SideBar/index.js","components/Card/index.js","components/DropDown/CustomerFilter.js","components/Header_bar.jsx","components/Table.jsx","views/Home.jsx","components/Cards.jsx","views/Products.jsx","views/Logout.jsx","components/Forms.jsx","views/SalaryEdit.jsx","views/Backup.jsx","views/Package/index.js","views/Bill/Edit.js","views/Bill/Print.js","views/Bill/History/index.js","components/Calendar/functions.jsx","components/Calendar/Calendar.jsx","components/Modals.jsx","views/Calendar/index.js","views/Customer/index.js","views/Spending/index.js","views/Analytics/Total.js","views/Analytics/Revenue.js","views/Signup/index.js","views/Login/index.js","views/Settings/index.js","views/Settings/Permission/index.js","views/Settings/Branch/index.js","views/Settings/Staff/Edit.js","views/Settings/Staff/Salary.js","views/Settings/Staff/index.js","views/Settings/Trash/index.js","views/Settings/Personnel/index.js","views/Settings/ChamCong/List.js","views/Settings/ChamCong/Manage.js","views/Settings/ChamCong/index.js","views/Settings/Status/index.js","views/Settings/Subscription/index.js","views/Settings/TransactionManage/index.js","views/Settings/Profile/index.js","views/Transactions/index.js","views/Errors/index.js","views/Settings/Admin/Subscription/index.js","App.js","index.js"],"names":["Excel","createCSV","columns","data","csv","join","forEach","item","csvToBuffer","arrayOfArrayCsv","split","map","row","wb","XLSX","book_new","newWs","aoa_to_sheet","book_append_sheet","type","createExcel","excelBuffer","Buffer","from","module","exports","Object","defineProperty","Date","prototype","value","format","dateFormated","dateNow","this","getDate","monthNow","getMonth","yearNow","getFullYear","replaceAll","toString","ageDifMs","now","getTime","ageDate","Math","abs","getUTCFullYear","Boolean","window","location","hostname","match","HTTP_ERRORS","LIMIT_EXCEEDED","SUBSCRIPTION_EXPIRED","API_URL","CONFIG","DEBUG","IO_URL","API_VER","API","HEADERS","COLORS","APP_VERSION","generateApiHeader","user_id","localStorage","getItem","company_id","Authorization","UserAPI","auth","email","password","a","axios","post","headers","response","verifyToken","get","then","res","setItem","perm","ho_ten","_id","toISOString","company_slug","accessToken","catch","e","clear","reload","verifyLoggedTime","loggedTime","flag","getHours","href","chamCong","ChamCong","CompanyAPI","add","companyName","address","phone","name","ten_cong_ty","dia_chi","so_dien_thoai","console","log","ERRS","Alert","message","NotificationManager","success","_successTimeOut","error","title","onClick","info","warning","Axios","url","code","Error","checkRedirect","put","delete","errorMsg","urlHash","hash","originHash","BranchAPI","id","getAll","update","remove","BillSocket","socket","companyId","emit","callback","on","CompaySocket","SpendingSocket","Socket","socketIOClient","config","access_token","CompanySocket","SpendingAPI","Spending","emitAdd","confirm","BillAPI","Bill","download","emitUpdate","emitRemove","PackageTypeAPI","getSlug","slug","PackageAPI","getType","StatusAPI","User","Company","Branch","BillHistories","restore","billId","PackageType","Package","Status","Permission","ten_nhom","getUserPerm","Staff","updatePassword","oldPassword","StaffSalary","getUser","month","year","userId","Subscription","subscribe","createTransaction","subscription","getCompany","StaffForm","props","handleChange","date","setState","handleSave","refs","ngay_sinh","chuc_vu","luong_co_ban","banking_address","onSave","length","state","className","defaultValue","ref","i","Component","calendar","daysOfMonth","months","parseInt","days","push","setDate","getDaysInMonth","getDay","year_data","LavenDatePicker","handleUpdateCalendar","result","calendar_data","handleNavigate","focus_month","focus_year","handleFocusDate","focus_date","is_visible","handleFocusMonth","handleFocusYear","date_str","replace","onChange","handleClickOutside","event","wrapperRef","current","contains","target","hasDate","indexOf","hasMonth","hasYear","dates","tab","month_data","React","createRef","document","addEventListener","removeEventListener","style","readOnly","disabled","display","key","numberWithCommas","x","findWithAttr","array","attr","transDate","n_date","removeVietnameseTones","str","trim","salaryLoad","staff_data","cham_cong_data","tong_ngay_cong","salary_history","date_filter","date_now","salary_data","filter","date_created","luong_thang","round","parseFloat","ngay_cong","package_type","dich_vu_r","dich_vu","goi_chup_r","goi_chup","bills","deleted","ngay_chup","total_photo","total_service","total_photoshop","photo","products","product","ten_goi","gia","so_luong","giam_gia","phan_tram_thuong_goi_chup_photo","support","phan_tram_thuong_goi_chup_tu_van","photoshop","phan_tram_thuong_photoshop","phan_tram_thuong_dich_vu_tu_van","total","thuc_lanh","salaryCalculate","BillForm","chi_nhanh","gio_chup","ghi_chu","consultant","ten_khach_hang","ho_ten_be","ngay_sinh_be","birthday","gioi_tinh_be","so_tuoi","tinh_trang","ngay_giao_hinh","onTagsChange","handleChangeBirthday","new_date","age","fromdate","todate","y","ydiff","m","mdiff","d","ddiff","setMonth","getAge","handleChangeNgayGiaoHinh","staff","branch","status","fetchData","perms","bill","selected","ten_chi_nhanh","ten_tinh_trang","ProductListForm","tong","dat_coc","thanh_toan","con_no","con_no_1","handleSavePayment","handleChangeInput","element","index","Number","date_des","getMinutes","time","des","paymentData","conNo","extendThanhToan","transaction","handleUpdateConNo","handleUpdateConNoAfterChangeProduct","old_data","new_data","datCoc","thanhToan","flex","product_total","onKeyUp","desc","HashSpiner","StaffSalaryTable","staff_salary","width","onInputChange","PackageTable","handleEdit","handleOpenModal","soLuong","soLuongXuat","tonKho","description","ProductListTable","onEdit","chiet_khau","ChamCongTable","handleChamCong","sang","chieu","counts_sang","counts_chieu","checked","num","ngay_cong_sang","ngay_cong_chieu","today","defaultChecked","cham_cong","Table","column","colored","backgroundColor","color","FullSearchBox","placeholder","onClose","undefined","autocomplete_data","to","PackageHeader","sidebar_visible","searching","onSearchKeyPress","isMobile","FormModal","loading","is_open","stopPropagation","children","onRemove","sidebarItems","isHeader","icon","path","customers","spending","isDivider","services","total_analytics","realtime_analytics","trash","BranchSelect","useState","setBranch","setFBranch","branchSelected","setBranchSelected","dropdownVisible","setDropdownVisible","useRef","useEffect","JSON","parse","handleSelectBrach","branchId","branchList","branchSelectedData","find","b","branchCode","fBranch","charAt","toUpperCase","handleCloseDropdown","htmlFor","branchSelectedTemp","currentTarget","splice","stringify","branchSelectBoxChange","SideBar","pathname","setLocation","userPermission","setUserPermission","minimize","setMinimize","companySlug","setCompanySlug","permCheck","keys","permIndex","values","SubscriptionCard","price","strikePrice","save","subscribed","PaperCard","CustomerFilterDropDown","visible","onFilter","Function","onHideDropDown","dropdownRef","handleClickOut","default","FilterDropDown","handleClick","billFilter","goi_chup_data","last_filter","typeId","Array","val","handleSalaryFilter","bind","handleFilter","HeaderBar","handleShowFilterDropdown","setTimeout","filter_dropdown_visible","handleHideFilterDropdown","handleSearch","onDownload","onDropdownFilterBtnClick","SettingsHeader","DefaultHeaderBar","back_link","onGoBack","opacity","fontSize","fontWeight","marginRight","customTitle","actions","onCustomerFilter","onDropdownFilterSalaryBtnClick","goHistory","create_btn_link","handleCreate","handleAddProduct","handlePrintBill","handleRestore","handleRemove","handleCalendarFilter","BillTableContainer","isDelete","dat_coc_1","thanh_toan_l1_1","thanh_toan_l2_1","thanh_toan_l3_1","SpendingTableAnalytics","margin","ngay_chi","noi_dung","so_tien","StaffTable","AnalyticsTable","daThu","daThuToday","Home","search_value","typingTimeout","clearTimeout","self","typing","search","sort","filtered_data","toLowerCase","handleDownloadBills","rowsData","excelFile","filename","blob","Blob","createElement","setAttribute","URL","createObjectURL","body","appendChild","click","removeChild","default_bill_data","SalaryTableCard","history","AnalyticsCard","cursor","chuyen_khoan_num","tien_mat_num","dia_chi_vi","ProductCard","sub_title","background","image","Products","Logout","componentWillUnmount","handleLogout","StaffSalaryForm","handleLoadBonus","dich_vu_data","redirect","tong_doanh_thu","thuong_dich_vu","tong_thuong","SalaryTableCalculate","permisisons","StaffEdit","staff_form","saveStaff","params","goBack","Backup","formData","FormData","backupFile","files","append","PackageScreen","modal_is_open","edit_modal_is_open","data_goi_chup","goi_chup_type_id","edit_id","localeCompare","handleOpenEditModal","reverse","updateData","prevProps","rows","BillEditScreen","fetchPackages","packages","goiChup","defaultPackages","productTonKhoCount","handleSaveOnclick","product_list_form","bill_form","warn","bill_data","handleSubmit","assign","product_data","is_editting","editing_id","print_bill","handleOpenAddProductModal","is_modal_open","handleOpenEditProductModal","giam_gia_san_pham","ten_san_pham","so_luong_san_pham","handleClearProductForm","handleSaveProduct","handleRemoveProduct","data_2","changeProductSlug","p","edit_data","is_edit_modal_open","user_edited_name","billData","marginTop","marginLeft","productAdded","min","count","BillPrintScreen","setData","isPrinting","setIsPrinting","billRef","billRes","handleSaveImage","html2canvas","canvas","toDataURL","link","padding","textDecoration","textAlign","marginBottom","whiteSpace","print","HistoryCode","TimeLine","BillHistoryScreen","useParams","histories","setHistories","historySelected","setHistorySelected","users","setUsers","setStatus","branches","setBranches","author","valueEx","mapVal","findKey","valKey","valMap","extractValue","keyPassed","rowK","compare","time1","time2","CalendarHeader","onNavigate","CalendarBlock","events","onBlockClick","CalendarActionButtons","LavenCalendar","componentDidMount","handleFocusBlock","onClickDate","date_check","events_num","PermissionModal","onCreateNew","handleCloseModal","PermissionEditModal","permissions","CalendarModal","class","MobileCalendarModal","CalendarScreen","onUpdate","gioi_tinh","event_data","onAdd","handleEventClick","modal_visible","modal_data","modal_date","old_events","m_modal_visible","m_modal_data","TABLE_COLUMNS","CustomerScreen","searchValue","tenKhachHang","soDienThoai","filterMonth","filterYear","tenKhCheckTemp","kh","phoneNumber","_handleDownloadList","SpendingScreen","data_spending","user","nguoi_chi","total_money","money","wallet_address","alert","to_wallet","payment_type","paddingTop","TotalAnalyticScreen","handleChangeFromDate","fromDate","handleChangeToDate","toDate","total_num","total_da_thu_chuyen_khoan","total_da_thu_tien_mat","total_da_thu","total_con_no","chartData","dc","dt","startDate","endDate","list","photos","filter_by_attributes","total_bill","total_da_thu_ck","total_da_thu_tm","daThuCk","daThuTm","startDay","handleDateTotalFilter","LineChart","height","Line","dataKey","stroke","strokeWidth","CartesianGrid","strokeDasharray","XAxis","Tooltip","RevenueScreen","total_spending","total_spending_chuyen_khoan","total_spending_tien_mat","start_date","end_date","spending_data","total_con_giu","total_con_giu_chuyen_khoan","total_con_giu_tien_mat","is_spending","filter_all","total_spending_ck","total_spending_tm","thuTm","thuCk","thuToday","tt","totalThu","total_con_giu_ck","total_con_giu_tm","spending_analytics","SignupScreen","emailRef","passwordRef","nameRef","companyNameRef","companyAddressRef","companyPhoneRef","signupMsg","setSignupMsg","isLoggedIn","setIsLoggedIn","_handleSignup","companyAddress","companyPhone","flexDirection","alignItems","justifyContent","gap","LoginScreen","loginMsg","setLoginMsg","_handleLogin","SettingScreen","backup","transaction_management","TabBar","handleChangeTab","tab_active","onChangeTab","TabContentContainer","empty","onTickBox","PermissionScreen","onTabChange","tab_data","handleOpenCreateModal","handleTickBox","permission_data","element_data","handleUpdate","user_perms","handleUpdateData","BranchScreen","handleChangeColor","StaffEditScreen","StaffSalaryScreen","default_salary_data","salary_calc_data","s_data","StaffScreen","TrashScreen","PersonnelScreen","ChamCongListScreen","redirectId","ChamCongManagementScreen","ChamCongScreen","StatusScreen","SubscriptionScreen","subscriptions","setSubscriptions","setSubscribed","handleSubscribe","open","payUrl","onbeforeunload","discount","TransactionManage","transactions","setTransactions","transactionSelected","setTransactionSelected","initSocket","handleConfirm","ProfileView","setUser","salary","setSalary","salaryTable","setSalaryTable","modalVisible","setModalVisible","oldPasswordRef","handleChangePassword","CloseTransactionScreen","close","TransactionSuccessScreen","FeatureNotAvaiErrorScreen","paddingLeft","position","features","available","limit","AdminSubscriptionScreen","mo_ta","phan_tram_giam","thoi_gian","duration","feature","ele","phanTramGiam","handleFeatureSave","PrivateRoute","component","rest","render","Version","Main","exact","SalaryEdit","App","ReactDOM","basename","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ac00e399.chunk.js","sourcesContent":["import * as XLSX from 'xlsx';\n\nclass Excel {\n    //*Create CSV\n    static createCSV = (columns=[], data=[]) => {\n        let csv = '';\n\n        //Crete columns\n        csv += columns.join(\",\");\n\n        //Create rows\n        data.forEach(item => {\n            csv += `\\n` + item.join(\",\");\n        });\n\n        return csv;\n    }\n\n    //*CSV to Excel Buffer\n    static csvToBuffer = (csv) => {\n        const arrayOfArrayCsv = csv.split(\"\\n\").map(row => {\n            return row.split(\",\")\n        });\n        const wb = XLSX.utils.book_new();\n        const newWs = XLSX.utils.aoa_to_sheet(arrayOfArrayCsv);\n        XLSX.utils.book_append_sheet(wb, newWs);\n        const rawExcel = XLSX.write(wb, { type: 'base64' })\n        return rawExcel\n    }\n\n    //*Create Excel\n    static createExcel = (columns=[], data=[]) => {\n        //* Convert to CSV;\n        let csv = Excel.createCSV(columns, data);\n        let excelBuffer = Excel.csvToBuffer(csv);\n\n        return Buffer.from(excelBuffer, 'base64');\n    }\n}\n\nexport default Excel;","module.exports = __webpack_public_path__ + \"static/media/Logo.cac831bc.png\";","//*DATE FORMAT\nObject.defineProperty(Date.prototype, 'format', {\n    value: function (format) {\n        let date = this;\n        let dateFormated = format;\n\n        let dateNow = date.getDate();\n        if(dateNow <= 9) dateNow = '0' + dateNow;\n\n        let monthNow = date.getMonth() + 1;\n        if(monthNow <= 9) monthNow = '0' + monthNow;\n\n        let yearNow = date.getFullYear();\n\n        dateFormated = dateFormated.replaceAll(\"dd\", dateNow.toString());\n        dateFormated = dateFormated.replaceAll(\"MM\", monthNow);\n        dateFormated = dateFormated.replaceAll(\"yyyy\", yearNow);\n\n        return dateFormated;\n    }\n});\n\n//*GET AGE\nObject.defineProperty(Date.prototype, 'getAge', {\n    value: function() {\n        var ageDifMs = Date.now() - this.getTime();\n        var ageDate = new Date(ageDifMs); // miliseconds from epoch\n        return Math.abs(ageDate.getUTCFullYear() - 1970);\n    }\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const HTTP_ERRORS = {\n    LIMIT_EXCEEDED: \"Bạn đã vượt quá số lượng cho phép\",\n    SUBSCRIPTION_EXPIRED: \"Gói dịch vụ của bạn đã hết hạn\",\n};\n\nexport default HTTP_ERRORS;","import HTTP_ERRORS from \"./httpErrors\";\n\nconst DEBUG = false;\nconst IO_URL = DEBUG ? 'http://localhost:9006' : 'https://server.stumanage.lavenes.com';\nconst API_URL = DEBUG ? 'http://localhost:9006' : 'https://server.stumanage.lavenes.com';\nconst API_VER = '/api/v1';\n\nconst CONFIG = {\n    DEBUG,\n    IO_URL,\n    API_URL,\n    API_VER,\n    API: `${API_URL}${API_VER}`,\n    HEADERS: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n    },\n    COLORS: {\n        \"blue\": \"#3880ff\",\n        \"green\": \"#33b127\",\n        \"orange\": \"#ffa500\",\n        \"yellow\": \"#ffc409\",\n        \"red\": \"#eb445a\",\n        \"black\": \"#414141\",\n        \"gray\": \"#888\"\n    },\n    APP_VERSION: \"4.9.3 🧧\",\n    HTTP_ERRORS: HTTP_ERRORS\n}\n\nexport const generateApiHeader = () => {\n    return {\n        ...CONFIG.HEADERS,\n        user_id: localStorage.getItem('user_id') || \"\",\n        company_id: localStorage.getItem('company_id') || \"\",\n        Authorization: localStorage.getItem('JWT') ? `Bearer ${localStorage.getItem('JWT')}` : \"\",\n    }\n}\n\nexport default CONFIG;","import CONFIG, {generateApiHeader} from \"@config\";\nimport axios from 'axios';\nimport API from '@api';\n\nconst UserAPI = {\n    auth: async (email, password) => {\n        const response = await axios.post(`${CONFIG.API}/staffs/auth`,{\n            email,\n            password\n        }, {\n            headers: generateApiHeader()\n        });\n        \n        return response.data;\n    },\n    verifyToken: async() => {\n        const response = await axios.get(`${CONFIG.API}/staffs/verify_token`, {\n            headers: generateApiHeader()\n        }).then(res => {\n            let data = res.data.data;\n            localStorage.setItem(\"chuc_vu\", data.perm);\n            localStorage.setItem(\"ho_ten\", data.ho_ten);\n            localStorage.setItem(\"email\", data.email);\n            localStorage.setItem(\"user_id\", data._id);\n            localStorage.setItem(\"company_id\", data.company_id);\n            localStorage.setItem(\"logged_time\", new Date().toISOString());\n            localStorage.setItem(\"authed\", true);\n            localStorage.setItem('ten_chuc_vu', \"\");\n            localStorage.setItem(`${data.company_slug}_JWT`, data.accessToken);\n\n            return res;\n        }).catch(e => {\n            if(localStorage.getItem(\"JWT\")) {\n                localStorage.clear();\n                window.location.reload();\n            }\n        });\n        \n        return response?.data;\n    },\n    verifyLoggedTime: async() => { //Auto Logout at morning and noon\n        let noonHour = 12;\n\n        let dateNow = new Date();\n        let loggedTime = new Date(localStorage.getItem(\"logged_time\"));\n\n        let flag = false;\n\n        if(localStorage.getItem(\"logged_time\")) {\n            if(loggedTime.getDate() != dateNow.getDate()) { //Morning\n                flag = true;\n            }else if(loggedTime.getHours() < noonHour && dateNow.getHours() >= noonHour) { //Noon\n                flag = true;\n            }\n        }\n\n        if(flag) {\n            localStorage.clear();\n            window.location.href = \"/\";\n        };\n    },\n    chamCong: async() => {\n        await API.ChamCong.chamCong(localStorage.getItem(\"user_id\"));\n    }\n}\n\nexport default UserAPI;","import CONFIG from \"@config\";\nimport axios from 'axios';\n\nconst CompanyAPI = {\n    add: async (companyName, address, phone, name, email, password) => {\n        const response = await axios.post(`${CONFIG.API}/companies`, {\n            ten_cong_ty: companyName,\n            dia_chi: address,\n            so_dien_thoai: phone,\n            ho_ten: name,\n            email: email,\n            password: password\n        }, {\n            headers: CONFIG.HEADERS\n        });\n\n        console.log(response.data);\n        \n        return response.data;\n    },\n}\n\nexport default CompanyAPI;","import { NotificationManager } from \"react-notifications\";\nimport CONFIG from \"@config\";\n\nconst ERRS = CONFIG.HTTP_ERRORS;\n\nclass Alert {\n    static _successTimeOut = 2000;\n\n    static success(message) {\n        NotificationManager.success(message, \"Thành công\", this._successTimeOut);\n    }\n\n    static error(message) {\n        NotificationManager.error(ERRS[message] || message, \"Lỗi\", this._successTimeOut);\n    }\n\n    static info(title, message, onClick=()=>{}) {\n        NotificationManager.info(message, title, this._successTimeOut, onClick);\n    }\n\n    static warn(message, onClick=()=>{}) {\n        NotificationManager.warning(message, \"Cảnh báo\", this._successTimeOut, onClick);\n    }\n}\n\nexport default Alert;","import CONFIG, {generateApiHeader} from \"@config\";\nimport axios from 'axios';\nimport Alert from '@utils/Alert';\n\nclass Axios {\n    static async post(url, data, headers) {\n        const response = await axios.post(`${CONFIG.API}/${url}`, data, {\n            headers: {\n                ...headers,\n                ...generateApiHeader()\n            }\n        });\n\n        if(response.data.code !== 200) {\n            Alert.error(response.data.message);\n            throw new Error(response.data.message);\n        }\n\n        Alert.success(\"Thêm thành công!\");\n\n        return response.data;\n    }\n\n    static async get(url, headers) {\n        const response = await axios.get(`${CONFIG.API}/${url}`, {\n            headers: {\n                ...headers,\n                ...generateApiHeader()\n            }\n        });\n\n        if(response.data.code !== 200) {\n            Alert.error(response.data.message);\n            this.checkRedirect(response.data.message);\n\n            throw new Error(response.data.message);\n        }\n\n        return response.data;\n    }\n\n    static async put(url, data, headers) {\n        const response = await axios.put(`${CONFIG.API}/${url}`, data, {\n            headers: {\n                ...headers,\n                ...generateApiHeader()\n            }\n        });\n\n        if(response.data.code !== 200) {\n            Alert.error(response.data.message);\n            throw new Error(response.data.message);\n        }\n\n        Alert.success(\"Cập nhật thành công!\");\n\n        return response.data;\n    }\n\n    static async delete(url, headers) {\n        const response = await axios.delete(`${CONFIG.API}/${url}`, {\n            headers: {\n                ...headers,\n                ...generateApiHeader()\n            }\n        });\n\n        if(response.data.code !== 200) {\n            Alert.error(response.data.message);\n            throw new Error(response.data.message);\n        }\n\n        Alert.success(\"Xoá thành công!\");\n\n        return response.data;\n    }\n\n    static async checkRedirect(errorMsg) {\n        let urlHash = window.location.hash;\n        let originHash = `#/${urlHash.split('/')[1]}`;\n\n        switch(errorMsg) {\n            case \"FEATURE_NOT_AVAILABLE\" : {\n                originHash = `${originHash}/errors/feature_not_available`;\n            }\n            break;\n            default:\n                break;\n        }\n\n        window.location.hash = originHash;\n    }\n}\n\nexport default Axios;","import Axios from '@api/Axios';\n\nconst BranchAPI = {\n    add: async(data) => await Axios.post('branches', data),\n    get: async(id) => await Axios.get(`branches/${id}`),\n    getAll: async() => await Axios.get(`branches`),\n    update: async(id, data) => await Axios.put(`branches/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`branches/${id}`),\n}\n\nexport default BranchAPI;","class BillSocket {\n    socket;\n    companyId;\n\n    constructor(socket, companyId) {\n        this.socket = socket;\n        this.companyId = companyId;\n    }\n    \n    //*EMITS\n    emitAdd(data) {\n        return this.socket.emit(`/client/bills/add`, {\n            ...data,\n            company_id: this.companyId\n        });\n    }\n    \n    emitUpdate(data) {\n        return this.socket.emit('/client/bills/update', {\n            ...data,\n            company_id: this.companyId\n        });\n    }\n    \n    emitRemove(id) {\n        return this.socket.emit(`/client/bills/remove`, {\n            id,\n            company_id: this.companyId\n        });\n    }\n\n    //*LISTENERS\n    onAdd(callback) {\n        this.socket.on(`/server/bills/add`, callback);\n    }\n\n    onUpdate(callback) {\n        this.socket.on(`/server/bills/update`, callback);\n    }\n\n    onRemove(callback) {\n        this.socket.on(`/server/bills/remove`, callback);\n    }\n}\n\nexport default BillSocket;","class CompaySocket {\n    socket;\n    companyId;\n\n    constructor(socket) {\n        this.socket = socket;\n    }\n}\n\nexport default CompaySocket;","class SpendingSocket {\n    socket;\n    companyId;\n\n    constructor(socket, companyId) {\n        this.socket = socket;\n        this.companyId = companyId;\n    }\n    \n    //*EMITS\n    emitAdd(data) {\n        return this.socket.emit(`/client/spendings/add`, {\n            ...data,\n            company_id: this.companyId\n        });\n    }\n    \n    emitUpdate(data) {\n        return this.socket.emit('/client/spendings/update', {\n            ...data,\n            company_id: this.companyId\n        });\n    }\n    \n    emitRemove(id) {\n        return this.socket.emit(`/client/spendings/remove`, {\n            id,\n            company_id: this.companyId\n        });\n    }\n\n    //*LISTENERS\n    onAdd(callback) {\n        this.socket.on(`/server/spendings/add`, callback);\n    }\n\n    onUpdate(callback) {\n        this.socket.on(`/server/spendings/update`, callback);\n    }\n\n    onRemove(callback) {\n        this.socket.on(`/server/spendings/remove`, callback);\n    }\n}\n\nexport default SpendingSocket;","import socketIOClient from 'socket.io-client';\nimport config from '@config';\n\nimport BillSocket from './Bill';\nimport CompanySocket from './Company';\nimport SpendingSocket from './Spending';\n\nclass Socket {\n    socket;\n    companyId;\n    userId;\n\n    constructor() {\n        this.socket = socketIOClient(config.IO_URL);\n\n        //Join company\n        this.companyId = localStorage.getItem('company_id');\n        let accessToken = localStorage.getItem(\"JWT\");\n        this.socket.emit('/company/join', {\n            access_token: accessToken\n        });\n    }\n\n    Bill() {\n        return new BillSocket(this.socket, this.companyId);\n    }\n\n    Company() {\n        return new CompanySocket(this.socket);\n    }\n\n    Spending() {\n        return new SpendingSocket(this.socket, this.companyId);\n    }\n}\n\nexport default Socket;","import Axios from '@api/Axios';\nimport Socket from '@socket';\n\nconst socket = new Socket();\n\nconst SpendingAPI = {\n    add: async(data) => {\n        await Axios.post('spendings', data).then(res => {\n            socket.Spending().emitAdd(data);\n\n            return res.data;\n        }).catch(e => {\n            throw new Error(e);\n        })\n    },\n    get: async(id) => await Axios.get(`spendings/${id}`),\n    getAll: async() => await Axios.get(`spendings`),\n    update: async(id, data) => await Axios.put(`spendings/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`spendings/${id}`),\n    confirm: async(id, type) => await Axios.post(`spendings/confirm/${id}`, { type }),\n}\n\nexport default SpendingAPI;","import Socket from '@socket';\nimport Axios from '@api/Axios';\n\nconst socket = new Socket();\n\nconst BillAPI = {\n    add: async(data) => {\n        let res = await Axios.post('bills', data);\n        socket.Bill().emitAdd(data);\n\n        return res.data;\n    },\n    get: async(id) => await Axios.get(`bills/${id}`),\n    download: async() => await Axios.get(`bills/download`),\n    getAll: async() => await Axios.get(`bills`),\n    update: async(id, data) => {\n        await Axios.put(`bills/${id}`, data).then(res => {\n            socket.Bill().emitUpdate({\n                _id: id,\n                ...data\n            });\n\n            return res.data;\n        }).catch(e => {\n            throw new Error(e);\n        })\n    },\n    remove: async(id) => {\n        await Axios.delete(`bills/${id}`).then(res => {\n            socket.Bill().emitRemove(id);\n\n            return res.data;\n        }).catch(e => {\n            throw new Error(e);\n        });\n    },\n}\n\nexport default BillAPI;","import Axios from '@api/Axios';\n\nconst PackageTypeAPI = {\n    add: async(data) => await Axios.post('package_types', data),\n    get: async(id) => await Axios.get(`package_types/${id}`),\n    getSlug: async(slug) => await Axios.get(`package_types/slug/${slug}`),\n    getAll: async() => await Axios.get(`package_types`),\n    update: async(id, data) => await Axios.put(`package_types/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`package_types/${id}`),\n}\n\nexport default PackageTypeAPI;","import Axios from '@api/Axios';\n\nconst PackageAPI = {\n    add: async(data) => await Axios.post('packages', data),\n    get: async(id) => await Axios.get(`packages/${id}`),\n    getType: async(type) => await Axios.get(`packages/type/${type}`),\n    getAll: async() => await Axios.get(`packages`),\n    update: async(id, data) => await Axios.put(`packages/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`packages/${id}`),\n}\n\nexport default PackageAPI;","import Axios from '@api/Axios';\n\nconst StatusAPI = {\n    add: async(data) => await Axios.post('status', data),\n    get: async(id) => await Axios.get(`status/${id}`),\n    getAll: async() => await Axios.get(`status`),\n    update: async(id, data) => await Axios.put(`status/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`status/${id}`),\n}\n\nexport default StatusAPI;","import UserAPI from './User';\n\nimport CompanyAPI from './Company';\nimport BranchAPI from './Company/Branch';\nimport SpendingAPI from './Company/Spending';\n\nimport BillAPI from './Bill';\nimport PackageTypeAPI from './Bill/PackageType';\nimport PackageAPI from './Bill/Package';\nimport StatusAPI from './Bill/Status';\nimport BillHistoryAPI from './Bill/History';\n\nimport PermissionAPI from './Permission';\nimport StaffAPI from './Staff';\nimport StaffSalaryAPI from './Staff/Salary';\nimport ChamCongAPI from './Staff/ChamCong';\nimport SubscriptionAPI from './Subscription';\n\nconst API = {\n    User: UserAPI,\n\n    Company: CompanyAPI,\n    Branch: BranchAPI,\n    Spending: SpendingAPI,\n\n    Bill: BillAPI,\n    BillHistories: BillHistoryAPI,\n    PackageType: PackageTypeAPI,\n    Package: PackageAPI,\n    Status: StatusAPI,\n\n    Permission: PermissionAPI,\n    Staff: StaffAPI,\n    StaffSalary: StaffSalaryAPI,\n    ChamCong: ChamCongAPI,\n    Subscription: SubscriptionAPI\n}\n\nexport default API;","import Socket from '@socket';\nimport Axios from '@api/Axios';\n\nconst socket = new Socket();\n\nconst BillHistoryAPI = {\n    restore: async(id) => await Axios.get(`bill_histories/restore/${id}`),\n    getAll: async(id) => await Axios.get(`bill_histories/${id}`),\n    get: async(billId, id) => await Axios.get(`bill_histories/${billId}/${id}`),\n}\n\nexport default BillHistoryAPI;","import Axios from '@api/Axios';\n\nconst PermissionAPI = {\n    add: async(ten_nhom) => await Axios.post('permissions', {ten_nhom}),\n    get: async(id) => await Axios.get(`permissions/${id}`),\n    getUserPerm: async() => await Axios.get(`permissions/${localStorage.getItem('chuc_vu')}`),\n    getAll: async() => await Axios.get(`permissions`),\n    update: async(id, data) => await Axios.put(`permissions/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`permissions/${id}`),\n}\n\nexport default PermissionAPI;","import Axios from '@api/Axios';\n\nconst StaffAPI = {\n    add: async(data) => await Axios.post('staffs', data),\n    get: async(id) => await Axios.get(`staffs/${id}`),\n    getAll: async() => await Axios.get(`staffs`),\n    update: async(id, data) => await Axios.put(`staffs/${id}`, data),\n    updatePassword: async(oldPassword, password) => await Axios.post(`staffs/update_password`, { oldPassword, password }),\n    remove: async(id) =>  await Axios.delete(`staffs/${id}`),\n}\n\nexport default StaffAPI;","import Axios from '@api/Axios';\n\nconst StaffSalaryAPI = {\n    add: async(data) => await Axios.post('salaries', data),\n    get: async(id) => await Axios.get(`salaries/${id}`),\n    getUser: async (id) => await Axios.get(`salaries/user/${id}`),\n    getAll: async() => await Axios.get(`salaries`),\n    update: async(id, data) => await Axios.put(`salaries/${id}`, data),\n    remove: async(id) =>  await Axios.delete(`salaries/${id}`),\n}\n\nexport default StaffSalaryAPI;","import Axios from '@api/Axios';\n\nconst ChamCongAPI = {\n    add: async(data) => await Axios.post('cham_cong', data),\n    get: async(id, month, year) => await Axios.get(`cham_cong/${id}/${month}/${year}`),\n    getUser: async(month, year) => await Axios.get(`cham_cong/${localStorage.getItem('user_id')}/${month}/${year}`),\n    chamCong: async userId => await Axios.post(`cham_cong/${userId}/today`),\n    getAll: async() => await Axios.get(`cham_cong`),\n    update: async(data) => await Axios.put(`cham_cong/${data.user_id}/${data.month}/${data.year}`, data),\n    remove: async(id) =>  await Axios.delete(`cham_cong/${id}`),\n}\n\nexport default ChamCongAPI;","import CONFIG, {generateApiHeader} from \"@config\";\nimport axios from 'axios';\nimport Axios from '@api/Axios';\n\nconst SubscriptionAPI = {\n    subscribe: async (id) => {\n        const response = await axios.post(`${CONFIG.API}/subscriptions/subscribe/${id}`,{}, {\n            headers: generateApiHeader()\n        });\n        \n        return response.data;\n    },\n    createTransaction: async(id) => Axios.post(`subscriptions/create_transaction`, {\n        subscription: id\n    }),\n    getCompany: async() => {\n        const response = await axios.get(`${CONFIG.API}/subscriptions/get_company`,{\n            headers: generateApiHeader()\n        });\n        \n        return response.data;\n    },\n    getAll: async() => {\n        const response = await axios.get(`${CONFIG.API}/subscriptions`,{\n            headers: generateApiHeader()\n        });\n        \n        return response.data;\n    },\n    get: async(id) => Axios.get(`subscriptions/${id}`),\n    add: async(data) => Axios.post(`subscriptions`, data),\n    update: async(id, data) => Axios.put(`subscriptions/${id}`, data),\n    remove: async(id) => Axios.delete(`subscriptions/${id}`)\n}\n\nexport default SubscriptionAPI;","import React, {Component} from 'react';\nimport API from '@api';\n\nimport \"@styles/components/Forms.scss\";\n\nexport class StaffForm extends Component {\n    constructor(props) {\n        super(props);\n\n        let ngay_sinh = this.props.data ? this.props.data.ngay_sinh ? this.props.data.ngay_sinh.split(\"T\")[0] : null : null;\n        ngay_sinh = ngay_sinh ? ngay_sinh.split(\"-\") : null;\n        ngay_sinh = ngay_sinh ? ngay_sinh[0].length == 2 ? ngay_sinh[0] + '-' + ngay_sinh[1] + '-' + ngay_sinh[2] : ngay_sinh[2] + '-' + ngay_sinh[1] + '-' + ngay_sinh[0] : null;\n\n        this.state = {\n            chuc_vu: null,\n            date: ngay_sinh\n        }\n\n        API.Permission.getAll().then(res => {\n            this.setState({\n                chuc_vu: res.data\n            })\n        });\n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            ho_ten: this.refs.ho_ten.value,\n            ngay_sinh: new Date().toISOString(),\n            so_dien_thoai: this.refs.so_dien_thoai.value,\n            perm:this.refs.chuc_vu.value,\n            luong_co_ban: this.refs.luong_co_ban.value,\n            email: this.refs.email.value,\n            password: this.refs.password.value,\n            banking_address: this.refs.banking_address.value\n        }\n\n        this.props.onSave(data);\n    }\n\n    render() {\n        if(!this.state.chuc_vu) {\n            return <div></div>\n        }\n\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Họ Tên</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ho_ten : \"\"} ref=\"ho_ten\" type=\"text\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số Điện Thoại</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_dien_thoai : \"\"} ref=\"so_dien_thoai\" type=\"number\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Người Dùng</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.email : \"\"} ref=\"email\" type=\"text\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">TK Ngân Hàng</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.banking_address : \"\"} ref=\"banking_address\" type=\"text\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Mật khẩu</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.password : \"\"} ref=\"password\" type=\"password\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Chức Vụ</span>\n                        <select ref=\"chuc_vu\" defaultValue={this.props.data ? this.props.data.perm : 0}>\n                            {this.state.chuc_vu.map((data, i) => {\n                                return (<option value={data._id.toString()}>{data.ten_nhom}</option>)\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Cơ Bản</span>\n                        <input className=\"textbox\" ref=\"luong_co_ban\" defaultValue={this.props.data ? this.props.data.luong_co_ban ? this.props.data.luong_co_ban : 0 : 0} type=\"number\"/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport \"./styles.scss\";\nimport {IoChevronBack, IoChevronForward} from 'react-icons/io5';\n\n//Lấy ngày trong tháng\nfunction getDaysInMonth(month, year, callback) {\n    let months = parseInt(month) - 1;\n    var date = new Date(year, months, 1);\n    var days = [];\n    while (date.getMonth() === months) {\n      days.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n    return callback(days);\n  }\n\n//Xây dựng lịch tháng\nfunction calendar(month, year, callback) {\n    let daysOfMonth = []\n    getDaysInMonth(month, year, (res) => {\n        //Thêm số 0 vào các ngày trống\n        for(var i = 1; i < res[0].getDay(); i++) {\n            daysOfMonth.push(0)\n        }\n\n        //Nếu ngày đầu tiên rơi vào CN\n        if(res[0].getDay() === 0) daysOfMonth = [0,0,0,0,0,0];\n\n        //Thêm ngày vào mảng\n        for(const date of res) {\n            daysOfMonth.push(date.getDate());\n        }\n\n        //Thêm số 0 vào các ngày trống ở cuối\n        for(var i = res[res.length - 1].getDay();i <= 6; i++) {\n            daysOfMonth.push(0)\n        }\n    \n        return callback({date: daysOfMonth, month: month, year: year});\n    })\n}\n\nlet year_data = [];\n\nfor(var i = (new Date().getFullYear() - 20); i <= (new Date().getFullYear() + 20); i++) {\n    year_data.push(i);\n}\n\nexport class LavenDatePicker extends Component {\n    constructor(props) {\n        super(props);\n\n        let format = this.props.format;\n        let date = this.props.date ? this.props.date.split(\"-\") : null;\n        const hasDate = format.indexOf(\"DD\") > -1 ? true : false;\n        const hasMonth = format.indexOf(\"MM\") > -1 ? true : false;\n        const hasYear = format.indexOf(\"YYYY\") > -1 ? true : false;\n        \n        format = this.props.format.split(\"-\");\n        let dates = hasDate ? date ? parseInt(date[format.indexOf(\"DD\")]) : -1 : -1;\n        let month = hasMonth ? date ? parseInt(date[format.indexOf(\"MM\")]) : -1 : -1;\n        let year = hasYear ? date ? parseInt(date[format.indexOf(\"YYYY\")]) : -1 : -1;\n\n        this.state = {\n            is_visible: false,\n            calendar_data: null,\n            date: dates !== -1 ? dates : new Date().getDate(),\n            month: month !== -1 ? month : new Date().getMonth() + 1,\n            year: year !== -1 ? year : new Date().getFullYear(),\n            focus_date: dates,\n            focus_month: month,\n            focus_year: year,\n            year_data: year_data,\n            tab: hasDate ? 0 : hasMonth ? 1 : 2,\n            month_data: [1,2,3,4,5,6,7,8,9,10,11,12]\n        }\n\n        this.wrapperRef = React.createRef();\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n        this.handleUpdateCalendar(this.state.month, this.state.year)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleUpdateCalendar = (month, year) => {\n        calendar(month, year, (result) => {\n            this.setState({\n                calendar_data: result.date,\n                month: result.month,\n                year: result.year\n            })\n        });\n    }\n\n    //NEXT & PREV MONTH\n    handleNavigate = (type) => {\n        if(type === 'next') {\n            if(this.state.month === 12) {\n                this.setState({\n                    month: 1,\n                    focus_month: 1,\n                    year: parseInt(this.state.year) + 1,\n                    focus_year: parseInt(this.state.year) + 1\n                })\n\n                this.handleUpdateCalendar(1, parseInt(this.state.year) + 1);\n                this.handleChange(this.state.date, 1, parseInt(this.state.year) + 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) + 1,\n                    focus_month: parseInt(this.state.month) + 1\n                })\n\n                this.handleUpdateCalendar(parseInt(this.state.month) + 1, this.state.year);\n                this.handleChange(this.state.date, parseInt(this.state.month) + 1, this.state.year);\n            }\n        }else {\n            if(this.state.month === 1) {\n                this.setState({\n                    month: 12,\n                    focus_month: 12,\n                    year: parseInt(this.state.year) - 1,\n                    focus_year: parseInt(this.state.year) - 1\n                })\n\n                this.handleUpdateCalendar(12, parseInt(this.state.year) - 1);\n                this.handleChange(this.state.date, 12, parseInt(this.state.year) - 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) - 1,\n                    focus_month: parseInt(this.state.month) - 1\n                })\n\n                this.handleUpdateCalendar(parseInt(this.state.month) - 1, this.state.year);\n                this.handleChange(this.state.date, parseInt(this.state.month) - 1, this.state.year);\n            }\n        }\n    } \n\n    //FOCUS DATE\n    handleFocusDate = (date) => {\n        if(date !== 0) {\n            this.setState({\n                focus_date: date,\n                date: date,\n                is_visible: false\n            })\n            this.handleChange(date, this.state.month, this.state.year);\n        }\n    }\n\n    //FOCUS MONTH\n    handleFocusMonth = (month) => {\n        this.setState({\n            focus_month: month,\n            month: month,\n            is_visible: false\n        })\n\n        this.handleUpdateCalendar(month, this.state.year);\n        this.handleChange(this.state.date, month, this.state.year);\n    }\n\n    //FOCUS YEAR\n    handleFocusYear = (year) => {\n        this.setState({\n            focus_year: year,\n            year: year,\n            is_visible: false\n        })\n\n        this.handleUpdateCalendar(this.state.month, year);\n        this.handleChange(this.state.date, this.state.month, year);\n    }\n\n    //ONCHANGE\n    handleChange = (date, month, year) => {\n        let date_str = this.props.format;\n        date_str = date_str.replace(/DD/g, date <= 9 ? '0' + date : date);\n        date_str = date_str.replace(/MM/g, month <= 9 ? '0' + month : month);\n        date_str = date_str.replace(/YYYY/g, year);\n    \n        this.props.onChange(date_str);\n    }\n\n    //CLICK OUTSIDE POPUP\n    handleClickOutside = (event) => {\n        if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n            this.setState({\n                is_visible: false\n            })\n        }\n    }\n\n    render() {\n        if(!this.state.calendar_data || !this.state.year_data) {\n            return <div></div>\n        }\n\n        const format = this.props.format;\n        const hasDate = format.indexOf(\"DD\") > -1 ? true : false;\n        const hasMonth = format.indexOf(\"MM\") > -1 ? true : false;\n        const hasYear = format.indexOf(\"YYYY\") > -1 ? true : false;\n        \n        return(\n            <div className=\"laven date_picker\" style={this.props.style}>\n                <input className={this.props.className} value={this.props.date} onClick={() => this.setState({is_visible: true})} readOnly disabled={this.props.disabled}/>\n                \n                <div className=\"date_picker_popup\" style={{display: this.state.is_visible ? 'block' : 'none'}} ref={this.wrapperRef}>\n                    <div className=\"control_container\">\n                        <button className=\"control prev\" onClick={() => this.handleNavigate('prev')}><IoChevronBack className=\"icon\"/></button>\n                        {hasDate ? <span className={this.state.tab == 0 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 0})}>{this.state.date}</span> : null}\n                        {hasMonth ? <span className={this.state.tab == 1 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 1})}>Tháng {this.state.month}</span> : null}\n                        {hasYear ? <span className={this.state.tab == 2 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 2})}>{this.state.year}</span> : null }\n                        <button className=\"control next\" onClick={() => this.handleNavigate('next')}><IoChevronForward className=\"icon\"/></button>\n                    </div>\n\n                    {this.state.tab == 0 ?\n                        <div className=\"calendar_container\">\n                            <div className=\"calendar_header\">\n                                <div className=\"date\">Th 2</div>\n                                <div className=\"date\">Th 3</div>\n                                <div className=\"date\">Th 4</div>\n                                <div className=\"date\">Th 5</div>\n                                <div className=\"date\">Th 6</div>\n                                <div className=\"date\">Th 7</div>\n                                <div className=\"date\">CN</div>\n                            </div>\n                            <div className=\"calendar_dates\">\n                                {this.state.calendar_data.map((data, i) => {\n                                    return <div className={this.state.focus_date == data ? \"date focused\" : new Date().getDate() == data && (new Date().getMonth() + 1) == this.state.month && new Date().getFullYear() == this.state.year ? \"date active\" : \"date\"} onClick={() => this.handleFocusDate(data)} key={i}>{data !== 0 ? data : ''}</div>\n                                })}\n                            </div>\n                        </div> : null}\n\n                    {this.state.tab == 1 ? \n                        <div className=\"month_container\">\n                            <div className=\"calendar_months\">\n                                {this.state.month_data.map((month) => {\n                                    return <div className={this.state.focus_month == month ? \"month focused\" : (new Date().getMonth() + 1) == month ? \"month active\" : \"month\"} onClick={() => this.handleFocusMonth(month)}>{month}</div>\n                                })}\n                            </div>\n                        </div> : null}\n\n                    {this.state.tab == 2 ?\n                        <div className=\"year_container\">\n                            <div className=\"calendar_years\">\n                                {this.state.year_data.map((year) => {\n                                    return <div className={this.state.focus_year == year ? \"year focused\" : (new Date().getFullYear()) == year ? \"year active\" : \"year\"} onClick={() => this.handleFocusYear(year)}>{year}</div>\n                                })}\n                            </div> \n                        </div> : null}\n                </div>\n            </div>\n        )\n    }\n}","import API from \"@api\";\n\nconst DEBUG = true;\nconst TYPE = \"bienhoa\"; // vang || hethong || demo || bienhoa\nconst LINK = DEBUG ? `http://localhost:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : TYPE == 'bienhoa' ? 8007 : 8006}` : `http://server.mohome.vn:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : TYPE == 'bienhoa' ? 8007 : 8006}`;\n\nexport const APP_VERSION = \"3.20.50\"\nexport const APP_VERSION_LABEL = `Beta [ ${APP_VERSION} ]`\n\nfunction numberWithCommas(x) {\n    if(x) {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n\n    return 0;\n}\n\nfunction findWithAttr(array, attr, value) {\n    if(array) {\n        for (var i = 0; i < array.length; i += 1) {\n            if (array[i][attr] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n\n//ĐỔI ĐỊNH DẠNG NGÀY MỚI SANG CŨ\nexport const transDate = {\n    toOld: ((date) => {\n        let n_date = date.split(\"-\");\n        n_date = n_date[0].length == 2 ? n_date[2] + '-' + n_date[1] + '-' + n_date[0] : n_date[0] + '-' + n_date[1] + '-' + n_date[2]\n\n        return n_date;\n    }),\n    toNew: ((date) => {\n        let o_date = date.split(\"-\");\n        o_date = o_date[0].length == 2 ? o_date[0] + '-' + o_date[1] + '-' + o_date[2] : o_date[2] + '-' + o_date[1] + '-' + o_date[0]\n\n        return o_date;\n    })\n}\n\n//TÍNH TUỔI \nfunction getAge(fromdate){ \n    let todate= new Date(); \n\n    var age= [], fromdate= new Date(fromdate), \n    y= [todate.getFullYear(), fromdate.getFullYear()], \n    ydiff= y[0]-y[1], \n    m= [todate.getMonth(), fromdate.getMonth()], \n    mdiff= m[0]-m[1], \n    d= [todate.getDate(), fromdate.getDate()], \n    ddiff= d[0]-d[1]; \n\n    //if(mdiff < 0 || (mdiff=== 0 && ddiff<0))--ydiff; \n    if(mdiff<0) mdiff+= 12; \n    if(ddiff<0){ \n     fromdate.setMonth(m[1]+1, 0); \n     ddiff= fromdate.getDate()-d[1]+d[0]; \n     --mdiff; \n    } \n\n    if(ydiff> 0) age = ydiff + ' tuổi'; \n    else if(mdiff> 0) age = mdiff + ' tháng'; \n    else if(ddiff> 0) age = ddiff + ' ngày'; \n\n    return age; \n} \n\nfunction removeVietnameseTones(str) {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n    str = str.replace(/Đ/g, \"D\");\n    // Some system encode vietnamese combining accent as individual utf-8 characters\n    // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\n    // Remove extra spaces\n    // Bỏ các khoảng trắng liền nhau\n    str = str.replace(/ + /g, \" \");\n    str = str.trim();\n    // Remove punctuations\n    // Bỏ dấu câu, kí tự đặc biệt\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n    return str;\n}\n\n//FUNCITON TÍNH BẢNG LƯƠNG\nfunction salaryLoad(staff_data, year, month, callback) {\n    //GET TONG NGAY CONG\n    API.ChamCong.get(staff_data._id, month + 1, year).then(cham_cong_data => {\n        if(cham_cong_data.data) {\n            let tong_ngay_cong = cham_cong_data.data?.tong_ngay_cong;\n\n            //GET SALARY TABLE HISTORY\n            API.StaffSalary.getAll().then(salary_history => {\n                let date_filter = year + '-' + ((parseInt(month) + 1) <= 9 ? '0' + (parseInt(month) + 1) : (parseInt(month) + 1));\n                let date_now = new Date().getFullYear() + '-' + (new Date().getMonth() + 1 <= 9 ? '0' + (new Date().getMonth() + 1) : new Date().getMonth() + 1);\n        \n                //Lọc bảng lương theo tháng và tên nhân viên\n                let salary_data = salary_history.data.filter((data, i) => {\n                    let date_created  = data.date_created.split(\"T\");\n                    date_created = date_created[0].split(\"-\");\n                    date_created = date_created[0] + '-' + date_created[1];\n        \n                    if(staff_data._id !== data.user_id) return false;\n        \n                    return date_created == date_filter;\n                })\n        \n                const luong_thang = Math.round(salary_data.length > 0 ? (parseInt(salary_data[0].luong_co_ban) / 28 * parseFloat(tong_ngay_cong ? tong_ngay_cong : salary_data[0].ngay_cong)) : \n                                    date_filter==date_now ? (parseInt(staff_data.luong_co_ban) / 28 * (tong_ngay_cong ? tong_ngay_cong : staff_data.ngay_cong)) : 0);\n\n                //GET BILLS\n                API.Bill.getAll().then(res => {\n                    if(res) {\n                        API.PackageType.getSlug(\"dich_vu\").then(package_type => {\n                            API.Package.getType(package_type.data._id).then(dich_vu_r => {\n                                let dich_vu = dich_vu_r.data;\n\n                                API.PackageType.getSlug(\"goi_chup\").then(package_type => {\n                                    API.Package.getType(package_type.data._id).then(goi_chup_r => {\n                                        let goi_chup = goi_chup_r.data;\n\n                                        //Lọc thời gian của bill\n                                        let bills = res.data.filter((data, i) => {\n                                            if(data.deleted) return false;\n            \n                                            if(data.ngay_chup) {\n                                                let ngay_chup = data.ngay_chup.split(\"-\");\n                                                ngay_chup = ngay_chup[0].length !== 2 ? ngay_chup[0] + '-' + ngay_chup[1] : ngay_chup[2] + '-' + ngay_chup[1];\n                    \n                                                return ngay_chup == date_filter;\n                                            }\n                                        });\n                    \n                                        let total_photo = 0;\n                                        let total_service = 0;\n                                        let total_photoshop = 0;\n                            \n                                        //Tính tổng thưởng photo và support & photosohp\n                                        bills.map((data, i) => {\n                                            if(data.photo === staff_data._id) {\n                                                data.products.map((product, i) => {\n                                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                                    if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_photo) / 100\n                                                });\n                                            }\n\n                                            if(data.support === staff_data._id) {\n                                                data.products.map((product, i) => {\n                                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                                    if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_tu_van) / 100\n                                                });\n                                            }\n\n                                            if(data.photoshop === staff_data._id) {\n                                                data.products.map((product, i) => {\n                                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                                    if(goi_chup_filter > -1) total_photoshop += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_photoshop) / 100\n                                                });\n                                            }\n                                        })\n\n                                        //Tính tổng thưởng dịch vụ\n                                        bills.map((data, i) => {\n                                            if(data.support === staff_data._id) {\n                                                data.products.map((product, i) => {\n                                                    let goi_chup_filter = dich_vu.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                                    if(goi_chup_filter > -1) total_service += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_dich_vu_tu_van) / 100\n                                                });\n                                            }\n                                        })\n                                    \n                                        return callback({\n                                            _id: staff_data._id,\n                                            ho_ten: staff_data.ho_ten,\n                                            email: staff_data.email,\n                                            phan_tram_thuong_goi_chup_tu_van: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_goi_chup_tu_van : date_filter==date_now ? staff_data.phan_tram_thuong_goi_chup_tu_van : 0,\n                                            phan_tram_thuong_goi_chup_photo: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_goi_chup_photo : date_filter==date_now ? staff_data.phan_tram_thuong_goi_chup_photo : 0,\n                                            phan_tram_thuong_photoshop: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_photoshop : date_filter==date_now ? staff_data.phan_tram_thuong_photoshop : 0,\n                                            phan_tram_thuong_dich_vu_tu_van: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_dich_vu_tu_van : date_filter==date_now ? staff_data.phan_tram_thuong_dich_vu_tu_van : 0,\n                                            ngay_cong: salary_data.length > 0 ? tong_ngay_cong ? tong_ngay_cong : salary_data[0].ngay_cong : date_filter==date_now ? tong_ngay_cong ? tong_ngay_cong : staff_data.ngay_cong : 0,\n                                            luong_co_ban: salary_data.length > 0 ? salary_data[0].luong_co_ban : date_filter==date_now ? staff_data.luong_co_ban : 0,\n                                            total_photo: total_photo,\n                                            total_service: total_service,\n                                            total_photoshop: total_photoshop,\n                                            total: total_photo + total_service + total_photoshop,\n                                            thuc_lanh: luong_thang + (total_photo + total_service + total_photoshop),\n                                            luong_thang: luong_thang,\n                                            date_created: date_filter\n                                        })\n                                    })\n                                });\n                            })\n                        });\n                    }\n                })\n        \n            })\n        }else{\n            return callback(null);\n        }\n    })\n}\n\n\n//FUNCITON TÍNH BẢNG LƯƠNG ĐÃ LOADLOAD\nfunction salaryCalculate(staff_data, year, month, callback) {\n    const luong_thang = Math.round((parseInt(staff_data.luong_co_ban) / 28 * staff_data.ngay_cong));\n    let date_filter = year + '-' + ((parseInt(month) + 1) <= 9 ? '0' + (parseInt(month) + 1) : (parseInt(month) + 1));\n        \n    API.Bill.getAll().then(res => {\n        API.PackageType.getSlug(\"dich_vu\").then(package_type => {\n            API.Package.getType(package_type.data._id).then(dich_vu_r => {\n                let dich_vu = dich_vu_r.data;\n\n                API.PackageType.getSlug(\"goi_chup\").then(package_type => {\n                    API.Package.getType(package_type.data._id).then(goi_chup_r => {\n                        let goi_chup = goi_chup_r.data;\n\n                        //Lọc thời gian của bill\n                        let bills = res.data.filter((data, i) => {\n                            if(data.deleted) return false;\n    \n                            if(data.ngay_chup) {\n                                let ngay_chup = data.ngay_chup.split(\"-\");\n                                ngay_chup = ngay_chup[0].length == 2 ? ngay_chup[2] + \"-\" + ngay_chup[1] : ngay_chup[0] + '-' + ngay_chup[1]\n                                return ngay_chup == date_filter;\n                            }\n                        });\n    \n                        let total_photo = 0;\n                        let total_service = 0;\n                        let total_photoshop = 0;\n                        \n                        //Tính tổng thưởng photo và support\n                        bills.map((data, i) => {\n                            if(data.photo === staff_data._id) {\n                                data.products.map((product, i) => {\n                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                    if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_photo) / 100\n                                });\n                            }\n    \n                            if(data.photoshop === staff_data._id) {\n                                data.products.map((product, i) => {\n                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                    if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_photoshop) / 100\n                                });\n                            }\n    \n                            if(data.support === staff_data._id) {\n                                data.products.map((product, i) => {\n                                    let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                    if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_tu_van) / 100\n                                });\n                            }\n                        })\n    \n                        //Tính tổng thưởng dịch vụ\n                        bills.map((data, i) => {\n                            if(data.support === staff_data._id) {\n                                data.products.map((product, i) => {\n                                    let goi_chup_filter = dich_vu.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                    if(goi_chup_filter > -1) total_service += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_dich_vu_tu_van) / 100\n                                });\n                            }\n                        })\n                    \n                        return callback({\n                            _id: staff_data._id,\n                            ho_ten: staff_data.ho_ten,\n                            email: staff_data.email,\n                            phan_tram_thuong_goi_chup_tu_van: staff_data.phan_tram_thuong_goi_chup_tu_van,\n                            phan_tram_thuong_goi_chup_photo: staff_data.phan_tram_thuong_goi_chup_photo,\n                            phan_tram_thuong_photoshop:staff_data.phan_tram_thuong_photoshop,\n                            phan_tram_thuong_dich_vu_tu_van: staff_data.phan_tram_thuong_dich_vu_tu_van,\n                            ngay_cong: staff_data.ngay_cong,\n                            luong_co_ban: staff_data.luong_co_ban,\n                            total_photo: total_photo,\n                            total_service: total_service,\n                            total_photoshop: total_photoshop,\n                            total: total_photo + total_service,\n                            thuc_lanh: luong_thang + (total_photo + total_service + total_photoshop),\n                            luong_thang: luong_thang,\n                            date_created: date_filter\n                        })\n                    });\n                });\n            });\n        });\n    })\n}\n\nexport {\n    LINK,\n    numberWithCommas,\n    removeVietnameseTones,\n    findWithAttr,\n    salaryCalculate,\n    salaryLoad,\n    getAge\n}","import React, {Component} from 'react';\nimport {LavenDatePicker} from '@components/DatePicker';\nimport {getAge} from '@functions/Global';\nimport API from '@api';\n\nimport \"@styles/components/Forms.scss\";\n\nexport class BillForm extends Component {\n    constructor(props) {\n        super(props);\n\n        let ngay_sinh_be = this.props.data ? this.props.data.ngay_sinh_be : null;\n        ngay_sinh_be = ngay_sinh_be ? ngay_sinh_be.split(\"-\")[0].length == 2 ? ngay_sinh_be : ngay_sinh_be.split(\"-\")[2] + '-' + ngay_sinh_be.split(\"-\")[1] + '-' + ngay_sinh_be.split(\"-\")[0] : null\n\n        let ngay_chup = this.props.date ? this.props.date : this.props.data ? this.props.data.ngay_chup : null\n        ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n        let ngay_giao_hinh = this.props.data ? this.props.data.ngay_giao_hinh : null;\n        ngay_giao_hinh = ngay_giao_hinh ? ngay_giao_hinh.split(\"-\")[0].length == 2 ? ngay_giao_hinh : ngay_giao_hinh.split(\"-\")[2] + '-' + ngay_giao_hinh.split(\"-\")[1] + '-' + ngay_giao_hinh.split(\"-\")[0] : null\n\n        this.state = {\n            staff: null,\n            branch: null,\n            status: null,\n            date: ngay_chup,\n            birthday: ngay_sinh_be,\n            ngay_giao_hinh: ngay_giao_hinh,\n        }\n\n        this.fetchData();\n    }\n\n    async fetchData() {\n        await API.Staff.getAll().then(res => {\n            this.setState({\n                staff: res.data\n            })\n        })\n\n        await API.Branch.getAll().then(res => {\n            this.setState({\n                branch: res.data\n            })\n        });\n\n        await API.Status.getAll().then(res => {\n            this.setState({\n                status: res.data\n            })\n        });\n\n        if(this.state.birthday) this.handleChangeBirthday(this.state.birthday);\n    }\n    \n    handleSave = () => {\n        let data = {\n            chi_nhanh: this.refs.chi_nhanh.value,\n            gio_chup: this.refs.gio_chup.value,\n            ngay_chup: this.state.date ? this.state.date : new Date(),\n            ghi_chu: this.refs.ghi_chu.value,\n            photo: this.refs.photo.value || null,\n            support: this.refs.support.value || null,\n            photoshop: this.refs.photoshop.value || null,\n            consultant: this.refs.consultant.value || null,\n            ten_khach_hang: this.refs.ten_khach_hang.value,\n            dia_chi: this.refs.dia_chi.value,\n            ho_ten_be: this.refs.ho_ten_be.value,\n            ngay_sinh_be: this.state.birthday,\n            gioi_tinh_be: this.refs.gioi_tinh_be.value,\n            so_tuoi: this.refs.so_tuoi.value,\n            so_dien_thoai: this.refs.so_dien_thoai.value,\n            tinh_trang: this.refs.tinh_trang.value,\n            ngay_giao_hinh : this.state.ngay_giao_hinh\n        }\n\n        this.props.onSave(data);\n    }\n\n    onTagsChange = (e, value) => {\n        \n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleChangeBirthday = (date) => {\n        let new_date = date.split(\"-\");\n        new_date = new_date[0].length !== 2 ? date : new_date[2] + '-' + new_date[1] + '-' + new_date[0];\n\n        let age = getAge(new Date(new_date));\n        this.refs.so_tuoi.value = age\n\n        this.setState({\n          birthday: date\n        });\n    }\n\n    handleChangeNgayGiaoHinh = (date) => {\n        this.setState({\n            ngay_giao_hinh: date\n        });\n    }\n\n    render() {\n        const chuc_vu = localStorage.getItem(\"chuc_vu\");\n\n        if(!this.state.staff || !this.state.branch || !this.state.status) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"bill_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Chi Nhánh:</span>\n                        <select defaultValue={this.props.data ? this.props.data.chi_nhanh._id : \"default\"} ref=\"chi_nhanh\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.branch.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ten_chi_nhanh}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Giờ Chụp:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.gio_chup : \"\"} ref=\"gio_chup\" type=\"time\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Chụp:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.date} ref=\"ngay_chup\" className=\"textbox\" onChange={this.handleChange} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box textarea\">\n                        <span className=\"title\">Ghi Chú:</span>\n                        <textarea className=\"textbox\" defaultValue={this.props.data ? this.props.data.ghi_chu : \"\"} ref=\"ghi_chu\"></textarea>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Photo:</span>\n                        <select ref=\"photo\" defaultValue={this.props.data ? this.props.data.photo : \"\"} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Support:</span>\n                        <select ref=\"support\" defaultValue={this.props.data ? this.props.data.support : \"\"} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tư Vấn:</span>\n                        <select ref=\"consultant\" defaultValue={this.props.data ? this.props.data.consultant : \"\"} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Photoshop:</span>\n                        <select ref=\"photoshop\" defaultValue={this.props.data ? this.props.data.photoshop : \"\"} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tình Trạng:</span>\n                        <select ref=\"tinh_trang\" defaultValue={this.props.data ? this.props.data.tinh_trang : \"\"}>\n                            <option disabled selected value=\"\"></option>\n                            {this.state.status.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ten_tinh_trang}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                </div>\n\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Khách Hàng:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ten_khach_hang : \"\"} ref=\"ten_khach_hang\" type=\"text\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số điện thoại:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_dien_thoai : \"\"} ref=\"so_dien_thoai\" type=\"number\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Địa Chỉ:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.dia_chi : \"\"} ref=\"dia_chi\" type=\"text\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Họ Tên Bé:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ho_ten_be : \"\"} ref=\"ho_ten_be\" type=\"text\" disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Sinh Bé:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.birthday} ref=\"ngay_sinh_be\" className=\"textbox\" onChange={this.handleChangeBirthday} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Giới Tính Bé:</span>\n                        <select ref=\"gioi_tinh_be\" defaultValue={this.props.data ? this.props.data.gioi_tinh_be : \"\"} disabled={this.props.perms.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected=\"selected\">Giới tính bé: </option>\n                            <option value=\"0\">Bé trai</option>\n                            <option value=\"1\">Bé gái</option>\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số Tuổi:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_tuoi : \"\"} ref=\"so_tuoi\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Giao Hình:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.ngay_giao_hinh} ref=\"ngay_giao_hinh\" className=\"textbox\" onChange={this.handleChangeNgayGiaoHinh}/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {numberWithCommas} from '@functions/Global';\n\nimport \"@styles/components/Forms.scss\";\n\nexport class ProductListForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dat_coc: this.props.data ? [...this.props.data.dat_coc] : [\n                {\n                    value: 0,\n                    time: '',\n                    des: '',\n                    transaction: \"2\"\n                }\n            ],\n            thanh_toan: this.props.data ? [...this.props.data.thanh_toan] : [\n                {\n                    value: 0,\n                    time: '',\n                    des: '',\n                    transaction: \"2\"\n                }\n            ]\n        }\n    }\n\n    handleSave = () => {\n        let data = {\n            tong: parseInt(this.refs.tong.value.replace(/,/g,\"\")),\n            dat_coc: [...this.state.dat_coc],\n            thanh_toan: [...this.state.thanh_toan],\n            con_no: parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")),\n            giam_gia: 0\n        }\n\n        this.props.handleSavePayment(data);\n    }\n\n    handleChangeInput = (element, index, e) => {\n        let data = [...this.state[element]]\n        data[index].value = Number(e.target.value);\n\n        let date_now = new Date().getFullYear()+'-'+(new Date().getMonth() + 1) +'-'+(new Date().getDate() <= 9 ? '0' + new Date().getDate() : new Date().getDate());\n        let date_des = new Date();\n        date_des = (date_des.getHours() <= 9 ? '0' + date_des.getHours() : date_des.getHours()) + \":\" + (date_des.getMinutes() <= 9 ? '0' + date_des.getMinutes() : date_des.getMinutes()) + \" \" + (date_des.getDate() <= 9 ? '0' + date_des.getDate() : date_des.getDate()) + \"/\" + ((date_des.getMonth() + 1) <= 9 ? '0' + (date_des.getMonth() + 1) : (date_des.getMonth() + 1)) + \"/\" + date_des.getFullYear()\n\n        data[index].time = date_now;\n        data[index].des = date_des + ' - ' + localStorage.getItem(\"ho_ten\");\n\n        let paymentData = [\n            ...data, \n            ...(element === \"dat_coc\" ? \n                this.state.thanh_toan : \n                this.state.dat_coc\n            )\n        ];\n\n        let conNo = 0;\n\n        paymentData.forEach(item => {\n            conNo += item.value;\n        });\n\n        this.refs.con_no_1.value = numberWithCommas((parseInt(this.refs.tong.value.replace(/,/g,\"\"))) - conNo)\n    \n        //Add new row if edit last child\n        if(index + 1 == this.state.thanh_toan.length) {\n            let extendThanhToan = [...this.state.thanh_toan];\n            extendThanhToan.push({\n                value: 0,\n                time: '',\n                des: '',\n                transaction: \"2\"\n            });\n\n            this.setState({\n                thanh_toan: extendThanhToan\n            })\n        }\n    }\n\n    //CHỈNH SỬA GIÁ TRỊ SAU KHI XÓA SẢN PHẨM\n    handleUpdateConNo = (data) => {\n        data[\"giam_gia\"] = parseInt(data[\"giam_gia\"] || 0);\n        this.refs.con_no_1.value = numberWithCommas(parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")) + (parseInt(data.gia) * parseInt(data.so_luong) - parseInt(data.giam_gia)));\n    }\n\n    //CHỈNH SỬA GIÁ TRỊ CÒN NỢ SAU KHI THAY ĐỔI SẢN PHẨM\n    handleUpdateConNoAfterChangeProduct = (old_data, new_data) => {\n        old_data[\"giam_gia\"] = parseInt(old_data[\"giam_gia\"] || \"0\");\n        new_data[\"giam_gia\"] = parseInt(new_data[\"giam_gia\"] || \"0\");\n        \n        this.refs.con_no_1.value = numberWithCommas(parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")) - (Math.abs(parseInt(old_data.gia) * parseInt(old_data.so_luong)) - parseInt(old_data.giam_gia)) + (parseInt(new_data.gia) * parseInt(new_data.so_luong)) - parseInt(new_data.giam_gia));\n    }\n\n    render() { \n        const datCoc = this.state.dat_coc;\n        const thanhToan = this.state.thanh_toan;\n        const conNo = this.props.data?.con_no || 0;\n\n        return(\n            <div className=\"product_list_form_container\" style={{flex: 1}}>\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tổng:</span>\n                        <input className=\"textbox\" ref=\"tong\" value={numberWithCommas(this.props.product_total)} type=\"text\" disabled/>\n                    </div>\n                    {\n                        datCoc.map((item, index) => {\n                            return (\n                                <div key={`dat-coc-form-${index}`} className=\"box\">\n                                    <span className=\"title\">Đặt Cọc: {item.des}</span>\n                                    <div className=\"douple_textbox\">\n                                        <input \n                                            className=\"textbox\" \n                                            onKeyUp={(e) => this.handleChangeInput('dat_coc', index, e)} \n                                            defaultValue={item.value || 0} \n                                            type=\"number\" \n                                            disabled={this.props.perms.bill[2] == \"1\" ? '' : 'disabled'}/>\n                                        <select \n                                            className=\"selectbox\" \n                                            defaultValue={item.transaction || \"2\"} \n                                            disabled={this.props.perms.bill[2] == \"1\" ? '' : 'disabled'}\n                                            onChange={(e) => {\n                                                let data = [...this.state.dat_coc];\n                                                data[index].transaction = e.target.value;\n                                                this.setState({dat_coc: data});\n                                            }}\n                                        >     \n                                            <option disabled selected value=\"2\"></option>\n                                            <option value=\"0\">Chuyển khoản</option>\n                                            <option value=\"1\">Tiền mặt</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    {\n                        thanhToan.map((item, index) => {\n                            return (\n                                <div className=\"box\" key={`thanh-toan-form-${index}`}>\n                                    <span className=\"title\">Thanh Toán L{index+1}: {item.desc}</span>\n                                    <div className=\"douple_textbox\">\n                                        <input \n                                            className=\"textbox\" \n                                            onKeyUp={(e) => this.handleChangeInput(\"thanh_toan\", index, e)} \n                                            defaultValue={item.value || 0} \n                                            type=\"number\" \n                                            disabled={this.props.perms.bill[2] == \"1\" ? '' : 'disabled'}/>\n                                        <select \n                                            className=\"selectbox\" \n                                            defaultValue={item.transaction || \"2\"} \n                                            disabled={this.props.perms.bill[2] == \"1\" ? '' : 'disabled'}\n                                            onChange={(e) => {\n                                                let data = [...this.state.thanh_toan];\n                                                data[index].transaction = e.target.value;\n                                                this.setState({thanh_toan: data});\n                                            }}\n                                        >\n                                            <option disabled selected value=\"2\"></option>\n                                            <option value=\"0\">Chuyển khoản</option>\n                                            <option value=\"1\">Tiền mặt</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    <div className=\"box\">\n                        <span className=\"title\">Còn Nợ:</span>\n                        <div className=\"douple_textbox\">\n                            <input \n                                className=\"textbox\" \n                                ref=\"con_no_1\" \n                                onKeyUp={(e) => this.handleChangeInput(\"con_no_1\", e)} \n                                defaultValue={numberWithCommas(conNo)} \n                                type=\"text\" \n                                disabled\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport \"../styles/components/Spiners.scss\";\n\nclass HashSpiner extends Component {\n    render() {\n        return(     \n\t\t<div className=\"spiners hash\">\n            <div className=\"rot\"></div>\n            <div className=\"tor\"></div>\n        </div>\n        )\n    }\n}\n\nexport {\n    HashSpiner\n}","import React, {Component} from 'react';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport {HashSpiner} from '@components/Spiners';\nimport {numberWithCommas} from '@functions/Global';\nimport './styles.scss';\n\nexport class StaffSalaryTable extends Component {\n    render() {\n      if(!this.props.data) {\n        return(<div className=\"load_view\"><HashSpiner/></div>)\n      }\n  \n      const perm = this.props.perms.staff_salary;\n  \n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Họ Tên</Cell>\n                    <Cell>Lương Cơ Bản</Cell>\n                    <Cell>Ngày Công</Cell>\n                    <Cell>Lương Tháng</Cell>\n                    <Cell>% Thưởng Doanh Thu Tư Vấn (GC)</Cell>\n                    <Cell>% Thưởng Doanh Thu Photo</Cell>\n                    <Cell>% Thưởng Photoshop (PTS)</Cell>\n                    <Cell>Tổng Thưởng Doanh Thu</Cell>\n                    <Cell>% Thưởng Doanh Thu Tư Vấn (DV)</Cell>\n                    <Cell>Thưởng Dịch Vụ</Cell>\n                    <Cell>Tổng Thưởng</Cell>\n                    <Cell>Thực Lãnh</Cell>\n                  </Row>\n                    {this.props.data.map((data, i) => {\n                      return(\n                        <Row className=\"row\">\n                          <Cell>{i + 1}</Cell>\n                          <Cell>{data.ho_ten}</Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.luong_co_ban} onChange={(e) => this.props.onInputChange(e, 'luong_co_ban', data._id)} ref=\"luong_co_ban\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.ngay_cong} onChange={(e) => this.props.onInputChange(e, 'ngay_cong', data._id)} ref=\"ngay_cong\" type=\"text\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.luong_thang)} ref=\"luong_thang\" type=\"text\" disabled/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_goi_chup_tu_van} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_goi_chup_tu_van', data._id)} ref=\"phan_tram_thuong_goi_chup_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_goi_chup_photo} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_goi_chup_photo', data._id)} ref=\"phan_tram_thuong_goi_chup_photo\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_photoshop} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_photoshop', data._id)} ref=\"phan_tram_thuong_photoshop\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total_photo)} ref=\"tong_doanh_thu\" type=\"text\" disabled/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_dich_vu_tu_van} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_dich_vu_tu_van', data._id)} ref=\"phan_tram_thuong_dich_vu_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total_service)} ref=\"thuong_dich_vu\" type=\"text\" disabled/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total)} ref=\"tong_thuong\" type=\"text\" disabled/></Cell>\n                          <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.thuc_lanh)} ref=\"thuc_lanh\" type=\"text\" disabled/></Cell>\n                        </Row>\n                      )\n                    })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n  }","import React, {Component} from 'react';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport './styles.scss';\n\nexport class PackageTable extends Component {\n    handleEdit = (id) => {\n        this.props.handleOpenModal(id);\n    }\n\n    render() {\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Tên Gói</Cell>\n                    <Cell>Giá Tiền</Cell>\n                    <Cell>Nhập Hàng</Cell>\n                    <Cell>Xuất</Cell>\n                    <Cell>Tồn</Cell>\n                    <Cell>Thông Tin Chi Tiết</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                    return(\n                      <Row className=\"row\" onClick={() => this.handleEdit(data._id)}>\n                        <Cell>{i + 1}</Cell>\n                        <Cell>{data.ten_goi}</Cell>\n                        <Cell>{data.gia}</Cell>\n                        <Cell>{data.soLuong}</Cell>\n                        <Cell>{data.soLuongXuat}</Cell>\n                        <Cell>{data.tonKho}</Cell>\n                        <Cell>{data.description}</Cell>\n                      </Row>\n                    )\n                  })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport {numberWithCommas} from '@functions/Global';\nimport './styles.scss';\n\nexport class ProductListTable extends Component {\n    render() {\n        return(\n            <div className=\"table_view bill_edit\" style={{flex: 1}}>\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Sản Phẩm</Cell>\n                    <Cell>Đơn Giá</Cell>\n                    <Cell>Số Lượng</Cell>\n                    <Cell>Giảm Giá</Cell>\n                    <Cell>Tổng</Cell>\n                  </Row>\n                    {this.props.data.map((data, i) => {\n                      return(\n                        <Row className=\"row\" onClick={() => this.props.onEdit(i)} title={data.description || \"\"}>\n                          <Cell>{i + 1}</Cell>\n                          <Cell>{data.ten_goi}</Cell>\n                          <Cell>{numberWithCommas(data.gia)} đ</Cell>\n                          <Cell>{data.so_luong}</Cell>\n                          <Cell>{data.giam_gia ? numberWithCommas(data.giam_gia) : 0} đ</Cell>\n                          <Cell>{numberWithCommas((parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100)) - (data.giam_gia ? parseInt(data.giam_gia) : 0))} đ</Cell>\n                        </Row>\n                      )\n                    })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport API from '@api';\n\nclass TabBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tab_active: this.props.tab\n        }\n    }\n\n    handleChangeTab = (tab) => {\n        this.setState({\n            tab_active: tab\n        });\n\n        this.props.onChangeTab(tab);\n    }\n\n    render() {\n\n        return(\n            <div className=\"tab_bar\">\n                {this.props.data.map((data , i) => {\n                    //TAB LỚN HƠN THÁNG HIỆN TẠI => DISABLED\n                    if(data > (new Date().getMonth() + 1)) {\n                        return(\n                            <div key={i} className=\"tab disabled\">\n                                <span className=\"tab_title\">{data}</span>\n                            </div>\n                        )\n                    }else{\n                        return(\n                            <div key={i} onClick={() => this.handleChangeTab(i)} className={this.state.tab_active === i ? \"tab active\" : \"tab\"}>\n                                <span className=\"tab_title\">{data}</span>\n                            </div>\n                        )\n                    }\n                })}\n            </div>\n        )\n    }\n}\n\nclass ChamCongTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n        }\n    }\n\n    handleChamCong = (e, type, date) => {\n        let sang = this.props.sang;\n        let chieu = this.props.chieu;\n        var counts_sang = {};\n        var counts_chieu = {};\n\n        e.target.checked ? (type == 'sang' ? sang[date - 1] = 1 : chieu[date - 1] = 1) : (type == 'sang' ? sang[date - 1] = 0 : chieu[date - 1] = 0)\n\n        for (var i = 0; i < sang.length; i++) {\n          var num = sang[i];\n          counts_sang[num] = counts_sang[num] ? counts_sang[num] + 1 : 1;\n        }\n\n        for (var i = 0; i < chieu.length; i++) {\n          var num = chieu[i];\n          counts_chieu[num] = counts_chieu[num] ? counts_chieu[num] + 1 : 1;\n        }\n\n        let ngay_cong_sang = counts_sang[1] ? counts_sang[1] / 2 : 0;\n        let ngay_cong_chieu = counts_chieu[1] ? counts_chieu[1] / 2 : 0\n\n        let data = {\n            month: this.props.months,\n            year: this.props.year,\n            sang: sang,\n            chieu: chieu,\n            tong_ngay_cong: (ngay_cong_sang + ngay_cong_chieu),\n            user_id: this.props.user_id\n        }\n\n        API.ChamCong.update(data);\n\n        // APIs.post('/cham_cong_table','', {data: data}, (res) => {\n        //     console.log(res);\n        // })\n    }\n\n    render() {\n        const { perms } = this.props;\n\n        if(!this.props.date) {\n            return <div></div>\n        }\n\n        return(\n            <div className=\"tab_content_container cham_cong_table\">\n                <div className=\"tab_content_header_container cham_cong_table\">\n                    <h1 className=\"tab_content_header\">Chấm công tháng {this.props.months} năm {this.props.year}</h1>\n                    <div className=\"tab_header_right_item_container cham_cong_table\">\n                        {this.props.date.map((data, i) => {\n                            return <span className=\"tab_header_item_title\">{data}</span>\n                        })}\n                    </div>\n                </div>\n                <div className=\"tab_content cham_cong_table\">\n                    <div className=\"tab_side_bar\">\n                        <span className=\"tab_side_bar_title\">Sáng</span>\n                        <span className=\"tab_side_bar_title\">Chiều</span>\n                    </div>\n                    <div className=\"tab_tick_container\">\n                        <div className=\"tab_tick\">\n                            {this.props.date.map((result, i) => {\n                                const today = new Date().getDate().toString();\n                                const month = this.props.months.toString();\n                                const monthNow = (new Date().getMonth() + 1).toString();\n\n                                return(\n                            <div className=\"column\" key={\"column\" + i}>\n                                <div className=\"checkbox\" key={\"bill\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.handleChamCong(e,'sang',result)} defaultChecked={this.props.sang[result - 1] == 1 ? \"checked\" : null} disabled={(result).toString() == today && month == monthNow ? (this.props.sang[result - 1] == 1 ? (perms.cham_cong[2] == \"1\" ? null : 'disabled') : null) : perms.cham_cong[2] == \"1\" ? null : 'disabled'}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"bills\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.handleChamCong(e,'chieu',result)} defaultChecked={this.props.chieu[result - 1] == 1 ? \"checked\" : null} disabled={(result).toString() == today && month == monthNow ? (this.props.chieu[result - 1] == 1 ? (perms.cham_cong[2] == \"1\" ? null : 'disabled') : null) : perms.cham_cong[2] == \"1\" ? null : 'disabled'}/>\n                                </div>\n                            </div>\n                       \n                                )\n                            }, this)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    ChamCongTable,\n    TabBar\n};","import React from 'react';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport { StaffSalaryTable } from './StaffSalary';\nimport { PackageTable } from './Package';\nimport { ProductListTable } from './ProductList';\nimport { ChamCongTable } from './ChamCong';\nimport './styles.scss';\n\nconst Table = ({columns, data, onClick}) => {\n    return(\n        <div className=\"table_view\">\n          <div className=\"table\">\n            <StickyTable>\n              <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  {\n                      columns.map((column, index) => {\n                          return(\n                              <Cell key={`column-${index}`}>{column.title}</Cell>\n                          )\n                      })\n                  }\n              </Row>\n                  {data.map((data, i) => {\n                    return(\n                      <Row className=\"row\" key={i} onClick={() => onClick(data._id,i)}>\n                        <Cell>{i + 1}</Cell>\n                        {\n                          columns.map((column, index) => {\n                            if(column.colored) {\n                              return(\n                                <Cell key={`row-${index}-${i}`}>\n                                  <div \n                                    className={`row`} \n                                    style={{backgroundColor: data.color}}\n                                  >\n                                      {data[column.key]}\n                                  </div>\n                                </Cell>\n                              )\n                            }\n\n                            return(\n                                <Cell key={`row-${index}-${i}`}>{data?.[column.key]}</Cell>\n                            )\n                          })\n                        }\n                      </Row>\n                    )\n                  })}\n            </StickyTable>\n          </div>\n        </div>\n      )\n}\n\nexport {\n    StaffSalaryTable,\n    PackageTable,\n    Table,\n    ProductListTable,\n    ChamCongTable\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport {RiFilter3Line, RiSearchLine, RiPrinterLine, RiSaveLine, RiArrowLeftSLine, RiPencilLine, RiDeleteBinLine} from 'react-icons/ri';\nimport {MdClose, MdRestore} from 'react-icons/md';\nimport '@styles/components/Header_bar.scss';\nimport API from '@api';\n\nexport class FullSearchBox extends Component {\n    render() {\n        return( \n            <div className=\"header_bar\">\n                <div className=\"full_search_box\">\n                    <RiSearchLine className=\"icon\"/>\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" onKeyUp={this.props.onKeyUp}/>\n                    <MdClose className=\"icon close\" onClick={this.props.onClose}/>\n                    \n                    {this.props.autocomplete_data != undefined ? \n                                    <div className=\"autocomplete_container\">\n                                        <ul>\n                                            {this.props.autocomplete_data.map((data, i) => {\n                                                console.log(data);\n                                                return(<li>\n                                                    <Link to={`bill_edit/${data._id}`}>\n                                                        {data.title}\n                                                        <br/><br/>\n                                                        Ngày: {data.ngay_chup}\n                                                        <br/> \n                                                        Giờ chụp: {data.gio_chup}\n                                                    </Link></li>)\n                                            })}\n                                        </ul>\n                                    </div> : null}\n                </div>\n            </div>      \n        )\n    }\n}","import React, {Component} from 'react';\nimport {BsPlus, BsBoxArrowInDown} from 'react-icons/bs';\nimport {RiFilter3Line, RiSearchLine, RiPrinterLine, RiSaveLine, RiArrowLeftSLine, RiPencilLine, RiDeleteBinLine} from 'react-icons/ri';\nimport {AiOutlineMenu} from 'react-icons/ai';\nimport {isMobile} from 'react-device-detect';\nimport '@styles/components/Header_bar.scss';\nimport API from '@api';\nimport { FullSearchBox } from './FullSearchBox';\n\nexport class PackageHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            sidebar_visible: false,\n            searching: false\n        } \n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            });\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                {/* <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/> */}\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>Gói Chụp</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        {this.state.perms.goi_chup[1] == \"1\" ? <button onClick={this.props.handleOpenModal}><BsPlus className=\"icon\"/>Thêm mới</button> : null }\n                        \n                        {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        <div className=\"search_box\">\n                            <RiSearchLine className=\"icon\"/>\n                            <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)}></input>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {HashSpiner} from '@components/Spiners';\nimport * as Icons from 'react-icons/io5';\n\nimport \"@styles/components/Modals.scss\";\n\nexport class FormModal extends Component {\n    render() {\n        if(this.props.loading) {\n            return(\n                <div className=\"modal\">\n                    <div className=\"modal__close-btn\" onClick={this.props.onClose}>\n                        <Icons.IoClose className=\"modal__close-btn__icon\"/>\n                    </div>\n                     <div className=\"form_container\">\n                        <HashSpiner/>\n                        <a>LOADING...</a>\n                     </div>\n                </div>\n            )\n        }\n\n        return(\n            <div onClick={this.props.onClose} className=\"modal\" style={{display: `${this.props.is_open === \"true\" || this.props.is_open == true ? \"flex\" : \"none\"}`}}>\n                <div className=\"modal__close-btn\" onClick={this.props.onClose}>\n                    <Icons.IoClose className=\"modal__close-btn__icon\"/>\n                </div>\n                <div onClick={e => e.stopPropagation()} className=\"form_container\">\n                     <h1>{this.props.title}</h1>\n                     {this.props.children}\n\n                     <div className=\"column\">\n                            {\n                                this.props.onRemove ?\n                                <button className=\"btn\" onClick={this.props.onRemove}>Xoá</button> : null\n                            }\n                            {\n                                this.props.onClose && !this.props.onRemove ?\n                                <button className=\"btn\" onClick={this.props.onClose}>Hủy</button> : null\n                            }\n                            {\n                                this.props.onSave ?\n                                <button className=\"btn blue\" onClick={this.props.onSave}>Lưu</button> : null   \n                            }\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport {BsPeople, BsCalendar, BsCardList, BsCreditCard, BsInboxes, BsClipboardData, BsList, BsArrowReturnRight} from 'react-icons/bs';\nimport {FiCamera, FiSettings, FiLogOut, FiTrash2} from 'react-icons/fi';\nimport {AiOutlineRest} from 'react-icons/ai';\n\nexport const sidebarItems = [\n    {\n        isHeader: true,\n        name: 'Công việc',\n        perms: []\n    },\n    {\n        perms: [{\n            bill: 0 //Name + index\n        }],\n        name: 'Đơn hàng',\n        icon: <BsCardList/>,\n        path: '/'\n    },\n    {\n        perms: [{\n            calendar: 0\n        }],\n        name: 'Lịch',\n        icon: <BsCalendar/>,\n        path: '/calendar'\n    },\n    {\n        perms: [{\n            customers: 0    \n        }],\n        name: 'Khách hàng',\n        icon: <BsPeople/>,\n        path: '/customers'\n    },\n    {\n        perms: [{\n            spending: 0\n        }],\n        name: 'Chi',\n        icon: <BsCreditCard/>,\n        path: '/spending'\n    },\n    {\n        isDivider: true\n    },\n    {\n        isHeader: true,\n        name: 'Sản phẩm',\n        perms: []\n    },\n    {\n        perms: [{\n            goi_chup: 0\n        }],\n        name: 'Gói chụp',\n        icon: <FiCamera/>,\n        path: '/packages/goi_chup'\n    },\n    {\n        perms: [{\n            services: 0\n        }],\n        name: 'Dịch vụ',\n        icon: <AiOutlineRest/>,\n        path: '/packages/dich_vu'\n    },\n    {\n        isDivider: true\n    },\n    {\n        isHeader: true,\n        name: 'Báo cáo',\n        perms: [{\n            total_analytics: 0,\n        }]\n    },\n    {\n        perms: [{\n            total_analytics: 0\n        }],\n        name: 'Báo cáo doanh thu',\n        icon: <BsClipboardData/>,\n        path: '/total_revenue'\n    },\n    {\n        perms: [{\n            realtime_analytics: 0\n        }],\n        name: 'Báo cáo thu chi',\n        icon: <BsClipboardData/>,\n        path: '/realtime_revenue'\n    },\n    {\n        isDivider: true\n    },\n    {\n        isHeader: true,\n        name: 'Khác',\n        perms: []\n    },\n    {\n        perms: [{\n            trash: 0\n        }],\n        name: 'Thùng rác',\n        icon: <FiTrash2/>,\n        path: '/trash'\n    },\n    {\n        perms: [],\n        name: 'Cài đặt',\n        icon: <FiSettings/>,\n        path: '/settings'\n    },\n    {\n        perms: [],\n        name: 'Đăng xuất',\n        icon: <FiLogOut/>,\n        path: '/logout' \n    }\n]","import React, {useEffect, useState, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport API from \"@api\";\nimport { BsList } from 'react-icons/bs';\n\nimport \"./styles.scss\";\n\nimport {sidebarItems} from './items';\n\nconst BranchSelect = () => {\n    const [branch, setBranch] = useState([]);\n    const [fBranch, setFBranch] = useState({});\n    const [branchSelected, setBranchSelected] = useState([]);\n    const [dropdownVisible, setDropdownVisible] = useState(false);\n    const wrapperRef = useRef(0);\n\n    useEffect(() => {\n        fetchData();\n\n        document.addEventListener(\"mousedown\", handleClickOutside);\n\n        return () => {\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        }\n    }, []);\n\n    const fetchData = async () => {\n        //Fetch branch\n        let branch = await API.Branch.getAll();\n        setBranch(branch.data);\n\n        //Get branch selected\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n        branchSelected = branchSelected.length ? branchSelected : [branch.data[0]._id];\n\n        setBranchSelected(branchSelected);\n        \n        //Select default branch\n        handleSelectBrach(branchSelected[0], branch.data);\n    }\n\n    const branchSelectBoxChange = (e, branchId) => {\n        let branchSelectedId = \"\";\n        let branchSelectedTemp = [...branchSelected];\n\n        //Update list\n        if(e.currentTarget.checked) { //Push\n            if(branchSelectedTemp.indexOf(branchId) <= -1) {\n                branchSelectedTemp = [...branchSelectedTemp, branchId]\n                branchSelectedId = branchId;\n            }\n        }else{ //Remove\n            branchSelectedTemp = [...branchSelectedTemp];\n            branchSelectedTemp.splice(branchSelectedTemp.indexOf(branchId), 1);\n        }\n\n        //UPdate state\n        setBranchSelected(branchSelectedTemp);\n\n        //Update localStorage\n        console.log(branchSelectedTemp);\n        localStorage.setItem(\"branch_selected\", JSON.stringify(branchSelectedTemp));\n\n        if(branchSelectedTemp.length) handleSelectBrach(branchSelectedTemp[0]);\n    }\n    \n    const handleSelectBrach = (branchId, branchList=branch) => {\n        let branchSelectedData = branchList.find(b => b._id == branchId);\n        let branchCode = branchSelectedData.ten_chi_nhanh.split(\" \");\n        branchCode = `${branchCode[0].charAt(0).toUpperCase()}${branchCode[1]?.charAt(0).toUpperCase()}`;\n\n        let fBranch = {\n            code: branchCode,\n            name: branchSelectedData.ten_chi_nhanh,\n            color: branchSelectedData.color\n        };\n\n        setFBranch(fBranch);\n    }\n\n    const handleClickOutside = e => {\n        if (wrapperRef && !wrapperRef?.current?.contains(e?.target)) {\n            handleCloseDropdown();\n        }\n    }\n\n    const handleCloseDropdown = () =>{\n        setDropdownVisible(false);\n    }\n\n    return (\n        <div className=\"branch-select-box\" ref={wrapperRef}>\n            <div className=\"branch-select-box__select\" onClick={() => setDropdownVisible(!dropdownVisible)}>\n                <div className=\"branch-select-box__select-list\">\n                    {\n                        branch.map((b, index) => {\n                            if(branchSelected.indexOf(b._id) <= -1) return;\n\n                            let branchCode = b.ten_chi_nhanh.split(\" \");\n                            branchCode = `${branchCode[0].charAt(0).toUpperCase()}${branchCode[1]?.charAt(0).toUpperCase()}`;\n\n                            return (\n                                <div \n                                    className=\"branch-select-box__select-group__avatar\"\n                                    style={{\n                                        backgroundColor: b.color\n                                    }}\n                                >{branchCode || \"CN\"}</div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n            <div className={`branch-select-box__dropdown${dropdownVisible ? '--visible': ''}`}>\n                {\n                    branch.map((b, index) => {\n                        let branchCode = b.ten_chi_nhanh.split(\" \");\n                        branchCode = `${branchCode[0].charAt(0).toUpperCase()}${branchCode[1]?.charAt(0).toUpperCase()}`;\n                        \n                        return (\n                            <label\n                                className=\"branch-select-box__select-group\" \n                                htmlFor={`checkbox-${b._id}`} \n                                key={`checkbox-${b._id}`}\n                            >\n                                <input checked={branchSelected.indexOf(b._id) > -1} onChange={e => branchSelectBoxChange(e, b._id)} className=\"branch-select-box__select-group__checkbox\" id={`checkbox-${b._id}`} type=\"checkbox\"/>\n                                <div \n                                    className=\"branch-select-box__select-group__avatar\"\n                                    style={{\n                                        backgroundColor: b.color\n                                    }}\n                                >{branchCode}</div>\n                                <span className=\"branch-select-box__select-group__name\">{b.ten_chi_nhanh || \"CN\"}</span>\n                            </label>\n                        )\n                    })\n                }\n                <button className=\"btn blue\" onClick={() => window.location.reload()}>Lưu</button>\n            </div>\n        </div>\n    )\n}\n\nexport const SideBar = () => {\n    const [location, setLocation] = useState(window.location.pathname);\n    const [userPermission, setUserPermission] = useState(null);\n    const [minimize, setMinimize] = useState(true);\n    const [companySlug, setCompanySlug] = useState('');\n\n    useEffect(() => {\n        API.Permission.getUserPerm().then(res => {\n            setUserPermission(res.data);\n        });\n\n        API.User.verifyToken().then(res => {\n            setCompanySlug(res.data.company_slug);\n        });\n    }, []);\n\n    const handleToggleSideBar = () => {\n        localStorage.setItem(\"sidebar_minized\", !minimize);\n        setMinimize(!minimize);\n    }\n    \n    const perms = userPermission?.perms;\n\n    if(!perms) return null;\n\n    return(\n    <div className={`side_bar_container ${minimize ? 'min' : ''}`}>\n        <div className={`side_bar`}>\n            <div className='item avatar_container'>\n                <button className=\"menu_btn\" onClick={handleToggleSideBar}><BsList className=\"icon\"/></button>\n                <p className='user_name'>{localStorage.getItem('ho_ten')}</p>\n            </div>\n\n            {!minimize && <BranchSelect/>}\n\n            {\n                sidebarItems.map((item, index) => {\n                    let permCheck = 0;\n\n                    if(item.perms?.length) {\n                        item.perms.map((perm) => {\n                            if(permCheck >= 0) {\n                                let key = Object.keys(perm)[0];\n                                let permIndex = Object.values(perm)[0];\n                                \n                                if(perms[key][permIndex]) {\n                                    permCheck++;\n                                }else{\n                                    permCheck = -1;\n                                }\n                            }\n                        });\n                    }else{\n                        permCheck ++;\n                    }\n\n                    if(item.isDivider) return <br/>\n\n                    if(permCheck > 0) {\n                        if(item.isHeader) {\n                            return (\n                                <div className=\"menu_header\" key={`sidebar-item-${index}`}>\n                                    {\n                                        minimize ? \n                                        <hr/> : <span>{item.name}</span>\n                                    }\n                                </div>\n                            )\n                        }\n                        return (\n                            <Link \n                                to={`/${companySlug}${item.path}`}\n                                key={`sidebar-item-${index}`} \n                                className={location === `/${companySlug}${item.path}` ? 'item active' : 'item'} \n                                onClick={() => {\n                                    setMinimize(true);\n                                    setLocation(`/${companySlug}${item.path}`);\n                                }}\n                            >\n                                <div className=\"icon\">{item.icon}</div>\n                                <p className=\"item_name\">{item.name}</p>\n                            </Link>\n                        )\n                    }\n                })\n            }\n        </div>\n    </div>\n    )\n}","import React from 'react';\nimport { BsCheck } from 'react-icons/bs';\n\nimport \"./styles.scss\";\n\nexport const SubscriptionCard = ({ title, description, price, strikePrice, save, onClick, subscribed }) => {\n    return (\n        <div className={`card card_subscription ${subscribed ? 'subscribed' : ''}`}>\n            <div className=\"title-container\">\n                <span className=\"title\">{ title }</span>\n            </div>\n            <div className=\"description-container\">\n                {\n                    description?.map((item, index) => {\n                        return(\n                            <div className=\"description-section\" key={`description-section-${index}`}>\n                                <div className=\"icon-container\">\n                                    <BsCheck className=\"icon\"/>\n                                </div>\n                                <p className=\"description\">{ item }</p>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <div className=\"price-container\">\n                <span className=\"price\">{ price } đ</span>\n                <span className=\"sub-title\">Annually: Save { save } <span className=\"strike-price\">{ strikePrice } đ</span></span>\n            </div>\n            <div className=\"button-container\">\n                <button className=\"button\" onClick={onClick} disabled={subscribed}>\n                    {\n                        subscribed ?\n                        \"Đã Đăng Ký\" : \"Đăng Ký\"\n                    }\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport const PaperCard = ({ children, onClick, title }) => {\n    return (\n        <div className=\"card__paper\" onClick={onClick}>\n            <h1 className=\"card__paper__title\">{ title }</h1>\n            { children }\n        </div>\n    )\n}","import React, { useRef, useEffect, useState } from 'react';\n\nimport { LavenDatePicker } from '@components/DatePicker';\n\nexport const CustomerFilterDropDown = ({ visible, onFilter=new Function(), onHideDropDown=new Function() }) => {\n    const dropdownRef = useRef();\n    const [date, setDate] = useState(new Date().getFullYear() + '-' + ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1)));\n    \n    useEffect(() => {\n        document.addEventListener('click', handleClickOut);\n\n        return () => {\n            document.removeEventListener('click', handleClickOut);\n        }\n    }, []);\n\n    const handleClickOut = (event) => {\n        const { target } = event\n        try {\n            if (!dropdownRef.current.contains(target)) {\n                onHideDropDown();\n            }\n        } catch (e) {\n\n        } \n    }\n\n    const handleFilter = () => {\n        onFilter(date);\n    }\n\n    return (\n        <div className=\"dropdown filter\" ref={dropdownRef} style={{\n            display: visible? 'block' : 'none'\n        }}>\n            <div className=\"box\">\n                <span className=\"title\">Năm & Tháng:</span>\n                <LavenDatePicker \n                    format={'YYYY-MM'} \n                    date={date} \n                    className=\"textbox calendar\" \n                    onChange={(date) => setDate(date)}\n                    default\n                />\n\n                <div className=\"box\">\n                    <button className=\"btn blue\" onClick={handleFilter}>LỌC</button>\n                </div>\n            </div>\n        </div>\n    )\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport {BsPlus, BsBoxArrowInDown} from 'react-icons/bs';\nimport {RiFilter3Line, RiSearchLine, RiPrinterLine, RiSaveLine, RiArrowLeftSLine, RiPencilLine, RiDeleteBinLine} from 'react-icons/ri';\nimport {AiOutlineMenu} from 'react-icons/ai';\nimport {isMobile} from 'react-device-detect';\nimport {MdClose, MdLocalSee, MdRestore} from 'react-icons/md';\nimport {findWithAttr} from '../functions/Global';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport '../styles/components/Header_bar.scss';\nimport API from '@api';\nimport Config from '@config';\nimport { CustomerFilterDropDown } from '@components';\n\nclass FilterDropDown extends Component {\n    constructor(props) {\n        super(props);\n        this.wrapperRef = React.createRef();\n\n        //Load last filter value\n        let billFilter = JSON.parse(localStorage.getItem(\"bill_filter\")) || {\n            branch: \"all\",\n            photo: \"all\",\n            photoshop: \"all\",\n            support: \"all\",\n            tinh_trang: \"all\",\n            date: new Date().getFullYear() + '-' + ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1))\n        };\n\n        this.state = {\n            goi_chup_data: null,\n            staff: null,\n            branch: null,\n            status: null,\n            date: billFilter.date,\n            month: [1,2,3,4,5,6,7,8,9,10,11,12],\n            last_filter: billFilter\n        }\n\n        API.PackageType.getSlug(\"goi_chup\").then(res => {\n            let typeId = res.data._id;\n\n            API.Package.getType(typeId).then(res => {\n                this.setState({\n                    goi_chup_data: res.data\n                })\n            });\n        });\n\n        API.Staff.getAll().then(res => {\n            this.setState({\n                staff: res.data\n            })\n        });\n\n        API.Branch.getAll().then(res => {\n            this.setState({\n                branch: res.data\n            })\n        });\n\n        API.Status.getAll().then(res => {\n            this.setState({\n                status: res.data\n            })\n        });\n    }\n\n    handleFilter() {\n        let branch = this.refs.chi_nhanh.value;\n        let photo = this.refs.photo.value;\n        let photoshop = this.refs.photoshop.value;\n        let support = this.refs.support.value;\n        let tinh_trang = this.refs.tinh_trang.value;\n        let month = this.state.date.split(\"-\")[1];\n        let year =  this.state.date.split(\"-\")[0];\n\n        //Save working filter\n        let billFilter = {\n            branch,\n            photo,\n            photoshop,\n            support,\n            tinh_trang,\n            date: `${year}-${month}`,\n            month, \n            year\n        }\n\n        localStorage.setItem(\"bill_filter\", JSON.stringify(billFilter));\n\n        this.props.onFilter(branch, photo, support, tinh_trang, month, year, photoshop);\n    }\n\n    handleSalaryFilter() {\n        let date = this.state.date;\n\n        this.props.onFilter(date)\n    }\n\n    componentDidMount() {\n      document.addEventListener('click', this.handleClick)\n    }\n    \n    componentWillUnmount() {\n      // important\n      document.removeEventListener('click', this.handleClick)\n    }\n    \n    handleClick = (event) => {\n        const { target } = event\n        try {\n            if (!this.wrapperRef.current.contains(target)) {\n                this.props.onHideDropDown();\n            }\n        } catch (e) {\n            console.log(e);\n        } \n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    render() {\n        if(!this.state.branch || !this.state.staff || !this.state.goi_chup_data || !this.state.status) {\n            return(\n                <div></div>\n            )\n        }\n        \n        const year = (new Date()).getFullYear();\n        const years = Array.from(new Array(20),( val, index) => index - year);\n\n        if(this.props.type == '1') {\n            return(\n                <div className=\"dropdown filter\" ref={this.wrapperRef} style={this.props.visible ? {display: \"block\"} : {display: \"none\"}}>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày cần tìm:</span>\n                        <LavenDatePicker format={'YYYY-MM'} date={this.state.date} ref=\"date\" className=\"textbox calendar\" onChange={this.handleChange}/>\n                    </div>\n    \n                    <div className=\"box\">\n                        <button className=\"btn blue\" onClick={this.handleSalaryFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n            )\n        }\n\n        return(\n            <div className=\"dropdown filter\" ref={this.wrapperRef} style={this.props.visible ? {display: \"block\"} : {display: \"none\"}}>\n                {/* <div className=\"box\">\n                    <span className=\"title\">Chi nhánh:</span>\n                    <select ref=\"chi_nhanh\">\n                        <option value=\"all\" selected={this.state.last_filter.branch == \"all\"} >Tất cả</option>\n                        {this.state.branch.map((data, i) => {\n                            return (\n                                <option \n                                    value={data._id} \n                                    key={i}\n                                    selected={this.state.last_filter.branch == data._id}\n                                >{data.ten_chi_nhanh}</option>\n                            )\n                        })}\n                    </select>\n                </div> */}\n                <div className=\"box\">\n                    <span className=\"title\">Photo:</span>\n                    <select ref=\"photo\">\n                        <option value=\"all\" selected={this.state.last_filter.photo == \"all\"} >Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option \n                                    value={data._id} \n                                    key={i}\n                                    selected={this.state.last_filter.photo == data._id}\n                                >{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Support:</span>\n                    <select ref=\"support\">\n                        <option value=\"all\"  selected={this.state.last_filter.photo == \"all\"}>Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option \n                                    value={data._id} \n                                    key={i}\n                                    selected={this.state.last_filter.photo == data._id}\n                                >{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Photoshop:</span>\n                    <select ref=\"photoshop\">\n                        <option value=\"all\"  selected={this.state.last_filter.photoshop == \"all\"}>Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option \n                                    value={data._id} \n                                    key={i}\n                                    selected={this.state.last_filter.photoshop == data._id}\n                                >{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Tình trạng:</span>\n                    <select ref=\"tinh_trang\">\n                        <option value=\"all\" selected={this.state.last_filter.tinh_trang == \"all\"}>Tất cả</option>\n                        {this.state.status.map((data, i) => {\n                            return (\n                                <option \n                                    value={data._id} \n                                    key={i}\n                                    selected={this.state.last_filter.tinh_trang == data._id}\n                                >{data.ten_tinh_trang}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Năm & Tháng:</span>\n                    <LavenDatePicker \n                        format={'YYYY-MM'} \n                        date={this.state.date} \n                        ref=\"date\" \n                        className=\"textbox calendar\" \n                        onChange={this.handleChange}\n                        default\n                    />\n                </div>\n\n                <div className=\"box\">\n                    <button className=\"btn blue\" onClick={this.handleFilter.bind(this)}>LỌC</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass FullSearchBox extends Component {\n    render() {\n        return( \n            <div className=\"header_bar\">\n                <div className=\"full_search_box\">\n                    <RiSearchLine className=\"icon\"/>\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" onKeyUp={this.props.onKeyUp}/>\n                    <MdClose className=\"icon close\" onClick={this.props.onClose}/>\n                    \n                    {this.props.autocomplete_data != undefined ? \n                                    <div className=\"autocomplete_container\">\n                                        <ul>\n                                            {this.props.autocomplete_data.map((data, i) => {\n                                                console.log(data);\n                                                return(<li>\n                                                    <Link to={`bill_edit/${data._id}`}>\n                                                        {data.title}\n                                                        <br/><br/>\n                                                        Ngày: {data.ngay_chup}\n                                                        <br/> \n                                                        Giờ chụp: {data.gio_chup}\n                                                    </Link></li>)\n                                            })}\n                                        </ul>\n                                    </div> : null}\n                </div>\n            </div>      \n        )\n    }\n}\n\nclass HeaderBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filter_dropdown_visible: false,\n            perms: null,\n            sidebar_visible: false,\n            searching: false\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            console.log(res.data.perms);\n            this.setState({\n                perms: res.data.perms\n            })\n        })\n    }\n\n    //SHOW FILTER DROPDOWN\n    handleShowFilterDropdown = () => {\n        setTimeout(() => {\n            this.setState({\n                filter_dropdown_visible: true\n            })\n        }, 100)\n    }\n\n    //HIDE FILTER DROPDOWN\n    handleHideFilterDropdown = () => {\n        this.setState({\n            filter_dropdown_visible: false\n        })\n    }\n\n    //TÌM KIẾM\n    handleSearch = (e) => {\n        this.props.onSearchKeyPress(e.target.value);\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox onKeyUp={this.handleSearch} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        const perms = this.state.perms;\n\n        return(\n            <div className=\"header_bar\">\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>{this.props.title}</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        {isMobile ? \n                            <a className=\"link_btn\" onClick={this.props.onDownload} target=\"_download\">\n                                <BsBoxArrowInDown className=\"icon\"/></a> : \n                            <a className=\"link_btn\" onClick={this.props.onDownload} target=\"_download\">\n                                <BsBoxArrowInDown className=\"icon\"/>Tải xuống\n                            </a>\n                        }\n                        {perms.bill[1] == \"1\" ? this.props.title === \"Đơn Hàng\" ? (isMobile ? <Link className=\"link_btn\" to=\"bill_edit/create_new\"><BsPlus className=\"icon\"/></Link> : <Link className=\"link_btn\" to=\"bill_edit/create_new\"><BsPlus className=\"icon\"/>Tạo mới</Link>) : this.props.title === \"Khách Hàng\" ? \"\" : null : null}\n                        <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterBtnClick}/>\n                        </div>\n                        {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        <div className=\"search_box\">\n                            <RiSearchLine className=\"icon\"/>\n                            <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={this.handleSearch}></input>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BillEditHeader extends Component {\n\n    render() {\n        return(\n            <div className=\"header_bar\">\n                {isMobile ? <button className=\"side_bar_btn\"><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1 className=\"back\" onClick={this.props.onGoBack}><RiArrowLeftSLine className=\"icon\"/>Thông Tin Đơn Hàng</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        <button><RiPrinterLine className=\"icon\"/>{isMobile ? null : 'In hóa đơn'}</button>\n                        <button onClick={this.props.onSave}><RiSaveLine className=\"icon\"/>{isMobile ? null : 'Lưu'}</button>\n                        <button><BsPlus className=\"icon\"/>{isMobile ? null : 'Thêm sản phẩm'}</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass SettingsHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sidebar_visible: false\n        }\n    }\n    \n    render() {\n        return(\n            <div className=\"header_bar\">\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>Cài Đặt</h1>\n                <div className=\"right_tools_container\">\n                </div>\n            </div>\n        )\n    }\n}\n\nclass DefaultHeaderBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sidebar_visible: false,\n            filter_dropdown_visible: false,\n            branch: null,\n            searching: false\n        }\n\n        API.Branch.getAll().then(res => {\n            this.setState({\n                branch: res.data\n            })\n        });\n    }\n\n    //SHOW FILTER DROPDOWN\n    handleShowFilterDropdown = () => {\n        setTimeout(() => {\n            this.setState({\n                filter_dropdown_visible: true\n            })\n        }, 100)\n    }\n\n    //HIDE FILTER DROPDOWN\n    handleHideFilterDropdown = () => {\n        this.setState({\n            filter_dropdown_visible: false\n        })\n    }\n\n    render() {\n        if(!this.state.branch) {\n            return <div></div>\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox autocomplete_data={this.props.autocomplete_data} onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                {isMobile ? (this.props.back_link !== undefined ? <Link onClick={this.props.onGoBack} className=\"side_bar_btn\"><RiArrowLeftSLine className=\"icon\"/></Link> : <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button>) : null}\n                {this.props.onGoBack !== undefined ? \n                <h1 className=\"back\" onClick={this.props.onGoBack}><RiArrowLeftSLine className=\"icon\"/>{this.props.title}</h1> : \n                    <h1>{this.props.title}</h1>\n                }\n                \n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        <h4 className=\"custom_title\" style={{opacity: .55, fontSize: 13, fontWeight: 'bold', marginRight: 12}}>{this.props.customTitle}</h4>\n                        {\n                            this.props.actions?.map((item, index) => {\n                                return (\n                                    <div key={`header-action-item-${index}`}>\n                                        { item }\n                                    </div>\n                                );\n                            })\n                        }\n                        {\n                            this.props.onCustomerFilter &&\n                            <div className=\"dropdown_group\">\n                                {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>} \n                                <CustomerFilterDropDown visible={this.state.filter_dropdown_visible} onFilter={this.props.onCustomerFilter} onHideDropDown={this.handleHideFilterDropdown}/> \n                            </div>\n                        }\n                        {this.props.handleSalaryFilter !== undefined ?  \n                        <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown type=\"1\" onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterSalaryBtnClick}/>\n                        </div>:null}\n                        {this.props.goHistory !== null && this.props.goHistory !== undefined? <Link className=\"link_btn\" to={this.props.goHistory}><MdRestore className=\"icon\"/>{isMobile ? null : \"Lịch sử chỉnh sửa\"}</Link> : null}\n                        {this.props.handleEdit !== null && this.props.handleEdit !== undefined ? <button onClick={this.props.handleEdit}><RiPencilLine className=\"icon\"/>{isMobile ? null : \"Chỉnh sửa\" }</button> : null}\n                        {this.props.create_btn_link !== null && this.props.create_btn_link !== undefined? <Link className=\"link_btn\" to={this.props.create_btn_link}><BsPlus className=\"icon\"/>{isMobile ? null : \"Tạo mới\"}</Link> : null}\n                        {this.props.handleCreate !== null && this.props.handleCreate !== undefined? <button onClick={this.props.handleCreate}><BsPlus className=\"icon\"/>{isMobile ? null : \"Tạo mới\"}</button> : null}\n                        {this.props.onDropdownFilterBtnClick !== undefined ? <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterBtnClick}/>\n                        </div> : null }\n                        {this.props.handleAddProduct !== undefined && this.props.handleAddProduct !== null ?<button onClick={this.props.handleAddProduct}><BsPlus className=\"icon\"/>{isMobile ? null : \"Thêm sản phẩm\"}</button> : null}\n                        {this.props.handlePrintBill !== undefined ? <button onClick={this.props.handlePrintBill}><RiPrinterLine className=\"icon\"/>{isMobile ? null : \"In hóa đơn\"}</button> : null}\n                        {this.props.handleSave !== null && this.props.handleSave !== undefined? <button onClick={this.props.handleSave}><RiSaveLine className=\"icon\"/>{isMobile ? null : \"Lưu\"}</button> : null}\n                        {this.props.handleRestore !== null && this.props.handleRestore !== undefined ? <button onClick={this.props.handleRestore}><MdRestore className=\"icon\"/>{isMobile? null : \"Khôi phục đơn hàng\"}</button> : null}\n                        {this.props.handleRemove !== null && this.props.handleRemove !== undefined? <button onClick={this.props.handleRemove}><RiDeleteBinLine className=\"icon\"/>{isMobile ? null : \"Xóa\"}</button> : null}\n                        {this.props.handleCalendarFilter !== undefined ?\n                            <select ref=\"branch\" onChange={this.props.handleCalendarFilter}>\n                                <option value=\"\" disabled selected>Chi nhánh</option>\n                                <option value=\"all\">Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data.ten_chi_nhanh}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>: null}\n                            {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        {this.props.onSearchKeyPress !== undefined ?                           \n                            <div className=\"search_box\">\n                                <RiSearchLine className=\"icon\"/>\n                                <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)}></input>\n                            \n                                {this.props.autocomplete_data != undefined ? \n                                    <div className=\"autocomplete_container\">\n                                        <ul>\n                                            {this.props.autocomplete_data.map((data, i) => {\n                                                console.log(data);\n                                                return(<li>\n                                                    <Link to={`bill_edit/${data._id}`}>\n                                                        {data.title}\n                                                        <br/><br/>\n                                                        Ngày: {data.ngay_chup}\n                                                        <br/> \n                                                        Giờ chụp: {data.gio_chup}\n                                                    </Link></li>)\n                                            })}\n                                        </ul>\n                                    </div> : null}\n\n                            </div>       : null}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    HeaderBar,\n    BillEditHeader,\n    SettingsHeader,\n    DefaultHeaderBar\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport {HashSpiner} from './Spiners';\nimport {numberWithCommas, removeVietnameseTones, findWithAttr, salaryLoad, salaryCalculate} from '../functions/Global';\nimport API from \"@api\";\n\nimport '../styles/components/Table.scss';\n\nclass BillTableContainer extends Component {\n    render() {\n        if(this.props.data === null) {\n          return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell>STT</Cell>\n                    <Cell>Chi Nhánh</Cell>\n                    <Cell>Giờ Chụp</Cell>\n                    <Cell>Ngày Chụp</Cell>\n                    <Cell>Tên Khách Hàng</Cell>\n                    <Cell>SĐT</Cell>\n                    <Cell>Họ Tên Bé</Cell>\n                    <Cell>Tổng</Cell>\n                    <Cell>Đã Thu</Cell>\n                    <Cell>Còn Nợ</Cell>\n                    <Cell>Tình Trạng</Cell>\n                    <Cell>Ngày Giao</Cell>\n                    <Cell>Ghi Chú</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                      let ngay_chup = data.ngay_chup\n                      ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                      let ngay_giao_hinh = data.ngay_giao_hinh;\n\n                      return(\n                        <Row className=\"row\">\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{i + 1}</Link></Cell>\n                          <Cell><div className={`row`} style={{backgroundColor: data.chi_nhanh.color}}><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.chi_nhanh.ten_chi_nhanh}</Link></div></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.gio_chup}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{ngay_chup}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.ten_khach_hang}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.ho_ten_be}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{numberWithCommas(data.tong)} đ</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{numberWithCommas(data.dat_coc_1 + data.thanh_toan_l1_1 + data.thanh_toan_l2_1 + (data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0))} đ</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{numberWithCommas(data.con_no)} đ</Link></Cell>\n                          <Cell><div className={`row`} style={{backgroundColor: data.tinh_trang?.color}}><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.tinh_trang?.ten_tinh_trang}</Link></div></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{ngay_giao_hinh}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `bill_restore/${data._id}` : `bill_edit/${data._id}`}>{data.ghi_chu}</Link></Cell>\n                        </Row>\n                      )\n                  }, this)}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass SpendingTable extends Component {\n    handleEdit = (id) => {\n      this.props.handleOpenModal(id);\n    }\n\n    render() {\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Ngày Chi</Cell>\n                    <Cell>Nội Dung</Cell>\n                    <Cell>Số Tiền</Cell>\n                    <Cell>Trạng Thái Thanh Toán</Cell>\n                    <Cell>Người Chi</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                    let date = data.date.split(\"T\")[0];\n                    date = date.split(\"-\");\n                    date = date[2] + \"-\" + date[1] + \"-\" + date[0];\n\n                    return(\n                      <Row className=\"row\" onClick={() => this.handleEdit(data._id)}>\n                        <Cell>{i + 1}</Cell>\n                        <Cell>{date}</Cell>\n                        <Cell>{data.noi_dung}</Cell>\n                        <Cell>{data.so_tien ? numberWithCommas(data.so_tien) : 0} đ</Cell>\n                        <Cell>{data.type == 0 ? \"Chuyển khoản\" : \"Tiền mặt\"}</Cell>\n                        <Cell>{data.user}</Cell>\n                      </Row>\n                    )\n                  })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass SpendingTableAnalytics extends Component {\n  render() {\n      if(!this.props.data) {\n        return <div></div>\n      }\n\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\" style={{margin: \"0\"}}>\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Ngày Chi</Cell>\n                  <Cell>Nội Dung</Cell>\n                  <Cell>Số Tiền</Cell>\n                  <Cell>Trạng Thái Thanh Toán</Cell>\n                  <Cell>Người Chi</Cell>\n                </Row>\n                {this.props.data.map((data, i) => {\n                  let ngay_chi = data.date_created.split(\"T\")[0].split(\"-\");\n                  ngay_chi = ngay_chi[0].length == 2 ? data.date_created.split(\"T\")[0] : ngay_chi[2] + '-' + ngay_chi[1] + '-' + ngay_chi[0];\n\n                  return(\n                    <Row className=\"row\">\n                      <Cell>{i + 1}</Cell>\n                      <Cell>{ngay_chi}</Cell>\n                      <Cell>{data.noi_dung}</Cell>\n                      <Cell>{data.so_tien ? numberWithCommas(data.so_tien) : 0} đ</Cell>\n                      <Cell>{data.type == 0 ? \"Chuyển khoản\" : \"Tiền mặt\"}</Cell>\n                      <Cell>{data.user_id.ho_ten}</Cell>\n                    </Row>\n                  )\n                })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass StaffTable extends Component {\n\n  render() {\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\">\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Họ Tên</Cell>\n                  <Cell>SĐT</Cell>\n                  <Cell>CHỨC VỤ</Cell>\n                  <Cell>LƯƠNG CB</Cell>\n                </Row>\n                  {this.props.data.map((data, i) => {\n                    let birthday = new Date(data.ngay_sinh);\n                    return(\n                      <Row className=\"row\">\n                        <Cell><Link to={`staff_edit/${data._id}`}>{i + 1}</Link></Cell>\n                        <Cell><Link to={`staff_edit/${data._id}`}>{data.ho_ten}</Link></Cell>\n                        <Cell><Link to={`staff_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                        <Cell><Link to={`staff_edit/${data._id}`}>{this.props.perms[findWithAttr(this.props.perms, '_id', data.chuc_vu)] ? this.props.perms[findWithAttr(this.props.perms, '_id', data.chuc_vu)].ten_nhom : null}</Link></Cell>\n                        <Cell><Link to={`staff_edit/${data._id}`}>{data.luong_co_ban}</Link></Cell>\n                      </Row>\n                    )\n                  })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass PermissionTable extends Component {\n  render() {\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\">\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell style={{width: \"32px\"}}>STT</Cell>\n              <Cell>Tên Nhóm</Cell>\n            </Row>\n              <Row className=\"row\">\n                <Cell><a>1</a></Cell>\n                <Cell><a>Kỹ Thuật</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>2</a></Cell>\n                <Cell><a>Tư Vấn</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>3</a></Cell>\n                <Cell><a>Quản Lý</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>4</a></Cell>\n                <Cell><a>Admin</a></Cell>\n              </Row>\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AnalyticsTable extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          bill: null\n      }\n\n      API.Bill.getAll().then(res => {\n        let data = res.data;\n\n        this.setState({\n          bill: data\n        })\n      });\n  }\n\n  render() {\n    if(!this.props.data) {\n      return(\n        <div></div>\n      )\n    }\n\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\" style={{margin: \"20px\"}}>\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell>STT</Cell>\n              <Cell>Chi Nhánh</Cell>\n              <Cell>Giờ Chụp</Cell>\n              <Cell>Ngày Chụp</Cell>\n              <Cell>Tên Khách Hàng</Cell>\n              <Cell>SĐT</Cell>\n              <Cell>Họ Tên Bé</Cell>\n              <Cell>Tổng</Cell>\n              <Cell>Đã Thu</Cell>\n              <Cell>Thu Trong Ngày</Cell>\n              <Cell>Còn Nợ</Cell>\n              <Cell>Tình Trạng</Cell>\n              <Cell>Ghi Chú</Cell>\n            </Row>\n            {this.props.data.map((data, i) => {\n                let ngay_chup = data.ngay_chup.split(\"-\");\n                ngay_chup = ngay_chup[0].length !== 2 ? ngay_chup[2] + '-' + ngay_chup[1] + '-' + ngay_chup[0] : ngay_chup[0] + '-' + ngay_chup[1] + '-' + ngay_chup[2]\n\n                return(\n                  <Row className=\"row\">\n                    <Cell><Link to={`bill_edit/${data._id}`}>{i + 1}</Link></Cell>\n                    <Cell><div className=\"row\" style={{backgroundColor: data.chi_nhanh.color}}><Link to={`/bill_edit/${data._id}`}>{data.chi_nhanh.ten_chi_nhanh}</Link></div></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{data.gio_chup}</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{ngay_chup}</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{data.ten_khach_hang}</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{data.ho_ten_be}</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{numberWithCommas(data.tong)} đ</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{numberWithCommas(data.daThu)} đ</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{numberWithCommas(data.daThuToday)} đ</Link></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{numberWithCommas(data.con_no)} đ</Link></Cell>\n                    <Cell><div className=\"row\" style={{backgroundColor: data.tinh_trang?.color}}><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.tinh_trang?.ten_tinh_trang}</Link></div></Cell>\n                    <Cell><Link to={`bill_edit/${data._id}`}>{data.ghi_chu}</Link></Cell>\n                  </Row>\n                )\n            }, this)}\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport {\n    BillTableContainer,\n    StaffTable,\n    PermissionTable,\n    AnalyticsTable,\n    SpendingTable,\n    SpendingTableAnalytics\n}","import React, {Component} from 'react';\nimport {HeaderBar} from '../components/Header_bar';\nimport {BillTableContainer} from '../components/Table';\nimport {removeVietnameseTones, transDate} from '../functions/Global';\nimport Excel from '@utils/Excel';\nimport API from '@api';\n\nconst WAIT_INTERVAL = 1000;\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bill: null,\n            default_bill_data: null,\n            typing: false,\n            typingTimeout: 0\n        }\n\n        this.handleFilter = this.handleFilter.bind(this);\n\n        this.fetchData();\n    }\n\n    async fetchData() {\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n\n        await API.Bill.getAll().then(res => {\n            let data = res.data;\n\n            data = data.filter((data, i) => {\n                //Filter by date\n                if((parseInt((data.ngay_chup.split(\"-\")[1])) - 1) !== (new Date().getMonth())) return false;\n                if((parseInt((data.ngay_chup.split(\"-\")[2]))) !== (new Date().getFullYear())) return false;\n\n                //Filter by branch\n                if(branchSelected.indexOf(data.chi_nhanh._id) <= -1) return false;\n\n                return !data.deleted;\n            });\n            \n            this.setState ({\n              bill: data,\n              default_bill_data: data\n            })\n        }).catch(e => console.log(e));\n\n        //Load last filter\n        let billFilter = JSON.parse(localStorage.getItem(\"bill_filter\")) || {\n            photo: \"all\",\n            photoshop: \"all\",\n            support: \"all\",\n            tinh_trang: \"all\",\n            date: new Date().getFullYear() + '-' + ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1)),\n            year: new Date().getFullYear(),\n            month: ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1))\n        };\n\n        this.handleFilter(\n            billFilter.photo,\n            billFilter.support,\n            billFilter.tinh_trang,\n            billFilter.month,\n            billFilter.year,\n            billFilter.photoshop\n        )\n    }\n    \n    //THỰC HIỆN LỌC TỪ DROPDOWN\n    handleFilter(photo, support, tinh_trang, month, year, photoshop) {\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n\n        //RELOAD DATA\n        API.Bill.getAll().then(res => {\n            //LỌC DATA\n            let filtered_data = res.data.filter((data, i) => {\n                //LỌC THEO CHI NHÁNH\n                if(branchSelected.indexOf(data.chi_nhanh._id) <= -1) return false;\n\n                //LỌC THEO PHOTO\n                if(photo !== \"all\") {\n                    if(data.photo !== photo) return false;\n                }\n\n\n                //LỌC THEO SUPPORT\n                if(support !== \"all\") {\n                    if(data.support !== support) return false;\n                }\n\n                //LỌC THEO PHOTOSHOP\n                if(photoshop !== \"all\") {\n                if(data.photoshop !== photoshop) return false;\n                }\n\n                //LỌC THEO TÌNH TRẠNG\n                if(tinh_trang !== \"all\") {\n                    if(data.tinh_trang._id !== tinh_trang) return false;\n                }\n\n                //LỌC THEO THÁNG\n                if(month !== \"all\") {\n                    if((parseInt((data.ngay_chup.split(\"-\")[1]))) !== parseInt(month)) return false;\n                }\n\n                //LỌC THEO NĂM\n                if(year !== \"all\") {\n                if((new Date(transDate.toOld(data.ngay_chup)).getFullYear()).toString() !== year.toString()) return false;\n                }\n\n                if(data.deleted) {\n                    return false;\n                }\n\n                return true;\n            });\n  \n            this.setState({\n                bill: filtered_data,\n                default_bill_data: filtered_data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        if(this.state.typingTimeout) {\n            clearTimeout(this.state.typingTimeout);\n        }\n\n        const self = this;\n\n        //ĐỢI NGƯỜI DÙNG NHẬP HẾT TỪ MỚI LOAD\n        this.setState({\n            typing: false,\n            typingTimeout: setTimeout(function () {\n                self.search(search_value)\n            }, 500)\n        })\n    }\n\n    search = (search_value) => {\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n\n        API.Bill.getAll().then(res => {\n            let data = res.data.sort((a, b) => { return new Date(transDate.toOld(b.ngay_chup)) - new Date(transDate.toOld(a.ngay_chup)) })\n\n            data = data.filter((data, i) => {\n                //Filter by date\n                if((parseInt((data.ngay_chup.split(\"-\")[1])) - 1) !== (new Date().getMonth())) return false;\n                if((parseInt((data.ngay_chup.split(\"-\")[2]))) !== (new Date().getFullYear())) return false;\n\n                //Filter by branch\n                if(branchSelected.indexOf(data.chi_nhanh._id) <= -1) return false;\n\n                return !data.deleted;\n            });\n\n            //RELOAD DATA IF SEARCH VALUE IS NULL\n            if(search_value === \"\") {\n                  this.setState ({\n                    bill: data\n                  })\n            }\n    \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(data.deleted) return false;\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.ho_ten_be).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                return false;\n            })\n      \n            this.setState({\n                bill: filtered_data\n            })\n        }, this).catch(e => console.log(e));\n    }\n\n    handleDownloadBills = async () => {\n        //*Convert to Excel File\n        let rowsData = this.state.bill.map((item, index) => ([\n            index + 1,\n            item?.chi_nhanh.ten_chi_nhanh,\n            item?.gio_chup,\n            item?.ngay_chup,\n            item?.ten_khach_hang,\n            item?.so_dien_thoai,\n            item?.ho_ten_be,\n            item?.tong,\n            0, //!TODO: Calculate tong with Dat Coc & Da Thu\n            item?.con_no,\n            item.tinh_trang.ten_tinh_trang,\n            item.ngay_giao_hinh,\n            item.ghi_chu\n        ]));\n        let excelFile = Excel.createExcel([\n            \"STT\",\n            \"Chi nhánh\",\n            \"Giờ chụp\",\n            \"Ngày chụp\",\n            \"Tên khách hàng\",\n            \"SĐT\",\n            \"Họ tên bé\",\n            \"Tổng\",\n            \"Đã thu\",\n            \"Còn nợ\",\n            \"Tình trạng\",\n            \"Ngày giao\",\n            \"Ghi chú\"\n        ], rowsData);\n\n        // Convert and Download file\n        let dateNow = new Date();\n        let filename = `DS_Don_Hang_${dateNow.getDate()}-${dateNow.getMonth() + 1}-${dateNow.getFullYear()}`;\n        var blob = new Blob([excelFile], {\n            type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        });\n        var element = document.createElement('a');\n        element.setAttribute('href', window.URL.createObjectURL(blob));\n        element.setAttribute('download', filename);\n      \n        element.style.display = 'none';\n        document.body.appendChild(element);\n      \n        element.click();\n      \n        document.body.removeChild(element);\n    }\n\n    render() {\n        if(!this.state.bill && !this.state.default_bill_data) {\n            return(\n                <div></div>\n            )\n        }\n\n        return(\n            <div>\n                <HeaderBar \n                    onDownload={this.handleDownloadBills} \n                    title=\"Đơn Hàng\" \n                    onDropdownFilterBtnClick={this.handleFilter} \n                    onSearchKeyPress={this.handleSearch}\n                />\n                <BillTableContainer data={this.state.bill} type=\"0\"/>\n            </div>\n        )\n    }\n}\n\nexport default Home;","import React, {Component} from 'react';\nimport '../styles/components/Cards.scss';\nimport {numberWithCommas,salaryLoad, salaryCalculate, getAge} from '../functions/Global';\nimport API from '@api';\n\nclass SalaryTableCard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            chuc_vu: null,\n            history: null\n        }\n\n        // API.Permission.getUserPerm().then(res => {\n        //     let perm = res.data;\n\n        //     API.Staff\n        // });\n\n        // getPermissions((res) => {\n        //     this.setState({\n        //         perms: res\n        //     })\n\n        //     getSingleStaffFromEmail(this.props.data.email, (res) => {\n        //         this.setState({\n        //             chuc_vu: this.state.perms[res.chuc_vu].ten_nhom\n        //         })\n        //     })\n        // })\n    }\n    render() {\n        // if(!this.props.data || !this.state.perms || !this.state.chuc_vu || !this.props.history) {\n        //     return <div></div>\n        // }\n\n        // const data = this.props.history;\n        // let chuc_vu = this.state.chuc_vu;\n\n        // let date_created = data.date_created.split(\"T\")[0];\n        // date_created = date_created.split(\"-\");\n        // date_created  ='Tháng ' + date_created[1] + ' năm ' + date_created[0];\n\n        return(\n            <div></div>\n            // <div className=\"card salary\">\n            //     <h1>{date_created}</h1>\n            //     <span><b>Họ tên:</b> <span>{data.ho_ten}</span></span>\n            //     <span><b>Chức vụ:</b> <span>{chuc_vu}</span></span>\n            //     <span><b>Lương cơ bản:</b> <span>{numberWithCommas(data.luong_co_ban)} đ</span></span>\n            //     <span><b>Ngày công:</b> <span>{data.ngay_cong} ngày</span></span>\n            //     <span><b>Lương tháng:</b> <span>{numberWithCommas(data.luong_thang)} đ</span></span>\n            //     <span><b>Thưởng doanh thu tư vấn ( Gói chụp ):</b> <span>{data.phan_tram_thuong_goi_chup_tu_van} %</span></span>\n            //     <span><b>Thưởng doanh thu tư vấn ( Dịch vụ ):</b> <span>{data.phan_tram_thuong_dich_vu_tu_van} %</span></span>\n            //     <span><b>Thưởng doanh thu photo ( Gói chụp ):</b> <span>{data.phan_tram_thuong_goi_chup_photo} %</span></span>\n            //     <span><b>Thưởng doanh thu:</b> <span>{numberWithCommas(data.total_photo)} đ</span></span>\n            //     <span><b>Thưởng dịch vụ:</b> <span>{numberWithCommas(data.total_service)} đ</span></span>\n            //     <span><b>Tổng thưởng:</b> <span>{numberWithCommas(data.total)} đ</span></span>\n            //     <hr/>\n            //     <span><b>Thực lãnh:</b> <span>{numberWithCommas(data.thuc_lanh)}  đ</span></span>\n            // </div>\n        )\n    }\n}\n\nclass AnalyticsCard extends Component {\n    render() {\n        return(\n            <div className=\"card analytics\" style={this.props.onClick ? {cursor: \"pointer\"} : null} onClick={this.props.onClick}>\n                <div className={\"value_container \" + this.props.type}>\n                    <p>{this.props.type === \"da_thu\" ? \"Đã thu\" : this.props.type === \"tong\" || this.props.type == \"vi_tien\" ? \"Tổng\" : (this.props.type===\"da_chi\" ? \"Đã chi\" : this.props.type===\"con_giu\" ? \"Còn giữ\" : \"Còn nợ\")}</p>\n                    <h1>{this.props.value} đ</h1>\n                    {this.props.type === \"da_thu\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"da_thu\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                    {this.props.type === \"da_chi\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"da_chi\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                    {this.props.type === \"con_giu\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"con_giu\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                    {this.props.type === \"vi_tien\" ? <p>Địa Chỉ Ví: {this.props.dia_chi_vi}</p>: null}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ProductCard extends Component {\n    render() {\n        if(this.props.type === \"0\") {\n            return(\n                <div className=\"card product add_new\">\n                    <a>Thêm mới</a>\n                </div>\n            )\n        }else {\n            return(\n                <div className=\"card product\">\n                    <p className=\"title\">{this.props.title}</p>\n                    <p className=\"sub_title\">{this.props.sub_title}</p>\n                    <div className=\"card_image\" style={{background: \"url(\" + this.props.image + \") no-repeat center center / cover\"}}></div>\n                </div>\n            )\n        }\n    }\n}\n\nexport {\n    ProductCard,\n    AnalyticsCard,\n    SalaryTableCard \n}","import React, {Component} from 'react';\n\nimport {HeaderBar} from '../components/Header_bar';\nimport {ProductCard} from '../components/Cards';\n\nclass Products extends Component {\n    render() {\n        return(\n            <div>\n                <HeaderBar title=\"Sản Phẩm\"/>\n                <div className=\"product_container\">\n                    <ProductCard type=\"0\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Tiết Kiệm\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"Baby Cơ Bản\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg\" title=\"Kèm Ba Mẹ\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"Chỉnh Sửa Baby\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Cao Cấp\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"New Born Cơ Bản\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"New Born Cao Cấp\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Bầu\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"Gia Đình\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Ngoại Cảnh\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg\" title=\"Chỉnh Sửa Gia Đình\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"Chỉnh Sửa New Born\" sub_title=\"1.000.000 đ\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Products;","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\n\nclass Logout extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { \n            success: false\n        }\n    \n        this.handleLogout();\n    }\n    \n    componentWillUnmount = () => {\n        window.location.reload();\n    }\n\n    handleLogout = () => {\n        localStorage.clear();\n\n        this.setState({\n            success: true\n        });\n\n        window.location.reload();\n    }\n\n    render() {\n        if(this.state.success) {\n            return(\n                <Redirect to='/login'/>\n            )\n        }\n\n        return(\n            <div></div>\n        )\n    }\n}\n\nexport default Logout;","import React, {Component} from 'react';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {salaryLoad, salaryCalculate, getAge} from '../functions/Global';\nimport {SalaryTableCard} from './Cards';\nimport {numberWithCommas, removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport {Redirect} from 'react-router-dom';\nimport API from '@api';\n\nimport \"../styles/components/Forms.scss\";\n\nclass StaffSalaryForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chuc_vu: null,\n            date: this.props.data ? new Date(this.props.data.ngay_sinh) : new Date(),\n            date_filter: new Date().getFullYear() + '-' + parseInt(new Date().getMonth()),\n            redirect: false\n        }\n\n        API.Permission.getUserPerm((res) => {\n            this.setState({\n                chuc_vu: res.data\n            })\n        })\n\n        this.SalaryTableCalculate(this.props.data, new Date().getFullYear(), parseInt(new Date().getMonth()));\n\n        this.handleLoadBonus();\n    }\n\n    handleLoadBonus = async () => {\n        API.PackageType.getSlug('goi_chup').then(package_type => {\n            API.Package.getType(package_type.data._id).then(res => {\n                let goi_chup_data = res.data;\n                \n                this.setState({\n                    goi_chup: goi_chup_data\n                })\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n\n        API.PackageType.getSlug('dich_vu').then(package_type => {\n            API.Package.getType(package_type.data._id).then(res => {\n                let dich_vu_data = res.data;\n                \n                this.setState({\n                    dich_vu: dich_vu_data\n                })\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            luong_co_ban: this.refs.luong_co_ban.value,\n            ngay_cong: this.refs.ngay_cong.value,\n            phan_tram_thuong_dich_vu_tu_van: parseInt(this.refs.phan_tram_thuong_dich_vu_tu_van.value),\n            phan_tram_thuong_goi_chup_photo: parseInt(this.refs.phan_tram_thuong_goi_chup_photo.value),\n            phan_tram_thuong_goi_chup_tu_van: parseInt(this.refs.phan_tram_thuong_goi_chup_tu_van.value),  \n            date_created: this.state.date_filter\n        }\n\n        API.StaffSalary.update(this.props.data._id, data).then(res => {\n            this.setState({\n                redirect: true\n            })\n        });\n    }\n\n    salaryLoad = (data, month , year) => {\n        //Tính bảng lương\n        salaryLoad(data, month, year, (data) => {\n            this.setState({\n                history: data\n            });\n\n            this.refs.luong_co_ban.value = data.luong_co_ban;\n            this.refs.ngay_cong.value = data.ngay_cong;\n            this.refs.phan_tram_thuong_dich_vu_tu_van.value = data.phan_tram_thuong_dich_vu_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_photo.value = data.phan_tram_thuong_goi_chup_photo;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.luong_thang.value = numberWithCommas(data.luong_thang);\n            this.refs.tong_doanh_thu.value = numberWithCommas(data.total_photo);\n            this.refs.thuong_dich_vu.value = numberWithCommas(data.total_service);\n            this.refs.tong_thuong.value = numberWithCommas(data.total);\n            this.refs.thuc_lanh.value = numberWithCommas(data.thuc_lanh);\n        })\n    }\n\n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        let dates = date.split(\"-\");\n        this.salaryLoad(this.props.data, dates[0], parseInt(dates[1]) - 1);\n        this.setState({\n            date_filter: dates[0] + '-' + (parseInt(dates[1]) - 1)\n        })\n    }\n\n    //Tính bảng lunogw\n    SalaryTableCalculate = (data, month, year) => {\n        //Tính bảng lương\n        salaryCalculate(data, month, year, (data) => {\n            this.setState({\n                history: data\n            });\n\n            this.refs.luong_co_ban.value = data.luong_co_ban;\n            this.refs.ngay_cong.value = data.ngay_cong;\n            this.refs.phan_tram_thuong_dich_vu_tu_van.value = data.phan_tram_thuong_dich_vu_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_photo.value = data.phan_tram_thuong_goi_chup_photo;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.luong_thang.value = numberWithCommas(data.luong_thang);\n            this.refs.tong_doanh_thu.value = numberWithCommas(data.total_photo);\n            this.refs.thuong_dich_vu.value = numberWithCommas(data.total_service);\n            this.refs.tong_thuong.value = numberWithCommas(data.total);\n            this.refs.thuc_lanh.value = numberWithCommas(data.thuc_lanh);\n        })\n    }\n\n    //Sự kiện thay đổi giá trị % thưởng\n    onInputChange = (e, element) => {\n        let history = this.state.history;\n        history[element] = element == 'ngay_cong' ? e.target.value : parseInt(e.target.value);\n\n        if(element === 'phan_tram_thuong_goi_chup_tu_van') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'phan_tram_thuong_goi_chup_photo') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'phan_tram_thuong_dich_vu_tu_van') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'luong_co_ban') {\n            this.setState({\n                history: history\n            })\n        }\n\n        this.SalaryTableCalculate(this.state.history, this.state.date_filter.split(\"-\")[0], this.state.date_filter.split(\"-\")[1])\n    }\n\n    render() {\n\n        if(!this.props.data) {\n            return <div></div>\n        }\n\n        if(this.state.redirect) {\n            return(<Redirect to=\"staff_salary\"/>)\n        }\n\n        const perm = this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary;\n\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Cơ Bản</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'luong_co_ban')} ref=\"luong_co_ban\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Công</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'ngay_cong')} ref=\"ngay_cong\" type=\"text\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Tháng</span>\n                        <input className=\"textbox\" ref=\"luong_thang\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Tư Vấn (Gói chụp)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_goi_chup_tu_van')} ref=\"phan_tram_thuong_goi_chup_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Photo (Gói chụp)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_goi_chup_photo')} ref=\"phan_tram_thuong_goi_chup_photo\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thưởng Doanh Thu</span>\n                        <input className=\"textbox\" ref=\"tong_doanh_thu\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Tư Vấn (Dịch Vụ)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_dich_vu_tu_van')} ref=\"phan_tram_thuong_dich_vu_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thưởng Dịch Vụ</span>\n                        <input className=\"textbox\" ref=\"thuong_dich_vu\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tổng Thưởng</span>\n                        <input className=\"textbox\" ref=\"tong_thuong\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thực Lãnh</span>\n                        <input className=\"textbox\" ref=\"thuc_lanh\" type=\"text\" disabled/>\n                    </div>\n                </div>\n                <div className=\"column\">\n                    <SalaryTableCard data={this.props.data} history={this.state.history}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionForm extends Component {\n    render() {\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Nhóm</span>\n                        <input className=\"textbox\" ref=\"branch\" type=\"text\"/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    PermissionForm,\n    StaffSalaryForm\n}","import React,{Component} from 'react';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {StaffSalaryForm} from '../components/Forms';\nimport {Redirect} from 'react-router-dom';\nimport {salaryCalculate} from '../functions/Global';\nimport { findWithAttr} from '../functions/Global';\nimport API from '@api';\n\nclass StaffEdit extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            redirect: false,\n            perms: null\n        }\n\n        if(this.props.match.params.id !== \"create_new\") {\n            API.Staff.get(`${this.props.match.params.id}`).then(res => {\n                this.setState({data: res.data})\n            });\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({perms: res.data})\n        });\n    }\n\n    handleSave = () => {\n        this.refs.staff_form.handleSave();\n    }\n\n    saveStaff = (data) => {\n        if(this.props.match.params.id !== \"create_new\") {\n            let new_data = data;\n\n            data[\"date_created\"] = this.state.data.date_created;\n            \n            // updateStaff(data, this.state.data._id, (res) => {\n            //     this.setState ({\n            //         redirect: true\n            //     })\n            // });\n        }else {\n            // createStaff(data, (res) => {\n            //     this.setState ({\n            //         redirect: true\n            //     })\n            // });\n        }\n    }\n\n    handleRemove = () => {\n        // removeStaff(this.props.match.params.id, (res) => {\n        //     this.setState ({\n        //         redirect: true\n        //     })\n        // });\n    }\n\n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        this.refs.staff_form.handleFilter(date);\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div></div>)\n        }\n\n        if(this.state.redirect){\n            return(<Redirect to=\"/staff_salary\"/>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar create_btn_link={null} onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} handleRemove={ null }  onGoBack={() => this.props.history.goBack()} title=\"Lương Nhân Viên\" handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary[2] == \"1\" ? this.handleSave: null}/>\n                <StaffSalaryForm ref=\"staff_form\" data={this.state.data} perms={this.state.perms} onSave={this.saveStaff} history={this.state.history}/>\n            </div>\n        )\n    }\n}\n\nexport default StaffEdit;","import React, {Component} from 'react';\nimport {BsBoxArrowInDown, BsFiles} from 'react-icons/bs';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport Axios from 'axios';\nimport {Redirect} from 'react-dom';\n\nclass Backup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        }\n    }\n\n    handleRestore = (e) => {\n        var formData = new FormData();\n        var backupFile = e.target.files[0];\n\n        formData.append(\"file\", backupFile);\n\n        //POST TO SERVER\n        // Axios.post(`${API}/restore`, formData, {\n        //     headers: {\n        //       'Content-Type': 'multipart/form-data'\n        //     }\n        // }).then((res) => {\n        //     alert(\"Restore Dữ Liệu Thành Công!\");\n        // });\n    }\n\n    render() {\n\n        return(\n            <div className=\"settings_view\">\n                {localStorage.getItem('chuc_vu') ? <DefaultHeaderBar onGoBack={() => this.props.history.goBack()} title=\"Sao Lưu\"/> : null}\n                <div className=\"settings_container\">\n                    <a className=\"setting_card\" href={`/create_backup`} target=\"_download\" style={{cursor: 'pointer'}}>\n                        <div className=\"icon_container\">\n                            <BsFiles className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Tạo Bản Sao Lưu</span>\n                    </a>\n\n                    <label className=\"setting_card\" htmlFor=\"backup_file\" style={{display: 'flex', cursor: \"pointer\"}}>\n                        <div className=\"icon_container\">\n                            <BsBoxArrowInDown className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhập Dữ Liệu</span>\n                    </label>\n                    <input type=\"file\" name=\"backup_file\" id=\"backup_file\" style={{display: 'none'}} onChange={this.handleRestore}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Backup;","import React, {Component} from 'react';\nimport {PackageHeader} from '@components';\nimport {removeVietnameseTones} from '@functions/Global';\nimport {HashSpiner} from '@components/Spiners';\nimport { PackageTable, FormModal } from \"@components\";\nimport API from '@api';\n\nclass PackageScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {}\n\n        this.fetchData();\n    }\n\n    fetchData = () => {\n        this.setState({\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            data_goi_chup: null,\n            goi_chup_type_id: null,\n            loading: false,\n            edit_id: null,\n            perms: null\n        })\n\n        API.PackageType.getSlug(this.props.match.params.type).then(package_type => {\n            API.Package.getType(package_type.data._id).then(res => {\n                let data = res.data;\n\n                data = data.sort((a, b) => {\n                    return a.ten_goi.localeCompare(b.ten_goi);\n                });\n\n                this.setState ({\n                    goi_chup_type_id: package_type.data._id,\n                    data_goi_chup: data\n                })\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location !== prevProps.location) {\n            this.fetchData();\n        }\n    }\n\n    handleOpenModal = () => {\n        this.refs.ten_goi.value = \"\";\n        this.refs.gia.value = \"\";\n\n        this.setState({\n            modal_is_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        API.Package.get(id).then(res => {\n            let data = res.data;\n\n            this.refs.ten_goi.value = data.ten_goi;\n            this.refs.gia.value = data.gia;\n            this.refs.description.value = data.description || \"\";\n            this.refs.soLuong.value = data.soLuong;\n\n            this.setState({\n                modal_is_open: \"true\",\n                edit_id: id\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.PackageType.getSlug(this.props.match.params.type).then(package_type => {\n                API.Package.getType(package_type.data._id).then(res => {\n                    this.setState ({\n                        data_goi_chup: res.data\n                    })\n                })\n            });\n        }\n\n        //RELOAD DATA\n        API.PackageType.getSlug(this.props.match.params.type).then(package_type => {\n            API.Package.getType(package_type.data._id).then(res => {\n                let data = res.data.reverse()\n        \n                //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n                let filtered_data = data.filter((data, i) => {\n                    if(removeVietnameseTones(data.ten_goi).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                    \n                    return false;\n                })\n        \n                this.setState({\n                    data_goi_chup: filtered_data\n                })  \n            })\n        });      \n    }\n\n    updateData = () => {\n        API.Package.getType(this.state.goi_chup_type_id).then(res => {\n            this.setState ({\n              data_goi_chup: res.data,\n              modal_is_open: \"false\",\n              edit_modal_is_open: \"false\",\n              loading: false\n            })\n        }).catch(e => console.log(e));\n    }\n\n    handleSave = () => {\n        let data = {\n            ten_goi: this.refs.ten_goi.value,\n            gia: this.refs.gia.value,\n            type: this.state.goi_chup_type_id,\n            description: this.refs.description.value,\n            soLuong: this.refs.soLuong.value\n        }\n\n        if(this.state.edit_id) { //Update\n            API.Package.update(this.state.edit_id, data).then(res => {\n                this.updateData();\n            }).catch(e => console.log(e));\n        }else{ //Create\n            API.Package.add(data).then(res => {\n                this.updateData();\n            }).catch(e => console.log(e));\n        }\n    }\n\n    handleRemove = () => {\n        API.Package.remove(this.state.edit_id).then(res => {\n            this.updateData();\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.data_goi_chup || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        return(\n            <div>\n                <PackageHeader handleOpenModal={this.handleOpenModal} onSearchKeyPress={this.handleSearch}/>\n                <PackageTable data={this.state.data_goi_chup} ref=\"table\" handleOpenModal={this.handleOpenEditModal}/>\n                \n                <FormModal \n                    title=\"Thêm Gói Chụp\"\n                    is_open={this.state.modal_is_open} \n                    onClose={\n                        () => this.setState({modal_is_open: \"false\"})\n                    }\n                    onSave={\n                        this.state.perms.goi_chup[2] == \"1\" ?\n                        () => this.handleSave() : null\n                    }\n                    onRemove={\n                        this.state.perms.goi_chup[3] == \"1\" && this.state.edit_id ?\n                        () => this.handleRemove() : null\n                    }\n                >\n                     <div className=\"box\">\n                         <span className=\"title\">Tên gói</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_goi\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Số lượng</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"soLuong\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"gia\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Thông tin chi tiết</span>\n                         <textarea rows={6} className=\"textbox\" ref=\"description\"></textarea>\n                     </div>\n                </FormModal>  \n            </div>\n        )\n    }\n}\n\nexport default PackageScreen;","import React, {Component, useEffect} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport { BillForm, ProductListForm, ProductListTable, FormModal } from '@components';\nimport {Redirect} from 'react-router-dom';\nimport Alert from '@utils/Alert';\n\nimport API from '@api';\n\nimport \"@styles/views/Bill_Edit.scss\";\nimport { findWithAttr } from '@functions/Global';\n\nclass BillEditScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n           bill_data : null,\n           product_data: [],\n           products: {\"products\": []},\n           product_total: 0,\n           edit_data: null,\n           data: null,\n           is_modal_open: \"false\",\n           is_edit_modal_open: \"false\",\n           redirect: false,\n           perms: null,\n           date: this.props.match.params.date,\n           print_bill: false,\n           user_edited_name: null,\n           is_editting: false,\n           editing_id: null,\n           packages: null,\n           defaultPackages: [],\n           productTonKhoCount: 0,\n        }\n\n        if(this.props.match.params.id !== \"create_new\") { //*EDIT\n            API.Bill.get(this.props.match.params.id).then(res => {\n                let billData = res.data;\n\n                this.setState ({\n                    data: billData,\n                    user_edited_name: `Được chỉnh sửa bởi ${billData.user_id?.ho_ten}`,\n                    products: {\"products\": billData.products},\n                    product_total: billData.tong,\n                    editing_id: this.props.match.params.id,\n                    is_editting: billData.deleted ? false : true\n                })\n            }).catch(e => console.log(e));\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState ({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        this.fetchPackages();\n    }\n\n    fetchPackages = async() => {\n        let packages = [];\n        let goiChup = [];\n\n        await API.PackageType.getSlug(\"goi_chup\").then(res => {\n            let typeId = res.data._id;\n\n            API.Package.getType(typeId).then(res => {\n                packages = res.data.map(i => ({\n                    ...i,\n                    slug: \"goi_chup\"\n                })).sort((a, b) => {\n                    return a.ten_goi.localeCompare(b.ten_goi);\n                });;\n\n                packages = packages.sort((a, b) => {\n                    return a.ten_goi.localeCompare(b.ten_goi);\n                });\n\n                goiChup = packages;\n            });\n        }).catch(e => console.log(e));\n\n        await API.PackageType.getSlug(\"dich_vu\").then(res => {\n            let typeId = res.data._id;\n\n            API.Package.getType(typeId).then(res => {\n                packages = [...packages, ...res.data.map(i => ({\n                    ...i,\n                    slug: \"dich_vu\"\n                }))];\n\n                packages = packages.sort((a, b) => {\n                    return a.ten_goi.localeCompare(b.ten_goi);\n                });\n\n                this.setState ({\n                    packages: goiChup,\n                    defaultPackages: packages,\n                    productTonKhoCount: (packages[0].soLuong - (packages[0].soLuongXuat || 0)) || null\n                });\n            });\n        }).catch(e => console.log(e));\n    }\n\n    //*BILL\n    //#region\n    handleSaveOnclick = async () => {\n        await this.refs.product_list_form.handleSave();\n        await this.refs.bill_form.handleSave();\n    }\n\n    handleSave = async (data) => {\n        if(!data.chi_nhanh || !data.ngay_chup || !data.ten_khach_hang) {\n            Alert.warn(\"Vui lòng nhập đầy đủ thông tin!\");\n            return;\n        }\n\n        this.setState ({\n            bill_data: data\n        })\n\n        this.handleSubmit();\n    }\n\n    handleSubmit = async () => {\n        let data = Object.assign(this.state.bill_data,this.state.product_data, this.state.products);\n\n        if(this.props.match.params.id !== \"create_new\" || this.state.is_editting) { //*UPDATE\n            data[\"date_created\"] = this.state.data.date_created;\n\n            API.Bill.update(this.state.editing_id, data).then(res => {\n            }).catch(e => console.log(e));\n        }else { //*CREATE NEW\n            let result = await API.Bill.add(data);\n\n            this.setState({\n                is_editting: true,\n                data: result,\n                products: {\"products\": result?.products || []},\n                product_total: result.tong,\n                editing_id: result._id\n            })\n        }\n    }\n\n    handleRemove = () => {\n        if(this.state.bill_data?.deleted) {\n            API.Bill.remove(this.props.match.params.id).then(res => {\n    \n                this.setState({\n                    redirect: true\n                })\n            }).catch(e => console.log(e));\n        }else{\n            API.Bill.update(this.props.match.params.id, {deleted: true}).then(res => {\n    \n                this.setState({\n                    redirect: true\n                })\n            }).catch(e => console.log(e));\n        }\n    }\n\n    handlePrintBill = () => {\n        this.setState({\n            print_bill: true\n        })\n    }\n\n    handleRestore = () => {\n        API.Bill.update(this.props.match.params.id, {deleted: false}).then(res => {\n            this.setState({\n                redirect: true\n            })\n        }).catch(e => console.log(e));\n    }\n    //#endregion\n\n    //*PRODUCT LIST\n    //#region\n    handleOpenAddProductModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditProductModal = (id) => {\n        let data = {...this.state.products.products};\n        data[id][\"id\"] = id;\n        data = data[id];\n\n        this.refs.giam_gia_san_pham.value = data.giam_gia || \"\";\n        this.refs.ten_san_pham.value = data._id;\n        this.refs.so_luong_san_pham.value = data.so_luong;\n\n        this.setState ({\n            is_modal_open: \"true\",\n            edit_id: id,\n        })\n    }\n\n    handleClearProductForm = () => {\n        this.refs.so_luong_san_pham.value = \"\";\n        this.refs.giam_gia_san_pham.value = \"\";\n    }\n\n    handleSaveProduct = () => {\n        if(this.state.productTonKhoCount < 0) {\n            Alert.error(\"Số lượng tồn kho vượt quá giới hạn\");\n            return;\n        }\n\n        let data = this.state.packages.filter((data, i) => {\n            return data._id == this.refs.ten_san_pham.value\n        });\n\n        let giam_gia = parseInt(this.refs.giam_gia_san_pham.value.toString().replace(/\\.|\\,/g,''))\n\n        let product_data = {\n            chiet_khau: 0,\n            so_luong: this.refs.so_luong_san_pham.value,\n            _id: data[0]._id,\n            ten_goi: data[0].ten_goi,\n            giam_gia: giam_gia,\n            gia: data[0].gia,\n            description: data[0].description\n        }\n\n        if(this.state.edit_id != null && this.state.edit_id >= 0) { //*EDIT\n            let new_data = this.state.products.products;\n    \n            //THAY ĐỔI GIÁ TRỊ INPUT CÒN NỢ\n            this.refs.product_list_form.handleUpdateConNoAfterChangeProduct(new_data[this.state.edit_id], product_data);\n    \n            let total = 0;\n            new_data[this.state.edit_id] = product_data;\n\n            new_data.map((data, i) => {\n                total += (parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100) - parseInt(data.giam_gia ? data.giam_gia : 0));\n            });\n    \n            this.setState({\n                products: {\"products\": new_data},\n                product_total: total,\n                edit_id: null,\n                is_modal_open: \"false\"\n            })\n        }else{//*CREATE\n            let new_data = this.state.products;\n            let total = 0;\n            new_data.products.push(product_data);\n    \n            new_data.products.map((data, i) => {\n                total += (parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100)) - (data.giam_gia ? parseInt(data.giam_gia) : 0);\n            });\n    \n            this.setState({\n                products: new_data,\n                product_total: total,\n                is_modal_open: \"false\"\n            })\n    \n            this.refs.product_list_form.handleUpdateConNo(product_data);\n        }\n        this.handleClearProductForm();\n    }\n\n    handleRemoveProduct = () => {\n        let data = this.state.products.products.filter((data, i) => {return i !== this.state.edit_id});\n        let data_2 = this.state.products.products[this.state.edit_id];\n        data_2[\"gia\"] = parseInt('-' +  data_2[\"gia\"]);\n\n        //THAY ĐỔI GIÁ TRỊ INPUT CÒN NỢ\n        this.refs.product_list_form.handleUpdateConNo(data_2);\n        \n        let total = 0;\n\n        data.map((data, i) => {\n            total += parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100);\n        })\n\n        this.setState({\n            products: {\"products\": data},\n            product_total: total,\n            is_modal_open: \"false\"\n        })\n    }\n\n    handleSavePayment = (data) => {\n        this.setState({\n            product_data: data\n        })\n    }\n\n    changeProductSlug = (e) => {\n        let value = e.currentTarget.value;\n        let packages = [...this.state.packages];\n        packages = this.state.defaultPackages.filter(p => p.slug == value);\n\n        this.setState({\n            packages\n        })\n    }\n    //#endregion\n\n    render() {\n        if(!this.state.data && this.props.match.params.id !== \"create_new\" || !this.state.perms || !this.state.packages) {\n            return(<div></div>)\n        }\n\n        if(this.state.redirect) {\n            if(window.location.pathname.split('/')[1] === \"bill_restore\") {\n                return <Redirect to=\"/trash\"/>\n            }\n            return <Redirect to=\"/\"/>\n        }\n\n        if(this.state.print_bill) {\n            return <Redirect to={`../bill_print/${this.state.editing_id}`}/>\n        }\n \n        return(\n            <div className=\"bill_edit_view\">\n                {!this.state.is_editting ? this.props.match.params.id == \"create_new\" ? \n                    <DefaultHeaderBar \n                        customTitle={this.state.user_edited_name}  \n                        onGoBack={() => this.props.history.goBack()} \n                        title=\"Đơn Hàng\" \n                        back_link=\"/\" \n                        handleSave={this.state.perms.bill[1] == \"1\" ? this.handleSaveOnclick : null} \n                        handleAddProduct={this.handleOpenAddProductModal}\n                    /> : \n                    <DefaultHeaderBar \n                        customTitle={this.state.user_edited_name} \n                        onGoBack={() => this.props.history.goBack()} \n                        handleRestore={this.state.perms.trash[2] == \"1\" ? this.handleRestore : null} \n                        handleRemove={this.state.perms.trash[3] == \"1\" ? this.handleRemove : null} \n                        title=\"Thùng Rác\" \n                        back_link=\"/\"\n                    /> : \n                    <DefaultHeaderBar \n                        goHistory={`../bill_history/${this.props.match.params.id}`}\n                        customTitle={this.state.user_edited_name} \n                        handlePrintBill={this.handlePrintBill}  \n                        onGoBack={() => this.props.history.goBack()} \n                        handleRemove={this.state.perms.bill[3] == \"1\" ? this.handleRemove : null} \n                        title=\"Đơn Hàng\" \n                        back_link=\"/\" \n                        handleSave={this.handleSaveOnclick} \n                        handleAddProduct={this.handleOpenAddProductModal}\n                    />\n                }\n                <BillForm date={this.state.date} perms={this.state.perms} ref=\"bill_form\" onSave={this.handleSave} data={this.state.data}/>\n                \n                <h1 className=\"view_header\" style={{marginTop: \"64px\", marginLeft: \"16px\"}}>Danh Sách Sản Phẩm</h1>\n    \n                <div className=\"product_list_container\" style={{display: \"fles\"}}>\n                    <ProductListTable data={this.state.products.products} onEdit={this.handleOpenEditProductModal}/>\n                    <ProductListForm perms={this.state.perms}  ref=\"product_list_form\" data={this.state.data} product_total={this.state.product_total} handleSavePayment={this.handleSavePayment} onSave={this.handleSaveProduct}/>\n                </div>\n\n                <FormModal \n                    title=\"Sản Phẩm\"\n                    is_open={this.state.is_modal_open} \n                    onClose={\n                        !(this.state.edit_id != null && this.state.edit_id >= 0) ? \n                        () => this.setState({is_modal_open: \"false\"}) : null\n                    }\n                    onSave={\n                        this.state.perms.bill[2] == \"1\" ?\n                        () => this.handleSaveProduct() : null\n                    }\n                    onRemove={\n                        this.state.perms.bill[3] == \"1\" && (this.state.edit_id != null && this.state.edit_id >= 0) ?\n                        () => this.handleRemoveProduct() : null\n                    }\n                >\n                    <div className=\"box\" style={{width: \"215px\"}}>\n                       <span className=\"title\">Loại sản phẩm</span>\n                       <select onChange={this.changeProductSlug}>\n                            <option value=\"goi_chup\" selected>Gói chụp</option>\n                            <option value=\"dich_vu\">Dịch vụ</option>\n                       </select>\n                       <span className=\"title\">Tên sản phẩm</span>\n                       <select \n                            ref=\"ten_san_pham\"\n                            disabled={this.state.perms.bill[2] != \"1\"}\n                            onChange={e => {\n                                let product = this.state.packages[findWithAttr(this.state.packages, \"_id\", e.target.value)];\n                                let productAdded = this.state.products[findWithAttr(this.state.products, \"_id\", e.target.value)];\n\n                                this.refs.so_luong_san_pham.value = 0;\n                                \n                                this.setState({\n                                    productTonKhoCount: (product.soLuong - (product.soLuongXuat || 0) - (productAdded?.so_luong || 0)) || null\n                                })\n\n                                //!TODO RECOUNT WHEN ADDED A PRODUCT\n                            }}\n                        >\n                           {this.state.packages.map((data, i) => {\n                               return <option value={data._id} key={`product-list-item-${i}`} title={data.description || \"\"}>{data.ten_goi}</option>  \n                           })}\n                       </select>\n                    </div>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Số lượng: ( Tồn kho: { this.state.productTonKhoCount ?? \"Không giới hạn\" } )</span>\n                         <input \n                            type=\"number\" \n                            min=\"0\" \n                            className=\"textbox\" \n                            ref=\"so_luong_san_pham\" \n                            disabled={this.state.perms.bill[2] != \"1\"}\n                            defaultValue={1}\n                            onChange={e => {\n                                let count = Number(e.target.value);\n                                let productTonKhoCount = this.state.productTonKhoCount;\n                                let product = this.state.packages[findWithAttr(this.state.packages, \"_id\", this.refs.ten_san_pham.value)];\n                                let productAdded = this.state.products.products[findWithAttr(this.state.products.products, \"_id\", this.refs.ten_san_pham.value)];\n                                \n                                //Product exists\n                                if(productAdded) {\n                                    productTonKhoCount = (product.soLuong - Number(productAdded.so_luong) - (count || 0)) ?? null;\n                                }else{ //New product\n                                    productTonKhoCount = (product.soLuong - (count || 0)) ?? null;\n                                }\n                                \n                                this.setState({\n                                    productTonKhoCount\n                                })\n                            }}\n                        />\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Giảm giá</span>\n                        <input type=\"number\" defaultValue={0} className=\"textbox\" ref=\"giam_gia_san_pham\" min=\"0\"/>\n                    </div>\n                </FormModal> \n            </div>\n        )\n    }\n}   \n\nexport default BillEditScreen;","import React, { useEffect, useState, useRef } from 'react';\nimport { numberWithCommas } from '@functions/Global';\nimport Logo from '@styles/resources/Logo.png';\nimport {RiArrowLeftSLine} from 'react-icons/ri';\nimport {Link} from 'react-router-dom';\nimport API from '@api';\n\nconst BillPrintScreen = ({ match, history }) => {\n    const [data, setData] = useState(null);\n    const [isPrinting, setIsPrinting] = useState(false);\n    const billRef = useRef(0);\n\n    useEffect(() => {\n        API.Bill.get(match.params.id).then(billRes => {\n            console.log(billRes.data);\n            setData(billRes.data);\n        }).catch(e => console.log(e));\n    }, []);\n\n    const handlePrint = e => {\n        e.target.style.display = 'none';\n        setIsPrinting(true);\n\n        setTimeout(() => {\n            window.print();\n\n            setIsPrinting(false);\n        }, 600);\n    };\n\n    const handleSaveImage = async () => {\n        setIsPrinting(true);\n\n        setTimeout(async () => {\n            let bill = billRef.current;\n            let canvas = await window.html2canvas(bill);\n            let image = canvas.toDataURL(\"image/jpeg\").replace(\"image/jpeg\", \"image/octet-stream\");  \n            const link = document.createElement(\"a\");\n\n            link.href = image;\n            link.download = \"bill.jpg\";\n            link.click();\n\n            setIsPrinting(false);\n        }, 600);\n    }\n\n    if(!data) return null;\n\n    const gioitinh = [\"Bé Trai\", \"Bé Gái\"]\n    \n    return(\n        <div className=\"view bill_print\" ref={billRef} style={{\n            padding: 32\n        }}>\n            { !isPrinting && <h1 onClick={history.goBack} className=\"view_header\" style={{\n                textDecoration: 'none',\n                cursor: 'pointer',\n                width: \"100%\", \n                textAlign: \"left\", \n                marginTop: \"32px\", \n                marginBottom : \"64px\",\n            }}><RiArrowLeftSLine className=\"icon\"/>In Hóa Đơn</h1> }\n            <span style={{textAlign: \"center\", width: \"100%\", whiteSpace: \"pre-wrap\"}}>{ data.chi_nhanh?.dia_chi }</span>\n            <h1>HÓA ĐƠN</h1>\n            <span>Chi Nhánh: <span>{data.chi_nhanh?.ten_chi_nhanh}\n            </span></span>\n            <span>Ngày Chụp: <span>{data.gio_chup} {data.ngay_chup}</span></span>\n            <span>Ngày Giao Hình: <span>{data.ngay_giao_hinh}</span></span>\n            <span>Tên Khách Hàng: <span>{data.ten_khach_hang}</span></span>\n            <span>SĐT: <span>{data.so_dien_thoai}</span></span>\n            <span>Địa Chỉ: <span>{data.dia_chi}</span></span>\n            <span>Họ Tên Bé:  <span>{data.ho_ten_be}</span></span>\n            <span>Ngày Sinh:  <span>{data.ngay_sinh_be}</span></span>\n            <span>Giới Tính: <span>{gioitinh[data.gioi_tinh_be]} - {data.so_tuoi}</span></span>\n\n            <hr/>\n\n            <table>\n                <tr>\n                    <th>Sản Phẩm</th>\n                    <th>Đơn Giá</th>\n                    <th>Số Lượng</th>\n                    <th>Giảm Giá</th>\n                    <th>Tổng</th>\n                </tr>\n                {data.products.map((data, i) => {\n                    return(\n                        <tr>\n                            <td>{data.ten_goi}</td>\n                            <td>{numberWithCommas(parseInt(data.gia))}</td>\n                            <td>{data.so_luong}</td>\n                            <td>{data.giam_gia ? data.giam_gia : 0} đ</td>\n                            <td>{numberWithCommas(parseInt(data.gia) * parseInt(data.so_luong) - (data.giam_gia ? data.giam_gia : 0))} đ</td>\n                        </tr>\n                    )\n                })}\n            </table>\n            \n            <hr/>\n\n            <span>TỔNG CỘNG: <span>{numberWithCommas(parseInt(data.tong))} đ</span></span>\n            <span>ĐẶT CỌC: <span>{numberWithCommas(parseInt(data.dat_coc[0].value))} đ</span></span>\n            {\n                data.thanh_toan.map((item, index) => {\n                    return <span>THANH TOÁN LẦN {index + 1}: <span>{numberWithCommas(parseInt(item.value))} đ</span></span>\n                })\n            }\n            <span>CÒN NỢ: <span>{numberWithCommas(parseInt(data.con_no))} đ</span></span>\n\n            {\n                !isPrinting && (\n                    <div style={{\n                        display: 'flex'\n                    }}>\n                        <button className=\"btn blue\" onClick={handlePrint}>IN</button>\n                        <button className=\"btn blue\" onClick={handleSaveImage}>LƯU ẢNH</button>\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n\nexport default BillPrintScreen;","import React, { useEffect, useState } from 'react';\nimport { DefaultHeaderBar } from '@components/Header_bar';\nimport { PaperCard, Button } from '@components';\nimport { useParams } from 'react-router-dom';\nimport Alert from '@utils/Alert';\nimport API from '@api';\nimport \"./styles.scss\";\n\nconst HistoryCode = {\n    \"add\" : \"Đã thêm mới\",\n    \"update\" : \"Đã chỉnh sửa\",\n    \"restore\" : \"Đã khôi phục\"\n};\n\nconst TimeLine = () => {\n    return (\n        <div className=\"timeline\">\n            <div className=\"timeline__dot\"></div>\n            <div className=\"timeline__date-container\">\n                <span className=\"timeline__date-container__value\">Nov 3, 2022</span>\n            </div>\n        </div>\n    )\n}\n\nexport const BillHistoryScreen = ({ props }) => {\n    let { id } = useParams();\n    const [histories, setHistories] = useState([]);\n    const [historySelected, setHistorySelected] = useState(0);\n    const [users, setUsers] = useState([]);\n    const [status, setStatus] = useState([]);\n    const [branches, setBranches] = useState([]);\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const fetchData = async() => {\n        //Fetch histories\n        let histories = await API.BillHistories.getAll(id);\n        histories = histories.data.reverse();\n\n        setHistories(histories);\n\n        //Fetch user\n        let users = await API.Staff.getAll();\n        setUsers(users.data);\n\n        //Fetch status\n        let status = await API.Status.getAll();\n        setStatus(status.data);\n\n        //Fetch branhces\n        let branches = await API.Branch.getAll();\n        setBranches(branches.data);\n    }\n\n    const handleRestore = async () => {\n        await API.BillHistories.restore(histories[historySelected]._id);\n        Alert.success(\"Đã khôi phục thành công!\");\n\n        //Reload data\n        fetchData();\n    }\n\n    //*Extract value from key\n    const extractValue = (key, id) => {\n        const billMap = {\n            user_id : {\n                name: \"Người tạo\",\n                data: users,\n                findKey: \"_id\",\n                valKey: \"ho_ten\"\n            },\n            giam_gia: {\n                name: \"Giảm giá\"\n            },\n            con_no: {\n                name: \"Còn nợ\"\n            },\n            tong: {\n                name: \"Tổng\"\n            },\n            ngay_giao_hinh: {\n                name: \"Ngày giao hình\"\n            },\n            tinh_trang: {\n                name: \"Tình trạng\",\n                data: status,\n                findKey: \"_id\",\n                valKey: \"ten_tinh_trang\"\n            },\n            so_dien_thoai: {\n                name: \"Số điện thoại\"\n            },\n            so_tuoi: {\n                name: \"Số tuổi bé\"\n            },\n            gioi_tinh_be: {\n                name: \"Giới tính bé\"\n            },\n            ngay_sinh_be: {\n                name: \"Ngày sinh bé\"\n            },\n            ho_ten_be: {\n                name: \"Họ tên bé\"\n            },\n            ten_khach_hang: {\n                name: \"Tên khách hàng\"\n            },\n            consultant : {\n                name: \"Tư vấn\",\n                data: users,\n                findKey: \"_id\",\n                valKey: \"ho_ten\"\n            },\n            photoshop : {\n                name: \"Photoshop\",\n                data: users,\n                findKey: \"_id\",\n                valKey: \"ho_ten\"\n            },\n            support : {\n                name: \"Hỗ trợ\",\n                data: users,\n                findKey: \"_id\",\n                valKey: \"ho_ten\"\n            },\n            photo : {\n                name: \"Photo\",\n                data: users,\n                findKey: \"_id\",\n                valKey: \"ho_ten\"\n            },\n            ghi_chu: {\n                name: \"Ghi chú\"\n            },\n            ngay_chup: {\n                name: \"Ngày chụp\"\n            },\n            gio_chup: {\n                name: \"Giờ chụp\"\n            },\n            chi_nhanh : {\n                name: \"Tên chi nhánh\",\n                data: branches,\n                findKey: \"_id\",\n                valKey: \"ten_chi_nhanh\"\n            },\n            products: {\n                name: \"Sản phẩm\",\n                valMap: {\n                    chiet_khau: {\n                        name: \"Chiết khấu\"\n                    },\n                    so_luong: {\n                        name: \"Số lượng\"\n                    },\n                    ten_goi: {\n                        name: \"Tên gói\"\n                    },\n                    giam_gia: {\n                        name: \"Giảm giá\"\n                    },\n                    gia: {\n                        name: \"Giá\"\n                    },\n                }\n            },\n            thanh_toan: {\n                name: \"Thanh toán\",\n                valMap: {\n                    value: {\n                        name: \"Số tiền\"\n                    },\n                    transaction: {\n                        name: \"Loại thanh toán\"\n                    },\n                },\n            },\n            dat_coc: {\n                name: \"Đặt cọc\",\n                valMap: {\n                    value: {\n                        name: \"Số tiền\"\n                    },\n                    transaction: {\n                        name: \"Loại thanh toán\"\n                    },\n                },\n            },\n        }\n\n        //Get name & value\n        let mapVal = billMap[key];\n        let name = mapVal?.name || key;\n        let value = mapVal?.data?.find(i => i[mapVal.findKey])?.[mapVal.valKey] || id;\n        let valMap = mapVal?.valMap || {};\n\n        return {\n            name,\n            value,\n            valMap\n        }\n    }\n\n    return (\n        <div className=\"view bill_history\">\n            <DefaultHeaderBar  \n                onGoBack={() => props.history.goBack()} \n                title=\"Đơn Hàng\" \n                back_link=\"/\" \n            />  \n\n            <div className=\"container\">\n                <div className=\"col\">\n                    <PaperCard>\n                        <h1>Details</h1>\n                        <span><b>Người chỉnh sửa: </b><span>{histories[historySelected]?.author.ho_ten}</span></span>\n                        <span><b>Thời gian: </b><span>{histories[historySelected]?.date_created}</span></span>\n                        <hr/>\n                        {\n                            Object.keys(histories[historySelected]?.data || {}).map((item, index) => {\n                                if(item == \"_id\" || item == \"deleted\" || item == \"date_created\") return;\n\n                                let key = item;\n                                let value = histories[historySelected].data[item];\n\n                                let valueEx = extractValue(key, value);\n\n                                //*TABLE VALUE\n                                if(typeof value == \"object\") {\n                                    const keyPassed = [\"_id\", \"date_created\", \"des\", \"time\", \"description\"]\n\n                                    return (\n                                        <>\n                                            <span><b>{ valueEx.name }</b></span>\n                                            <table>\n                                                {\n                                                    value.map((row, index) => {\n                                                        if(index == 0) { //Header\n                                                            return (\n                                                                <tr>\n                                                                    { \n                                                                        Object.keys(row).map(rowK => {\n                                                                            if(keyPassed.indexOf(rowK) > -1) return;\n                                                                            return <th style={{\n                                                                                textAlign: 'left'\n                                                                            }}>{ valueEx.valMap?.[rowK]?.name || rowK }</th>\n                                                                        })\n                                                                    }\n                                                                </tr>\n                                                            )\n                                                        }\n\n                                                        return ( //Body\n                                                            <tr>\n                                                                {\n                                                                    Object.keys(row).map(rowK => {\n                                                                        if(keyPassed.indexOf(rowK) > -1) return;\n                                                                        return <td>{ row[rowK] }</td>\n                                                                    }) \n                                                                }\n                                                            </tr>\n                                                        )\n                                                    })\n                                                }\n                                            </table>\n                                        </>\n                                    )\n                                };\n\n                                //*SINGLE VALUE\n                                return (\n                                    <span key={`history-detail-item-${index}`}>\n                                        <b>{ valueEx.name }: </b>\n                                        <span>{ valueEx.value }</span>\n                                    </span>\n                                )\n                            })\n                        }\n                        <hr/>\n                        <button className=\"btn blue\" onClick={handleRestore}>Khôi phục</button>\n                    </PaperCard>\n                </div>\n                <div className=\"col\">\n                    <TimeLine/>\n                    {\n                        histories.map((item, index) => {\n                            return (\n                                <PaperCard key={`history-card-${index}`} onClick={() => setHistorySelected(index)}>\n                                    <span>{ item.author.ho_ten }</span>\n                                    <span><b>{ HistoryCode[item.code] }</b></span>\n                                    <span><b>Thời gian: </b>{ item.date_created }</span>\n                                </PaperCard>\n                            )\n                        })\n                    }\n                </div>\n            </div>     \n        </div>\n    )\n}\n","//Lấy ngày trong tháng\nfunction getDaysInMonth(month, year, callback) {\n    let months = parseInt(month) - 1;\n    var date = new Date(year, months, 1);\n    var days = [];\n    while (date.getMonth() === months) {\n      days.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n    return callback(days);\n  }\n\n//Xây dựng lịch tháng\nfunction calendar(month, year, callback) {\n    let daysOfMonth = []\n    getDaysInMonth(month, year, (res) => {\n        //Thêm số 0 vào các ngày trống\n        for(var i = 1; i < res[0].getDay(); i++) {\n            daysOfMonth.push(0)\n        }\n\n        //Nếu ngày đầu tiên rơi vào CN\n        if(res[0].getDay() === 0) daysOfMonth = [0,0,0,0,0,0];\n\n        //Thêm ngày vào mảng\n        for(const date of res) {\n            daysOfMonth.push(date.getDate());\n        }\n\n        //Thêm số 0 vào các ngày trống ở cuối\n        for(var i = res[res.length - 1].getDay();i <= 6; i++) {\n            daysOfMonth.push(0)\n        }\n    \n        return callback({date: daysOfMonth, month: month, year: year});\n    })\n}\n\nexport {\n    calendar\n}","import React, {Component} from 'react';\nimport {FiChevronLeft, FiChevronRight} from 'react-icons/fi';\nimport \"./styles.scss\";\nimport {calendar} from './functions';\nimport {findWithAttr} from '../../functions/Global';\nimport {FiPlus} from 'react-icons/fi';\nimport {Link} from 'react-router-dom';\n\nfunction compare(a,b) {\n    var time1 = parseFloat(a.gio_chup.replace(':','.').replace(/[^\\d.-]/g, ''));\n    var time2 = parseFloat(b.gio_chup.replace(':','.').replace(/[^\\d.-]/g, ''));\n    if (time1 < time2) return -1;\n    if (time1 > time2) return 1;\n    return 0;\n} \n\nclass CalendarHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            month: new Date().getMonth() + 1,\n            year: new Date().getFullYear()\n        }\n    }\n\n    handleNavigate = (type) => {\n        if(type === 'next') {\n            if(this.state.month === 12) {\n                this.setState({\n                    month: 1,\n                    year: parseInt(this.state.year) + 1\n                })\n\n                this.props.onNavigate(1, parseInt(this.state.year) + 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) + 1\n                })\n\n                this.props.onNavigate(parseInt(this.state.month) + 1, this.state.year);\n            }\n        }else {\n            if(this.state.month === 1) {\n                this.setState({\n                    month: 12,\n                    year: parseInt(this.state.year) - 1\n                })\n\n                this.props.onNavigate(12, parseInt(this.state.year) - 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) - 1\n                })\n\n                this.props.onNavigate(parseInt(this.state.month) - 1, this.state.year);\n            }\n        }\n    }   \n\n    render() {\n        return(\n            <div className=\"calendar_header\">\n                <div className=\"control_container\">\n                    <button onClick={() => this.handleNavigate('prev')}><FiChevronLeft className=\"icon\"/></button>\n                    <h1>Tháng {this.state.month} - {this.state.year}</h1>\n                    <button onClick={() => this.handleNavigate('next')}><FiChevronRight className=\"icon\"/></button>\n                </div>\n                <div className=\"date_columns\">\n                    <div className=\"column\"><span>THỨ 2</span></div>\n                    <div className=\"column\"><span>THỨ 3</span></div>\n                    <div className=\"column\"><span>THỨ 4</span></div>\n                    <div className=\"column\"><span>THỨ 5</span></div>\n                    <div className=\"column\"><span>THỨ 6</span></div>\n                    <div className=\"column\"><span>THỨ 7</span></div>\n                    <div className=\"column\"><span>C. NHẬT</span></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass CalendarBlock extends Component {\n    render() {\n        let events = this.props.events.filter((data, i) => {\n            let date = data.ngay_chup.split(\"-\");\n            if(date[2] != this.props.year || date[1] != this.props.month || date[0] != this.props.date) return false;\n\n            return true;\n        })\n\n        events.sort(compare)\n        return(\n            <div className={`calendar_block ${this.props.focus_date == this.props.date ? 'focus' : ''}`} onClick={this.props.onBlockClick}>\n                <div className={new Date().getDate() == this.props.date && new Date().getMonth() + 1 == this.props.month && new Date().getFullYear() == this.props.year ? 'date_container active' : 'date_container'}>\n                    <span>{this.props.date !== 0 ? this.props.date : null}</span>\n                </div>\n                {this.props.events ?    \n                    <div className=\"events_container\">\n                        <div className={`container`}>\n                            {events.map((data, i) => {\n                                return(\n                                    <div \n                                        className={`event`} style={{\n                                            backgroundColor: data.color\n                                        }} \n                                        onClick={() => this.props.onClick(data)}>\n                                        <p className=\"content\">{data.title}</p>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div> : null}\n            </div>\n        )\n    }\n}\n\nclass CalendarActionButtons extends Component {\n    render() {\n        return(\n            <div className={`calendar_action_buttons ${this.props.focus_date > -1 ? 'active' : ''}`}>\n                <div className=\"buttons_container\">\n                    <Link className=\"button\" to={`bill_edit/create_new/${this.props.year}-${this.props.month <= 9 ? '0' + this.props.month : this.props.month}-${this.props.focus_date <= 9 ? '0' + this.props.focus_date : this.props.focus_date}`}><FiPlus className=\"icon\"/></Link>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass LavenCalendar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            calendar_data: null,\n            month: null,\n            year: null,\n            focus_date: -1\n        }\n    }\n\n    componentDidMount = () => {\n        this.handleUpdateCalendar(new Date().getMonth() + 1, new Date().getFullYear())\n    }\n\n    handleUpdateCalendar = (month, year) => {\n        calendar(month, year, (result) => {\n            this.setState({\n                calendar_data: result.date,\n                month: result.month,\n                year: result.year\n            })\n        });\n    }\n\n    //Chọn 1 ngày\n    handleFocusBlock = (date)  => {\n        if(date != 0) {\n            this.setState({\n                focus_date: date\n            })\n        }\n\n        let events = this.props.events.filter((data, i) => {\n            let dates = data.ngay_chup.split(\"-\");\n            if(dates[2] != this.state.year) return false;\n            if(dates[1] != this.state.month) return false;\n\n            return dates[0] == date;\n        })\n\n        function compare(a,b) {\n            var time1 = parseFloat(a.gio_chup.replace(':','.'));\n            var time2 = parseFloat(b.gio_chup.replace(':','.'));\n            if(a.gio_chup.match(/.*pm/)) time1 += 12; if(b.gio_chup.match(/.*pm/)) time2 += 12;\n            if (time1 < time2) return -1;\n            if (time1 > time2) return 1;\n            return 0;\n        }\n\n        events.sort(compare);\n\n        this.props.onClickDate(events);\n    }\n\n    render() {\n        const events = this.props.events;\n        if(!this.state.calendar_data ||!this.state.month || !this.state.year) {\n            return <div></div>\n        }\n        return(\n            <div className=\"calendar\">\n                <CalendarHeader onNavigate={this.handleUpdateCalendar}/>\n                <div className=\"calendar_container\">\n                    {this.state.calendar_data.map((data, i) => {\n                        const date_check = this.state.year + '-' +this.state.month + '-' + (data <= 9 ? '0' + data : data)\n                        return <CalendarBlock focus_date={this.state.focus_date} month={this.state.month} year={this.state.year} onBlockClick={() => this.handleFocusBlock(data)} onClick={this.props.onClick} date={data} key={i} branch={this.props.branch} events_num={findWithAttr(events, 'ngay_chup', date_check)} events={events}/>\n                    })}\n                </div>\n                <CalendarActionButtons focus_date={this.state.focus_date} year={this.state.year} month={this.state.month}/>\n            </div>\n        )\n    }\n}\n\nexport {\n    LavenCalendar\n};","import React, {Component} from 'react';\nimport {GrClose} from 'react-icons/gr';\nimport {Link} from 'react-router-dom';\nimport {findWithAttr} from '../functions/Global';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {HashSpiner} from './Spiners';\nimport API from '@api';\n\nimport \"../styles/components/Modals.scss\";\n\nclass PermissionModal extends Component {\n    handleSave = () => {\n        API.Permission.add(this.refs.ten_nhom.value).then(res => {\n            this.props.onCreateNew();\n        })\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Nhóm Quyền</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên nhóm</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_nhom\"/>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.handleCloseModal}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perms: null\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        });\n    }\n\n    handleSave = () => {\n        API.Permission.update(this.props._id, {\n            ten_nhom: this.refs.ten_nhom.value,\n        }).then(res => {\n            this.props.handleSave();\n        });\n    }\n\n    handleRemove = () => {\n        API.Permission.remove(this.props._id).then(res => {\n            this.props.handleSave();\n        });\n    }\n\n    render() {\n        const perms = this.state.perms;\n\n        if(!this.state.perms){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Phân Quyền</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên nhóm</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_nhom\" defaultValue={this.props.ten_nhom}/>\n                     </div>\n\n                     {this.props.ten_nhom.toLowerCase() !== \"admin\" ? //Tên nhóm không phải admin thì cho chỉnh sửa\n                     <div className=\"column\">\n                        {\n                            perms.permissions[3] == \"1\" ? \n                            <button className=\"btn red\" onClick={this.handleRemove}>Xóa</button> : null }\n                        <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div> : <div className=\"column\">\n                        <button className=\"btn red\" onClick={this.props.handleCloseModal}>Hủy</button>\n                     </div>}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BillServicesModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            goi_chup: null\n        }\n\n        API.PackageType.getSlug('goi_chup').then(package_type => {\n            API.Package.getType(package_type.data._id).then(res => {\n                let goi_chup_data = res.data;\n\n                API.PackageType.getSlug('dich_vu').then(package_type => {\n                    API.Package.getType(package_type.data._id).then(res => {\n                        let dich_vu_data = res.data;\n                        \n                        this.setState({\n                            goi_chup: [\n                                ...goi_chup_data,\n                                ...dich_vu_data\n                            ]\n                        })\n                    }).catch(e => console.log(e));\n                }).catch(e => console.log(e));\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n    }\n\n    handleSave = () => {\n        let data = this.state.goi_chup.filter((data, i) => {\n            return data._id == this.refs.ten_san_pham.value\n        });\n\n        let giam_gia = parseInt(this.refs.giam_gia.value.toString().replace(/\\.|\\,/g,''))\n\n        let new_data = {\n            chiet_khau: 0,\n            so_luong: this.refs.so_luong.value,\n            _id: data[0]._id,\n            ten_goi: data[0].ten_goi,\n            giam_gia: giam_gia,\n            gia: data[0].gia\n        }\n\n        this.props.onSave(new_data);\n    }\n\n    render() {\n        if(!this.state.goi_chup) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Sản Phẩm</h1>\n                    \n                     <div className=\"box\" style={{width: \"215px\"}}>\n                        <span className=\"title\">Tên sản phẩm</span>\n                        <select ref=\"ten_san_pham\">\n                            {this.state.goi_chup.map((data, i) => {\n                                return <option value={data._id}>{data.ten_goi}</option>  \n                            })}\n                        </select>\n                    </div>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Số lượng</span>\n                         <input type=\"number\" className=\"textbox\" ref=\"so_luong\" min=\"0\" defaultValue=\"1\"/>\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Giảm giá</span>\n                        <input type=\"number\" className=\"textbox\" ref=\"giam_gia\" min=\"0\" defaultValue={0}/>\n                    </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.onClose}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass CalendarModal extends Component {\n    render() {\n        if(this.props.data == undefined) {\n            return <div></div>\n        }\n\n        let data = this.props.data;\n        let ngay_chup = data.ngay_chup.split(\"-\");\n\n        return(      \n            <div className=\"modal m_calendar\" style={{display: `${this.props.visible ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                    <h1>{data.title}</h1>\n                    <span>Ngày chụp: {ngay_chup[0]} tháng {ngay_chup[1]} năm {ngay_chup[2]}</span>\n                    <span>Giờ chụp: {data.gio_chup}</span>\n                    <div class=\"column\">\n                        <button class=\"btn\" onClick={this.props.handleCloseModal}>Đóng</button>\n                        <Link to={`bill_edit/${data._id}`}><button class=\"btn blue\">Sửa</button></Link>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass MobileCalendarModal extends Component {\n    render() {\n        if(this.props.data == undefined) {\n            return <div></div>\n        }\n\n        return(      \n            <div className=\"modal m_calendar\" style={{display: `${this.props.visible ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                    <h1>Xem Lịch</h1>\n                    {this.props.data.map((data, i) => {\n                        return(\n                            <Link to={`bill_edit/${data._id}`} className={`event_card ${findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch) > -1 ? this.props.branch[findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch)].color : ''}`}>\n                                <span className=\"date\">{data.ngay_chup} {data.gio_chup}</span>\n                                <p className=\"content\">{data.title}</p>\n                            </Link>\n                        )\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    PermissionModal,\n    BillServicesModal,\n    PermissionEditModal,\n    CalendarModal,\n    MobileCalendarModal,\n}","import React, {Component} from 'react';\nimport \"@styles/components/Calendar.scss\";\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {Redirect} from 'react-router-dom';\nimport {LavenCalendar} from '@components/Calendar/Calendar';\nimport {HashSpiner} from '@components/Spiners';\nimport {CalendarModal, MobileCalendarModal} from '@components/Modals';\nimport {isMobile} from 'react-device-detect';\nimport {removeVietnameseTones, findWithAttr} from '@functions/Global';\nimport {LINK} from '@functions/Global';\nimport Socket from '@socket';\n\nimport API from '@api';\n\nconst socket = new Socket();\n\nclass CalendarScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            events: [],\n            redirect: false,\n            link: null,\n            branch: null,\n            old_events: [],\n            modal_visible: false,\n            modal_data: null,\n            m_modal_visible: false,\n            m_modal_data: null,\n            modal_date: '',\n            autocomplete_data: null\n        }\n\n        this.fetchData();\n    }\n\n    async fetchData() {\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n\n        await API.Bill.getAll().then(res => {\n            let events = [];\n\n            let data = res.data.filter((data, i) => {\n                //Filter by date\n                if((parseInt((data.ngay_chup.split(\"-\")[1])) - 1) !== (new Date().getMonth())) return false;\n                if((parseInt((data.ngay_chup.split(\"-\")[2]))) !== (new Date().getFullYear())) return false;\n\n                //Filter by branch\n                if(branchSelected.indexOf(data.chi_nhanh._id) <= -1) return false;\n\n                return !data.deleted;\n            });\n\n            data.forEach((data) => {\n                const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n            \n                let ngay_chup = data.ngay_chup\n                ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                events.push({\n                    title: `${data.gio_chup} ${data.chi_nhanh?.ten_chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                    ngay_chup: `${ngay_chup}`,\n                    gio_chup: `${data.gio_chup}`,\n                    tinh_trang: data.tinh_trang,\n                    branch: data.chi_nhanh?.ten_chi_nhanh,\n                    color: data.chi_nhanh.color,\n                    _id: data._id\n                })\n            });\n\n            this.setState({\n                events: events,\n                old_events: events\n            })\n        }).catch(e => console.log(e));\n\n        await API.Branch.getAll().then(res => {\n            this.setState({\n                branch: res.data\n            })\n        }).catch(e => console.log(e));\n\n        await API.Status.getAll().then(res => {\n            this.setState({\n                status: res.data\n            })\n        }).catch(e => console.log(e));\n\n        //Load last filter\n        let billFilter = JSON.parse(localStorage.getItem(\"bill_filter\")) || {\n            photo: \"all\",\n            photoshop: \"all\",\n            support: \"all\",\n            tinh_trang: \"all\",\n            date: new Date().getFullYear() + '-' + ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1)),\n            year: new Date().getFullYear(),\n            month: ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1))\n        };\n\n        this.handleFilter(\n            billFilter.photo,\n            billFilter.support,\n            billFilter.tinh_trang,\n            billFilter.month,\n            billFilter.year,\n            billFilter.photoshop\n        )\n    }\n\n    componentDidMount = () => {\n        //LISTEN SERVER UPDATE BILL\n        socket.Bill().onUpdate(data => {\n            let chi_nhanh = findWithAttr(this.state.branch,'_id', data.chi_nhanh);\n            chi_nhanh = this.state.branch[chi_nhanh];\n            const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n            let ngay_chup = data.ngay_chup\n            ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n            let events = this.state.events;\n            let event_data = {\n                title: `${data.gio_chup} ${chi_nhanh?.ten_chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                ngay_chup: `${ngay_chup}`,\n                gio_chup: `${data.gio_chup}`,\n                tinh_trang: data.tinh_trang,\n                branch: chi_nhanh?.ten_chi_nhanh,\n                color: chi_nhanh.color,\n                _id: data._id\n            }\n            \n            events[findWithAttr(events, \"_id\", data._id)] = event_data;\n\n            this.setState({\n                events: events\n            })\n        })\n\n        //LISTEN SERVER CREATE BILL\n        socket.Bill().onAdd(data => {\n            let chi_nhanh = findWithAttr(this.state.branch,'_id', data.chi_nhanh);\n            chi_nhanh = this.state.branch[chi_nhanh];\n            const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n            let ngay_chup = data.ngay_chup\n            ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n            \n            let events = this.state.events;\n            let event_data = {\n                title: `${data.gio_chup} ${chi_nhanh?.ten_chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                ngay_chup: `${ngay_chup}`,\n                gio_chup: `${data.gio_chup}`,\n                tinh_trang: data.tinh_trang,\n                branch: chi_nhanh?.ten_chi_nhanh,\n                color: chi_nhanh.color,\n                _id: data._id\n            }\n            \n            events.push(event_data);\n\n            this.setState({\n                events: events\n            })\n        })\n\n        //LISTEN SERVER REMOVE BILL\n        socket.Bill().onRemove(id => {\n            let events = this.state.events;\n            events.splice(findWithAttr(events, \"_id\", id), 1);\n\n            this.setState({\n                events: events\n            })\n        })\n    }\n\n    //XU LY CLICK\n    handleEventClick = (e) => {\n        this.setState({\n            modal_visible: true,\n            modal_data: e,\n            modal_date: e\n        })\n    }\n    \n    //THỰC HIỆN LỌC TỪ DROPDOWN\n    handleFilter = (photo, support, tinh_trang, month, year, photoshop) => {\n        let events = [];\n        let branchSelected = JSON.parse(localStorage.getItem(\"branch_selected\") || \"[]\");\n\n        //RELOAD DATA\n        API.Bill.getAll().then(res => {\n            //LỌC DATA\n            let filtered_data = res.data.filter((data, i) => {\n                //LỌC THEO CHI NHÁNH\n                if(branchSelected.indexOf(data.chi_nhanh._id) <= -1) return false;\n\n                //LỌC THEO PHOTO\n                if(photo !== \"all\") {\n                    if(data.photo !== photo) return false;\n                }\n\n                //LỌC THEO PHOTOSHOP\n                if(photoshop !== \"all\") {\n                    if(data.photoshop !== photoshop) return false;\n                }\n\n                //LỌC THEO SUPPORT\n                if(support !== \"all\") {\n                    if(data.support !== support) return false;\n                }\n\n                //LỌC THEO TÌNH TRẠNG\n                if(tinh_trang !== \"all\") {\n                    if(data.tinh_trang._id !== tinh_trang) return false;\n                }\n\n                if(!data.deleted) {\n                    const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n                \n                    let ngay_chup = data.ngay_chup\n                    ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                    events.push({\n                        title: `${data.gio_chup} ${data.chi_nhanh?.ten_chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                        ngay_chup: `${ngay_chup}`,\n                        gio_chup: `${data.gio_chup}`,\n                        tinh_trang: data.tinh_trang,\n                        branch: data.chi_nhanh?.ten_chi_nhanh,\n                        color: data.chi_nhanh.color,\n                        _id: data._id\n                    })\n\n                    return true;\n                }\n\n                return false;\n            });\n  \n            this.setState({\n                events: events,\n                old_events: events,\n                bill: filtered_data,\n                default_bill_data: filtered_data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Bill.getAll().then((res) => {\n                let data = res.data.filter((data) => {\n                    return !data.deleted;\n                })\n\n                this.setState({\n                    bill: data\n                })            \n            })\n        }\n        //RELOAD DATA\n        API.Bill.getAll().then((res) => {\n            let data = res.data.filter((d) => {\n                return !d.deleted;\n            })\n\n            let events = [];\n\n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                \n                return false;\n            })\n\n            filtered_data.forEach((data) => {\n                const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n                \n                events.push({\n                    title: `${data.chi_nhanh?.ten_chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                    ngay_chup: `${data.ngay_chup}`,\n                    gio_chup: `${data.gio_chup}`,\n                    tinh_trang: data.tinh_trang,\n                    branch: data.chi_nhanh?.ten_chi_nhanh,\n                    _id: data._id\n                })\n            });\n\n            this.setState({\n                autocomplete_data: events\n            })           \n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.status) {\n            return <div></div>\n        }\n\n        if(this.state.redirect) {\n            return(\n                <Redirect to={`bill_edit/${this.state.link}`}/>\n            )\n        }\n\n        return(\n            <div>\n                <CalendarModal events={this.state.events} date={this.state.modal_date} status={this.state.status} data={this.state.modal_data} visible={this.state.modal_visible} handleCloseModal={() => this.setState({modal_visible: false})}/>\n                <DefaultHeaderBar \n                    // onSearchKeyPress={this.handleSearch} \n                    // autocomplete_data= {this.state.autocomplete_data} \n                    onDropdownFilterBtnClick={this.handleFilter} \n                    create_btn_link=\"bill_edit/create_new/\"\n                    title=\"Lịch\"\n                />\n                {isMobile ? <MobileCalendarModal visible={this.state.m_modal_visible} data={this.state.m_modal_data} handleCloseModal={() => this.setState({m_modal_visible: false})} branch={this.state.branch}/> : null}\n                <div className=\"view\">\n                    <LavenCalendar events={this.state.events} branch={this.state.branch} onClick={this.handleEventClick} onClickDate={(e) => this.setState({m_modal_data: e, m_modal_visible: true})}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CalendarScreen;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {HashSpiner} from '@components/Spiners';\nimport {removeVietnameseTones} from '@functions/Global';\nimport { Table } from '@components';\nimport API from '@api';\nimport * as Icons from 'react-icons/io5';\nimport Excel from '@utils/Excel';\n\nconst TABLE_COLUMNS = [\n    {\n        key: \"ten_chi_nhanh\",\n        title: \"Chi nhánh\",\n    }, {\n        key: \"ten_khach_hang\",\n        title: \"Tên khách hàng\",\n    }, {\n        key: \"so_dien_thoai\",\n        title: \"Số điện thoại\",\n    }, {\n        key: \"dia_chi\",\n        title: \"Địa chỉ\",\n    }\n]\n\nclass CustomerScreen extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            customers: null\n        }\n\n        API.Bill.getAll().then(res => {\n            let data = res.data.map((data) => {\n                if(!data.deleted) {\n                    return {\n                        ten_chi_nhanh: data.chi_nhanh.ten_chi_nhanh,\n                        ten_khach_hang: data.ten_khach_hang,\n                        so_dien_thoai: data.so_dien_thoai,\n                        dia_chi: data.dia_chi,\n                        date_created: data.date_created\n                    }\n                }\n            });\n\n            //Filter trung lap\n            let tenKhCheckTemp = \"\";\n            \n            data.sort((a, b) => a.so_dien_thoai - b.so_dien_thoai);\n\n            data = data.filter(kh => {\n                let phoneNumber = kh?.so_dien_thoai?.trim();\n                if(tenKhCheckTemp != phoneNumber) {\n                    tenKhCheckTemp = phoneNumber;\n                    return true;\n                }\n\n                return false;\n            });\n\n            data.sort((a, b) => a.date_created - b.date_created);\n\n            this.setState ({\n                customers: data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Bill.getAll().then(res => {\n                let data = res.data.filter((data) => {\n                    if(!data.deleted) {\n                        return {\n                            ten_chi_nhanh: data.chi_nhanh.ten_chi_nhanh,\n                            ten_khach_hang: data.ten_khach_hang,\n                            so_dien_thoai: data.so_dien_thoai,\n                            dia_chi: data.dia_chi,\n                        }\n                    }\n                })\n\n                this.setState({\n                    bill: data\n                })     \n            }).catch(e => console.log(e));\n        }\n\n        //RELOAD DATA\n        API.Bill.getAll().then((res) => {\n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = res.data.filter((data, i) => {\n                const searchValue = removeVietnameseTones(search_value.toLowerCase());\n                const tenKhachHang = removeVietnameseTones(data.ten_khach_hang.toLowerCase());\n                const soDienThoai = data.so_dien_thoai;\n\n                if((tenKhachHang.indexOf(searchValue) || soDienThoai.indexOf(searchValue)) && !data.deleted) {\n                    return {\n                        ten_chi_nhanh: data.chi_nhanh.ten_chi_nhanh,\n                        ten_khach_hang: data.ten_khach_hang,\n                        so_dien_thoai: data.so_dien_thoai,\n                        dia_chi: data.dia_chi,\n                    }\n                }\n\n                return false;\n            })\n  \n            this.setState({\n                bill: filtered_data\n            })            \n        }).catch(e => console.log(e));\n    }\n\n    //FILTER\n    handleFilter = async (date) => {\n        await API.Bill.getAll().then(res => {\n            let data = res.data.map((data) => {\n                if(!data.deleted) {\n                    return {\n                        ten_chi_nhanh: data.chi_nhanh.ten_chi_nhanh,\n                        ten_khach_hang: data.ten_khach_hang,\n                        so_dien_thoai: data.so_dien_thoai,\n                        dia_chi: data.dia_chi,\n                        date_created: data?.date_created\n                    }\n                }\n            });\n\n            data = data.filter(item => {\n                if(item?.date_created) {\n                    let month = new Date(item.date_created).getMonth();\n                    let year = new Date(item.date_created).getFullYear();\n                    let filterMonth = new Date(date).getMonth();\n                    let filterYear = new Date(date).getFullYear();\n\n                    return month == filterMonth && year == Number(filterYear);\n                }\n            });\n\n            //Filter trung lap\n            let tenKhCheckTemp = \"\";\n            \n            data.sort((a, b) => a.so_dien_thoai - b.so_dien_thoai);\n\n            data = data.filter(kh => {\n                let phoneNumber = kh?.so_dien_thoai?.trim();\n                if(tenKhCheckTemp != phoneNumber) {\n                    tenKhCheckTemp = phoneNumber;\n                    return true;\n                }\n\n                return false;\n            });\n\n            data.sort((a, b) => a.date_created - b.date_created);\n\n            this.setState ({\n                customers: data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //DOWNLOAD CUSTOMERS LIST\n    _handleDownloadList = async () => {\n        //*Convert to Excel File\n        let rowsData = this.state.customers.map((item, index) => ([\n            index + 1,\n            item?.ten_chi_nhanh,\n            item?.ten_khach_hang,\n            item?.so_dien_thoai,\n            item?.dia_chi\n        ]));\n        let excelFile = Excel.createExcel([\n            \"STT\",\n            \"Chi nhánh\",\n            \"Tên khách hàng\",\n            \"Số điện thoại\",\n            \"Địa chỉ\"\n        ], rowsData);\n\n        // Convert and Download file\n        let dateNow = new Date();\n        let filename = `DS_Khach_Hang_${dateNow.getDate()}-${dateNow.getMonth() + 1}-${dateNow.getFullYear()}`;\n        var blob = new Blob([excelFile], {\n            type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        });\n        var element = document.createElement('a');\n        element.setAttribute('href', window.URL.createObjectURL(blob));\n        element.setAttribute('download', filename);\n      \n        element.style.display = 'none';\n        document.body.appendChild(element);\n      \n        element.click();\n      \n        document.body.removeChild(element);\n    }\n\n    render() {\n        if(!this.state.customers) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar \n                    onCustomerFilter={this.handleFilter}\n                    actions={[\n                        <button onClick={this._handleDownloadList}>\n                            <Icons.IoDownloadOutline className=\"icon\"/>\n                            Tải danh sách KH\n                        </button>\n                    ]}\n                    onSearchKeyPress={this.handleSearch}\n                    title=\"Khách Hàng\"/>\n                <Table\n                    columns={TABLE_COLUMNS}\n                    data={this.state.customers}\n                />\n            </div>\n        )\n    }\n}\n\nexport default CustomerScreen;","import React, {Component} from 'react';\nimport {SpendingTable} from '@components/Table';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {removeVietnameseTones, findWithAttr} from '@functions/Global';\nimport {HashSpiner} from '@components/Spiners';\nimport {AnalyticsCard, AnalyticsChartCard, AnalyticsChartCard2} from \"@components/Cards\";\nimport { Table, FormModal } from \"@components\";\n\nimport API from \"@api\";\n\nconst TABLE_COLUMNS = [\n    {\n        key: \"date\",\n        title: \"Ngày chi\",\n    }, {\n        key: \"noi_dung\",\n        title: \"Nội dung\",\n    }, {\n        key: \"so_tien\",\n        title: \"Số tiền\",\n    }, {\n        key: \"type\",\n        title: \"Trạng thái thanh toán\",\n    }, {\n        key: \"status\",\n        title: \"Trạng thái\",\n    }, {\n        key: \"nguoi_chi\",\n        title: \"Người chi\",\n    }\n]\n\nclass SpendingScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_id: null,\n            data_spending: null,\n            perms: null,\n            payment_type: '2',\n            total_money: 0,\n            wallet_address: ''\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        this.updateData();\n    }\n\n    handleCloseModal = () => {\n        this.refs.noi_dung.value = \"\";\n        this.refs.so_tien.value = \"\";\n\n        this.setState({\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            data: null\n        })\n\n        this.updateData();\n    }\n\n    handleOpenModal = () => {\n        this.setState({\n            modal_is_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        API.Spending.get(id).then(res => {\n            this.refs.noi_dung.value = res.data.noi_dung;\n            this.refs.so_tien.value = res.data.so_tien;\n            this.refs.type.value = res.data.type;\n\n            this.setState({\n                modal_is_open: \"true\",\n                edit_id: id,\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Spending.getAll().then(res => {\n                this.setState({\n                    data_spending: res.data.reverse()\n                })\n            });\n        }\n\n        //RELOAD DATA\n        API.Spending.getAll((res) => {\n            let data = res.data.reverse()\n  \n            //TÌM NGƯỜI CHI OR SỐ TIỀN HOẶC NỘI DUNG\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.noi_dung).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_tien.toString()).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.user).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;   \n                \n                return false;\n            })\n  \n            this.setState({\n                data_spending: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        API.Spending.getAll().then(res => {\n            let data = res.data.map((item) => {\n                return {\n                    ...item,\n                    nguoi_chi: item.user_id.ho_ten,\n                    type: item.type == \"1\" ? \"Chuyển khoản\" : item.type == \"2\" ? \"Tiền mặt\" : \"Chuyển đến người dùng\",\n                    date: item.date_created.split(\"T\")[0],\n                    status: item.status == \"pending\" ? \"Đang đợi duyệt\" : item.status == \"refuse\" ? \"Từ chối\" : \"Đã duyệt\"\n                }\n            });\n\n            data = data.filter(i => i.user_id._id === localStorage.getItem(\"user_id\"));\n\n            this.setState({\n                data_spending: data\n            })\n        }).catch(e => console.log(e));\n\n        //Get user money\n        API.Staff.get(localStorage.getItem(\"user_id\")).then(res => {\n            console.log(res.data);\n            this.setState({\n                total_money: res.data.money,\n                wallet_address: res.data.wallet_address\n            })\n        });\n    }\n\n    handleSave = () => {\n        if(this.refs.type.value == \"2\") {\n            alert(\"Vui lòng chọn loại\");\n        }else{\n            let data = {\n                noi_dung: this.refs.noi_dung.value,\n                so_tien: this.refs.so_tien.value,\n                user_id: localStorage.getItem('user_id'),\n                type: this.refs.type.value,\n                to_wallet: this.refs.dia_chi_vi?.value\n            }\n\n            if(this.state.edit_id) { //*Update\n                API.Spending.update(this.state.edit_id, data).then(res => {\n                    this.handleCloseModal();\n                }).catch(e => console.log(e));\n            }else{ //*Create\n                API.Spending.add(data).then(res => {\n                    this.handleCloseModal();\n                }).catch(e => console.log(e));\n            }\n        }\n    }\n\n    handleRemove = () => {\n        API.Spending.remove(this.state.edit_id).then(res => {\n            this.handleCloseModal();\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.data_spending || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar \n                    title=\"Chi\" \n                    handleCreate={this.state.perms.spending[1] == \"1\" ? this.handleOpenModal : null} \n                    onSearchKeyPress={this.handleSearch}\n                />\n\n                <div className=\"view\" style={{display: 'flex', paddingTop: 96}}>\n                    <AnalyticsCard type=\"vi_tien\" value={this.state.total_money} dia_chi_vi={this.state.wallet_address}></AnalyticsCard>\n                </div>\n\n                <Table\n                    columns={TABLE_COLUMNS}\n                    data={this.state.data_spending}\n                    onClick={this.handleOpenEditModal}\n                />\n\n                <FormModal \n                    title=\"Thêm Mục Cần Chi\"\n                    is_open={this.state.modal_is_open} \n                    onClose={\n                        !this.state.edit_id ? \n                        () => this.setState({modal_is_open: \"false\"}) : null\n                    }\n                    onSave={\n                        this.state.perms.spending[2] == \"1\" ?\n                        () => this.handleSave() : null\n                    }\n                    onRemove={\n                        this.state.perms.spending[3] == \"1\" && this.state.edit_id ?\n                        () => this.handleRemove() : null\n                    }\n                >\n                    <div className=\"box\">\n                        <span className=\"title\">Nội dung</span>\n                        <input type=\"text\" className=\"textbox\" ref=\"noi_dung\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số tiền</span>\n                        <input type=\"number\" className=\"textbox\" ref=\"so_tien\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Loại</span>\n                        <select className=\"textbox\"  ref=\"type\" defaultValue=\"2\" onChange={e => this.setState({\n                            payment_type: e.target.value\n                        })}>\n                            <option value=\"2\" disabled></option>\n                            <option value=\"0\">Chuyển Khoản</option>\n                            <option value=\"1\">Tiền Mặt</option>\n                            <option value=\"3\">Chuyển đến người dùng</option>\n                        </select>\n                    </div>\n                    {\n                        this.state.payment_type == \"3\" && (\n                            <div className=\"box\">\n                                <span className=\"title\">Địa chỉ ví</span>\n                                <input type=\"text\" className=\"textbox\" ref=\"dia_chi_vi\"/>\n                            </div>\n                        )\n                    }\n                </FormModal> \n            </div>\n        )\n    }\n}\n\nexport default SpendingScreen;","import React, {Component} from 'react';\nimport {AnalyticsCard} from \"@components/Cards\";\nimport {numberWithCommas} from '@functions/Global';\nimport {AnalyticsTable} from '@components/Table';\nimport {isMobile} from 'react-device-detect';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {LavenDatePicker} from '@components/DatePicker';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\n\nimport \"@styles/components/Headers.scss\";\nimport \"@styles/views/Analytics_view.scss\";\n\nimport API from '@api';\nimport { PaperCard } from '@components';\n\nclass TotalAnalyticScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            goi_chup_data: null,\n            services: null,\n            staff: null,\n            branch: null,\n            bill: null,\n            data: null,\n            total_num: 0,\n            total_da_thu_chuyen_khoan: 0,\n            total_da_thu_tien_mat: 0,\n            total_da_thu: 0,\n            total_con_no: 0,\n            chartData: []\n        }\n\n        API.Staff.getAll().then(res => {\n            this.setState({staff: res.data})\n        }).catch(e => console.log(e));\n\n        API.Branch.getAll().then(res => {\n            this.setState({branch: res.data})\n        }).catch(e => console.log(e));\n        \n        API.Bill.getAll().then(res => {\n            let data = res.data;\n\n            data = data.filter((data, i) => {\n                return !data.deleted;\n            })\n\n            //Calculate Thanh Toan vs Thu Trong ngay\n            let dateNow = new Date().format('yyyy-MM-dd');\n\n            for(var bill of data) {\n                let daThu = 0;\n                let daThuToday = 0;\n\n                //Dat coc\n                for(var dc of bill.dat_coc) {\n                    let date = new Date(dc.time).format('yyyy-MM-dd');\n                    let isToday = date == dateNow;\n\n                    if(isToday) {\n                        daThuToday += dc.value; \n                    }else{\n                        daThu += dc.value;\n                    }\n                }\n\n                //Da thu\n                for(var dt of bill.thanh_toan) {\n                    let date = new Date(dt.time).format('yyyy-MM-dd');\n                    let isToday = date == dateNow;\n\n                    if(isToday) {\n                        daThuToday += dt.value; \n                    }else{\n                        daThu += dt.value;\n                    }\n                }\n\n                bill.daThu = daThu;\n                bill.daThuToday = daThuToday;\n            }\n\n            this.setState({\n                bill: data\n            })\n        }).catch(e => console.log(e));\n\n        this.fetchPackages();\n    }\n\n    fetchPackages = async() => {\n        await API.PackageType.getSlug(\"goi_chup\").then(res => {\n            let typeId = res.data._id;\n\n            API.Package.getType(typeId).then(res => {\n                this.setState({\n                    goi_chup_data: res.data\n                })\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n\n        await API.PackageType.getSlug(\"dich_vu\").then(res => {\n            let typeId = res.data._id;\n\n            API.Package.getType(typeId).then(res => {\n                this.setState({\n                    services: res.data\n                })\n            }).catch(e => console.log(e));\n        }).catch(e => console.log(e));\n    }\n\n    handleDateTotalFilter() {\n        let startDate = this.state.fromDate.split(\"-\");\n        startDate = startDate[2] + '-' + startDate[1] + '-' + startDate[0];\n\n        let endDate = this.state.toDate.split(\"-\");\n        endDate = endDate[2] + '-' + endDate[1] + '-' + endDate[0];\n\n        let branch = this.refs.branch.value;\n        let list = this.refs.list.value;\n        let photos = this.refs.photos.value;\n\n        //LỌC THEO NGÀY\n        let filter_by_date = this.state.bill.filter((data, i) => {\n            let ngay_chup = data.ngay_chup.split(\"-\");\n            ngay_chup = ngay_chup[0].length == 2 ? ngay_chup[2] + \"-\" + ngay_chup[1] + \"-\" + ngay_chup[0] : data.ngay_chup\n\n            if(startDate > ngay_chup) return false;\n            return ngay_chup <= endDate;\n        });\n\n        //LỌC THEO CÁC PHẦN TỬ\n        let filter_by_attributes = filter_by_date.filter((data, i) => {\n            //LỌC CHI NHÁNH\n            if(branch !== \"all\") {\n                if(data.chi_nhanh._id !== branch) return false;\n            }\n\n            //LỌC PHOTOS\n            if(photos !== \"all\") {\n                if(photos !== data.photo && photos !== data.support) return false;\n            }\n\n            //LỌC TRẠNG THÁI CHUYỂN TIỀN\n            //if(data.dat_coc_2 == \"2\" || data.thanh_toan_l1_2 == \"2\" || data.thanh_toan_l2_2 == \"2\") return false;\n\n            return true;\n        });\n\n        let total_bill = 0;\n        let total_da_thu_ck = 0;\n        let total_da_thu_tm = 0;\n        let total_con_no = 0;\n        let chartData = {};\n\n        filter_by_attributes.map((data, i) => {\n            //LỌC VÀ TÍNH TỔNG ĐƠN THEO GÓI CHỤP HOẶC DỊCH VỤ\n            if(list !== \"all\") {\n                data.products.map((product, i) => {\n                    if(list === \"goi_chup\") {\n                        let services_filter = this.state.goi_chup_data.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                        if(services_filter > -1) total_bill += ((parseInt(product.gia) * parseInt(product.so_luong)) - (product.giam_gia ? parseInt(product.giam_gia) : 0));\n                    }else if(list === \"services\") {\n                        let goi_chup_filter = this.state.services.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                        if(goi_chup_filter > -1) total_bill += ((parseInt(product.gia) * parseInt(product.so_luong)) - (product.giam_gia ? parseInt(product.giam_gia) : 0));\n                    }\n                });\n            }else {\n                total_bill += data.tong;\n            }\n\n            total_con_no += data.con_no;\n\n            let daThuCk = 0;\n            let daThuTm = 0;\n\n            //TÍNH TỔNG ĐÃ THU\n            data.dat_coc.map(item => {\n                if(item.transaction == 0) {\n                    daThuCk += item.value;\n                }else{\n                    daThuTm += item.value;\n                }\n            });\n\n            data.thanh_toan.map(item => {\n                if(item.transaction == 0) {\n                    daThuCk += item.value;\n                }else{\n                    daThuTm += item.value;\n                }\n            });\n\n            total_da_thu_ck += daThuCk;\n            total_da_thu_tm += daThuTm;\n\n            chartData[data.ngay_chup] = {\n                value: (chartData[data.ngay_chup]?.value || 0) + (daThuCk + daThuTm)\n            }\n        });\n\n        //*LIST DATA CHO CHART\n        let startDay = Number(this.state.fromDate.split(\"-\")[0]);\n        let endDay = Number(this.state.toDate.split(\"-\")[0]);\n        let dayRange = endDay - startDay;\n\n        if(dayRange <= 31) { //*Week\n            chartData = Object.keys(chartData).map(key => ({\n                date: key,\n                value: chartData[key].value\n            }));\n        }else{\n            chartData = Object.keys(chartData).map(key => ({\n                date: key,\n                value: chartData[key].value\n            }));\n        }\n\n        chartData = chartData.reverse();\n    \n        this.setState({\n            total_num: numberWithCommas(total_bill),\n            data: filter_by_attributes,\n            total_da_thu_chuyen_khoan: numberWithCommas(total_da_thu_ck),\n            total_da_thu_tien_mat: numberWithCommas(total_da_thu_tm),\n            total_da_thu: numberWithCommas(total_da_thu_ck + total_da_thu_tm),\n            total_con_no: numberWithCommas(total_con_no),\n            chartData\n        })\n    }\n\n    handleChangeFromDate = (date) => {\n        this.setState({\n          fromDate: date\n        });\n    }\n\n    handleChangeToDate = (date) => {\n        this.setState({\n          toDate: date\n        });\n    }\n\n    render() {\n        if(!this.state.branch || !this.state.staff || !this.state.services || !this.state.goi_chup_data) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"analytics_view\">\n                {isMobile ? <DefaultHeaderBar handleRemove={null} handleSave={null} handleEdit={null} create_btn_link={null} handleCreate={null}/> : null}\n                <div className=\"toolbar\">\n                    {isMobile ? null : <h1 className=\"view_header\" style={{marginRight: \"24px\", marginLeft: \"24px\"}}>Tổng Quát</h1>}\n                    <div className=\"group filter\">\n                        <div className=\"box\">\n                            <select ref=\"branch\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>\n                            <select ref=\"list\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                <option value=\"goi_chup\">Gói chụp</option>\n                                <option value=\"services\">Dịch vụ</option>\n                            </select>\n                            <select ref=\"photos\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.staff.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ho_ten}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <h1 className=\"view_header\">Từ</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.fromDate} ref=\"fromDate\" className=\"textbox\" onChange={this.handleChangeFromDate}/>\n                        </div>\n                        <h1 className=\"view_header\">Đến</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.toDate} ref=\"toDate\" className=\"textbox\" onChange={this.handleChangeToDate}/>\n                        </div>\n                        <button className=\"btn blue\" onClick={this.handleDateTotalFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n\n                {/* CARD */}\n                <div className=\"overview\">\n                    <AnalyticsCard type=\"tong\" value={this.state.total_num}></AnalyticsCard>\n                    <AnalyticsCard type=\"da_thu\" value={this.state.total_da_thu} chuyen_khoan_num={this.state.total_da_thu_chuyen_khoan} tien_mat_num={this.state.total_da_thu_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard type=\"con_no\" value={this.state.total_con_no}></AnalyticsCard>\n                </div>\n\n                {/* CHART */}\n                <div className=\"charts\">\n                    <PaperCard title=\"Biểu đồ doanh thu\">\n                        <LineChart width={400} height={400} data={this.state.chartData}>\n                            <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" strokeWidth={2}/>\n                            <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5 5\" />\n                            <XAxis dataKey=\"date\" />\n                            {/* <YAxis /> */}\n                            <Tooltip />\n                        </LineChart>\n                    </PaperCard>\n                </div>\n\n                {/* TABLE */}\n                <AnalyticsTable data={this.state.data}/>\n            </div>\n        )\n    }\n}\n\nexport default TotalAnalyticScreen;","import React, {Component} from 'react';\nimport {AnalyticsCard, AnalyticsChartCard, AnalyticsChartCard2} from \"@components/Cards\";\nimport {numberWithCommas, findWithAttr} from '@functions/Global';\nimport {AnalyticsTable, SpendingTableAnalytics} from '@components/Table';\nimport {isMobile} from 'react-device-detect';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {LavenDatePicker} from '@components/DatePicker';\nimport {HashSpiner} from '@components/Spiners';\n\nimport \"@styles/components/Headers.scss\";\nimport \"@styles/views/Analytics_view.scss\";\n\nimport API from \"@api\";\n\nclass RevenueScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bill: null,\n            total_num: 0,\n            total_da_thu_chuyen_khoan: 0,\n            total_da_thu_tien_mat: 0,\n            total_spending: 0,\n            total_spending_chuyen_khoan: 0,\n            total_spending_tien_mat: 0,\n            start_date: null,\n            end_date: null,\n            data: null,\n            spending_data: null,\n            branch: null,\n            staff: null,\n            spending: null,\n            total_con_giu: 0,\n            total_con_giu_chuyen_khoan: 0,\n            total_con_giu_tien_mat: 0,\n            is_spending: true,\n            perms: null\n        }\n\n        API.Bill.getAll().then(res => {\n            let data = res.data;\n            data = data.filter((data, i) => {\n                return !data.deleted;\n            })\n\n            this.setState({\n                bill: data\n            })\n        }).catch(e => console.log(e));\n\n        API.Spending.getAll().then(res => {\n            this.setState({\n                spending: res.data\n            })\n        }).catch(e => console.log(e));\n\n        API.Branch.getAll().then(res => {\n            this.setState({\n                branch: res.data\n            })\n        }).catch(e => console.log(e));\n\n        API.Staff.getAll().then(res => {\n            this.setState({\n                staff: res.data\n            })\n        }).catch(e => console.log(e));\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    async handleDateTotalFilter() {\n        let startDate = this.state.fromDate.split(\"-\");\n        startDate = startDate[2] + '-' + startDate[1] + '-' + startDate[0];\n\n        let endDate = this.state.toDate.split(\"-\");\n        endDate = endDate[2] + '-' + endDate[1] + '-' + endDate[0];\n        \n        let branch = this.refs.branch.value;\n        let staff = this.refs.staff.value;\n        let bill = this.state.bill;\n        let spending = this.state.spending;\n\n        //CHUYỂN ĐỊNH DANGJ NGÀY\n        const transDate = (value) => {\n            try {\n                let date = value.split(\"-\");\n                date = date[0] + '-' + (date[1] <= 9 ? '0' + date[1] : date[1]) + '-' + date[2];\n\n                return date;\n            }catch(e) {\n\n            }\n        }\n\n        //*LỌC THEO CÁC PHẦN TỪ CHI\n        spending = spending.filter((data, i) => {\n            let date = data.date_created.split(\"T\")[0];\n\n            //LỌC THEO TRẠNG THÁI\n            if(data.status == \"pending\") return false;\n\n            //LỌC TÊN NHÂN VIÊN\n            if(staff !== \"all\") {\n                if(data.user_id.ho_ten == staff && startDate <= date && date <= endDate) {\n                    return true;\n                }else {\n                    return false;\n                }\n            }\n\n            return startDate <= date && date <= endDate\n        });\n\n        //LỌC THEO CÁC PHẦN TỬ\n        bill = await bill.filter((data, i) => {\n            let flag = true;\n\n            //LỌC CHI NHÁNH\n            if(branch !== \"all\") {\n                if(data.chi_nhanh._id !== branch) return false;\n            }\n\n            //LỌC TÊN NHÂN VIÊN\n            if(staff !== \"all\") {\n                let thanhToan = data.thanh_toan.filter((item) => {\n                    let name = item.des.split(\"-\")[1]?.replace(\" \", \"\");\n                    let time = transDate(item.time);\n\n                    return name === staff && startDate <= time && time <= endDate;\n                })\n\n                let datCoc = data.dat_coc.filter((item) => {\n                    let name = item.des.split(\"-\")[1]?.replace(\" \", \"\");\n                    let time = transDate(item.time);\n\n                    return name === staff && startDate <= time && time <= endDate;\n                })\n\n                flag = thanhToan.length && datCoc.length;\n            } \n\n            return flag;\n        });\n\n        //LỌC LẠI BILL THEO NGÀY THANH TOÁN & DAT COC\n        let filter_all = await bill?.filter((data, i) => {\n            let datCoc = data.dat_coc.filter(item => {\n                let time = transDate(item.time);\n                \n                return time >= startDate && time <= endDate;\n            });\n\n            let thanhToan = data.thanh_toan.filter(item => {\n                let time = transDate(item.time);\n                \n                return time >= startDate && time <= endDate;\n            });\n\n            return datCoc.length && thanhToan.length;\n        }) || [];\n\n        ///*TÍNH TỔNG\n        let total_bill = 0;\n        let total_da_thu_ck = 0;\n        let total_da_thu_tm = 0;\n        let total_spending = 0;\n        let total_spending_ck = 0;\n        let total_spending_tm = 0;\n        let total_con_giu = 0;\n        let total_con_giu_ck = 0;\n        let total_con_giu_tm = 0;\n\n        //Tính tổng chi\n        for(const data of spending) {\n            total_spending += data.so_tien;\n\n            if(data.type == 0) {\n                total_spending_ck += data.so_tien\n            }else{\n                total_spending_tm += data.so_tien\n            }\n        }\n\n        //Tính tổng đơn hàng\n        for(const data of filter_all) {\n            let thuTm = 0;\n            let thuCk = 0;\n            let totalThu = 0; //Tong thu\n            let thuToday = 0; //Thu trong ngay\n            let dateNow = new Date().format(\"yyyy-MM-dd\");\n\n            //Dat coc\n            for(const tt of data.dat_coc) {\n                if(tt.transaction) {\n                    thuTm += tt.value;\n                }else {\n                    thuCk += tt.value;\n                }\n\n                //Check if thu trong ngay\n                let time = new Date(tt.time).format('yyyy-MM-dd');\n\n                if(time == dateNow) {\n                    thuToday += tt.value;\n                }\n            }\n\n            //Thanh Toan\n            for(const tt of data.thanh_toan) {\n                if(tt.transaction) {\n                    thuTm += tt.value;\n                }else {\n                    thuCk += tt.value;\n                }\n\n                //Check if thu trong ngay\n                let time = new Date(tt.time).format('yyyy-MM-dd');\n\n                if(time == dateNow) {\n                    thuToday += tt.value;\n                }\n            }\n\n            totalThu = thuTm + thuCk;\n\n            data.daThu = totalThu;\n            data.daThuToday = thuToday;\n            total_da_thu_tm += thuTm;\n            total_da_thu_ck += thuCk;\n            total_bill += totalThu;\n        }\n\n        //Tính còn giữ\n        total_con_giu = total_bill - total_spending;\n        total_con_giu_ck = total_da_thu_ck - total_spending_ck;\n        total_con_giu_tm = total_da_thu_tm - total_spending_tm;\n\n        this.setState({\n            total_num: numberWithCommas(total_bill),\n            total_da_thu_chuyen_khoan: numberWithCommas(total_da_thu_ck),\n            total_da_thu_tien_mat: numberWithCommas(total_da_thu_tm),\n            total_con_giu: numberWithCommas(total_con_giu),\n            total_con_giu_chuyen_khoan: numberWithCommas(total_con_giu_ck),\n            total_con_giu_tien_mat: numberWithCommas(total_con_giu_tm),\n            total_spending: numberWithCommas(total_spending),\n            total_spending_chuyen_khoan: numberWithCommas(total_spending_ck),\n            total_spending_tien_mat: numberWithCommas(total_spending_tm),\n            start_date: startDate,\n            end_date: endDate,\n            data: filter_all,\n            spending_data: spending\n        })\n    }\n\n    handleChangeFromDate = (date) => {\n        this.setState({\n          fromDate: date\n        });\n    }\n\n    handleChangeToDate = (date) => {\n        this.setState({\n          toDate: date\n        });\n    }\n\n    render() {\n        if(!this.state.bill ||   !this.state.branch || !this.state.staff || !this.state.spending || !this.state.perms) {\n            return(<HashSpiner/>)\n        }\n\n        let is_spending = this.state.is_spending;\n        const perms = this.state.perms;\n\n        return(\n            <div className=\"analytics_view\">\n                {isMobile ? <DefaultHeaderBar handleRemove={null} handleSave={null} handleEdit={null} create_btn_link={null} handleCreate={null}/> : null}\n                <div className=\"toolbar\">\n                    {isMobile ? null : <h1 className=\"view_header\" style={{marginRight: \"24px\", marginLeft: \"24px\"}}>Tổng Quát</h1>}\n                    <div className=\"group filter\">\n                        <div className=\"box\">\n                            <select ref=\"branch\" disabled={this.state.perms.spending_analytics[2] === \"1\" ? '' : 'disabled'}>\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <div className=\"box\">\n                            <select ref=\"staff\" defaultValue={this.state.perms.spending_analytics[2] === \"1\" ? 'all' : localStorage.getItem('ho_ten')} disabled={this.state.perms.spending_analytics[2] === \"1\" ? '' : 'disabled'}>\n                                <option value=\"all\" selected={this.state.perms.spending_analytics[2] === \"1\" ? 'selected' : ''}>Tất cả</option>\n                                {this.state.staff.map((data, i) => {\n                                    return(\n                                        <option value={data.ho_ten}>{data.ho_ten}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <h1 className=\"view_header\">Từ</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.fromDate} ref=\"fromDate\" className=\"textbox\" onChange={this.handleChangeFromDate}/>\n                        </div>\n                        <h1 className=\"view_header\">Đến</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.toDate} ref=\"toDate\" className=\"textbox\" onChange={this.handleChangeToDate}/>\n                        </div>\n                        <button className=\"btn blue\" onClick={this.handleDateTotalFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n\n                {/* CARD */}\n                <div className=\"overview\">\n                    <AnalyticsCard onClick={() => this.setState({is_spending: false})} type=\"da_thu\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_num} chuyen_khoan_num={this.state.total_da_thu_chuyen_khoan} tien_mat_num={this.state.total_da_thu_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard onClick={() => this.setState({is_spending: true})} type=\"da_chi\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_spending} chuyen_khoan_num={this.state.total_spending_chuyen_khoan} tien_mat_num={this.state.total_spending_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard type=\"con_giu\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_con_giu} chuyen_khoan_num={this.state.total_con_giu_chuyen_khoan} tien_mat_num={this.state.total_con_giu_tien_mat}></AnalyticsCard>\n                </div>\n                \n                {/* TABLE */}\n                {is_spending ? <SpendingTableAnalytics data={this.state.spending_data}/> : <AnalyticsTable data={this.state.data}/>}\n            </div>\n        )\n    }\n}\n\nexport default RevenueScreen;","import React, { useEffect, useState, useRef } from 'react';\nimport API from '@api';\nimport { Link, Redirect } from 'react-router-dom';\n\nconst SignupScreen = () => {\n    const emailRef = useRef(null);\n    const passwordRef = useRef(null);\n    const nameRef = useRef(null);\n    const companyNameRef = useRef(null);\n    const companyAddressRef = useRef(null);\n    const companyPhoneRef = useRef(null);\n    const [signupMsg, setSignupMsg] = useState(null);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [companySlug, setCompanySlug] = useState('');\n\n    useEffect(() => {\n        if (localStorage.getItem('JWT')) {\n            API.User.verifyToken().then(res => {\n                setCompanySlug(res.data.company_slug);\n                setIsLoggedIn(true);\n            }).catch(e => console.log(e));\n        }\n    }, []);\n\n    const _handleSignup = async () => {\n        let email = emailRef.current.value;\n        let password = passwordRef.current.value;\n        let name = nameRef.current.value;\n        let companyName = companyNameRef.current.value;\n        let companyAddress = companyAddressRef.current.value;\n        let companyPhone = companyPhoneRef.current.value;\n\n        let res = await API.Company.add(companyName, companyAddress, companyPhone, name, email, password).catch(e => console.log(e));\n\n        if (res.code === 200) {\n            //*Save storage\n            localStorage.setItem('JWT', res.data.accessToken);\n            API.User.verifyToken().then(res => {\n                setCompanySlug(res.data.company_slug);\n                \n                window.location.reload();\n            }).catch(e => console.log(e));\n        }else if(res.code === 400) {\n            setSignupMsg(\"Công ty đã được tạo!\");\n        }else{\n            console.log(res);\n        }\n    }\n\n    if (isLoggedIn) {\n        return <Redirect to={`/${companySlug}/`}/>\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%', height: '100vh', alignItems: 'center', justifyContent: 'center'}}>\n            <h1>Đăng Ký</h1>\n\n            {\n                signupMsg ?\n                <a style={{marginBottom: \"16px\", fontSize: \"14px\", color: \"red\"}}>{signupMsg}</a> : null\n            }\n\n            <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 16\n            }}>\n                <input type=\"text\" ref={companyNameRef} placeholder=\"Tên công ty\" className=\"textbox\"/>\n                <input type=\"address\" ref={companyAddressRef} placeholder=\"Địa chỉ\" className=\"textbox\"/>\n                <input type=\"phone\" ref={companyPhoneRef} placeholder=\"Số điện thoại\" className=\"textbox\"/>\n                <input type=\"name\" ref={nameRef} placeholder=\"Họ tên\" className=\"textbox\"/>\n                <input type=\"email\" ref={emailRef} placeholder=\"Email\" className=\"textbox\"/>\n                <input type=\"password\" ref={passwordRef}  placeholder=\"Mật khẩu\" className=\"textbox\"/>\n                <button className=\"btn blue\" onClick={_handleSignup}>Đăng Ký</button>\n\n                <Link\n                    to=\"/login\"\n                    style={{\n                        fontSize: 12,\n                        color: \"#2484ff\",\n                        textDecoration: \"none\",\n                        marginTop: 5\n                    }}\n                >Bạn đã có tài khoản? Hãy đăng nhập</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default SignupScreen;","import React, { useEffect, useState, useRef } from 'react';\nimport API from '@api';\nimport { Link, Redirect } from 'react-router-dom';\n\nconst LoginScreen = () => {\n    const emailRef = useRef(null);\n    const passwordRef = useRef(null);\n    const [loginMsg, setLoginMsg] = useState(null);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [companySlug, setCompanySlug] = useState('');\n\n    useEffect(() => {\n        if (localStorage.getItem('JWT')) {\n            API.User.verifyToken().then(res => {\n                setCompanySlug(res.data.company_slug);\n                setIsLoggedIn(true);\n            }).catch(e => console.log(e));\n        }\n    }, []);\n\n    const _handleLogin = async() => {\n        let email = emailRef.current.value;\n        let password = passwordRef.current.value;\n\n        let res = await API.User.auth(email, password).catch(e => console.log(e));\n\n        if (res.code === 200) {\n            //*Save storage\n            localStorage.setItem('JWT', res.data.accessToken);\n            await API.User.verifyToken().then(res => {\n                setCompanySlug(res.data.company_slug);\n\n                localStorage.setItem(\"company_slug\", res.data.company_slug);\n            }).catch(e => console.log(e));\n\n            //Set default branch seelcted\n            let branches = await API.Branch.getAll();\n            branches = branches.data.map(b => b._id);\n\n            localStorage.setItem(\"branch_selected\", JSON.stringify(branches));\n                \n            window.location.reload();\n        }else if(res.code === 400) {\n            setLoginMsg(\"Sai email hoặc mật khẩu đăng nhập!\");\n        }else{\n            setLoginMsg(\"Có lỗi xảy ra trong quá trình đăng nhập\");\n        }\n    }\n    \n    if(isLoggedIn) {\n        return <Redirect to={`/${companySlug}/`}/>\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%', height: '100vh', alignItems: 'center', justifyContent: 'center'}}>\n            <h1>Đăng Nhập</h1>\n            {\n                loginMsg ?\n                <a style={{marginBottom: \"16px\", fontSize: \"14px\", color: \"red\"}}>{loginMsg}</a> : null\n            }\n            <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 16\n            }}>\n                <input type=\"email\" ref={emailRef} placeholder=\"Email\" className=\"textbox\"/>\n                <input type=\"password\" ref={passwordRef}  placeholder=\"Mật khẩu\" className=\"textbox\"/>\n                <button className=\"btn blue\" onClick={_handleLogin}>Đăng Nhập</button>\n\n                <Link\n                    to=\"/signup\"\n                    style={{\n                        fontSize: 12,\n                        color: \"#2484ff\",\n                        textDecoration: \"none\",\n                        marginTop: 5\n                    }}\n                >Bạn chưa có tài khoản? Tạo tài khoản</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginScreen;","import React,{ Component } from 'react';\nimport {SettingsHeader} from '@components/Header_bar';\nimport {Link} from 'react-router-dom';\n\nimport * as Ionicons from 'react-icons/io5';\nimport \"@styles/views/Settings.scss\";\n\nimport {BsPeople, BsAppIndicator, BsInboxes, BsBuilding, BsCreditCard, BsFillArchiveFill, BsPersonCheck, BsFolderCheck} from 'react-icons/bs';\n\nimport API from '@api';\n\nclass SettingScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null\n        } \n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"settings_view\">\n                <SettingsHeader/>\n                <div className=\"settings_container\">\n                    <Link to=\"settings/profile\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <Ionicons.IoPersonOutline className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Thông Tin Cá Nhân</span>\n                    </Link>\n                    <Link to=\"settings/personnel\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPeople className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhân Sự</span>\n                    </Link>\n                    {this.state.perms.branch[0] == \"1\" ? \n                    <Link to=\"branch\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsBuilding className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chi Nhánh</span>\n                    </Link> : null}\n                    \n                    {this.state.perms.status[0] == \"1\" ?\n                    <Link to=\"status\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsAppIndicator className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Tình Trạng</span>\n                    </Link> : null}\n\n                    \n                    {this.state.perms.backup[0] == \"1\" ?\n                    <Link to=\"subscription\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFillArchiveFill className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Gói Mua</span>\n                    </Link> : null}\n                    \n                    {this.state.perms.backup[0] == \"1\" ?\n                    <Link to=\"admin/subscription\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFillArchiveFill className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Quản Lý Gói Mua</span>\n                    </Link> : null}\n\n                    {this.state.perms.transaction_management[0] == \"1\" ?\n                    <Link to=\"settings/transactions\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <Ionicons.IoJournalOutline className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Quản Lý Giao Dịch</span>\n                    </Link> : null}\n                    \n                    {/* {this.state.perms.backup[0] == \"1\" ?\n                    <Link to=\"backup\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFillArchiveFill className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Sao Lưu</span>\n                    </Link> : null} */}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SettingScreen;","import React, {Component} from 'react';\nimport {PermissionModal, PermissionEditModal} from '@components/Modals';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport API from '@api';\n\nclass TabBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tab_active: this.props.tab\n        }\n    }\n\n    handleChangeTab = (tab) => {\n        this.setState({\n            tab_active: tab\n        });\n\n        this.props.onChangeTab(tab);\n    }\n\n    render() {\n\n        return(\n            <div className=\"tab_bar\">\n                {this.props.data.map((data , i) => {\n                    return(\n                        <div key={i} onClick={() => this.handleChangeTab(i)} className={this.state.tab_active === i ? \"tab active\" : \"tab\"}>\n                            <span className=\"tab_title\">{data.ten_nhom}</span>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nclass TabContentContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            empty: [0,0,0,0]\n        }\n    }\n    render() {\n        let data = this.props.data;\n        return(\n            <div className=\"tab_content_container\">\n                <div className=\"tab_content_header_container\">\n                    <h1 className=\"tab_content_header\">Danh sách chức năng:</h1>\n                    <div className=\"tab_header_right_item_container\">\n                        <span className=\"tab_header_item_title\">Truy cập</span>\n                        <span className=\"tab_header_item_title\">Thêm</span>\n                        <span className=\"tab_header_item_title\">Chỉnh sửa</span>\n                        <span className=\"tab_header_item_title\">Xóa</span>\n                    </div>\n                </div>\n                <div className=\"tab_content\">\n                    <div className=\"tab_side_bar\">\n                        <span className=\"tab_side_bar_title\">Công Việc</span>\n                            <span className=\"tab_side_bar_item\">Đơn Hàng</span>\n                            <span className=\"tab_side_bar_item\">Lịch</span>\n                            <span className=\"tab_side_bar_item\">Khách Hàng</span>\n                            <span className=\"tab_side_bar_item\">Chi</span>\n\n                        <span className=\"tab_side_bar_title\">Sản Phẩm</span>\n                            <span className=\"tab_side_bar_item\">Gói Chụp</span>\n                            <span className=\"tab_side_bar_item\">Dịch Vụ</span>\n                        \n                        <span className=\"tab_side_bar_title\">Báo Cáo</span>\n                            <span className=\"tab_side_bar_item\">Báo Cáo Doanh Thu</span>\n                            <span className=\"tab_side_bar_item\">Báo Cáo Thu Chi</span>\n\n                            \n                        <span className=\"tab_side_bar_title\">Hệ Thống</span>\n                            <span className=\"tab_side_bar_item\">Nhân Viên</span>\n                            <span className=\"tab_side_bar_item\">Chức Năng Truy Cập</span>\n                            <span className=\"tab_side_bar_item\">Quản Lý Chấm Công</span>\n                            <span className=\"tab_side_bar_item\">Chi Nhánh</span>\n                            <span className=\"tab_side_bar_item\">Tình Trạng</span>\n                            <span className=\"tab_side_bar_item\">Quản Lý Giao Dịch</span>\n                            <span className=\"tab_side_bar_item\">Lương Nhân Viên</span>\n                            <span className=\"tab_side_bar_item\">Sao Lưu</span>\n                            <span className=\"tab_side_bar_item\">Thùng Rác</span>\n                    </div>\n                    <div className=\"tab_tick_container\">\n                        <div className=\"tab_tick\">\n                            {this.state.empty.map((result, i) => {\n                                return(\n                            <div className=\"column\" key={\"column\" + i}>\n                                <div className=\"checkbox\" key={\"bill\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"bill\", i)} defaultChecked={data.bill[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"calendar\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"calendar\", i)} defaultChecked={data.calendar[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"customers\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"customers\", i)} defaultChecked={data.customers[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"spending\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"spending\", i)} defaultChecked={data.spending ? data.spending[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                            \n                                <div className=\"checkbox\" key={\"goi_chup\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"goi_chup\", i)} defaultChecked={data.goi_chup[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"services\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"services\", i)} defaultChecked={data.services[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n\n                                <div className=\"checkbox\" key={\"total_analytics\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"total_analytics\", i)} defaultChecked={data.total_analytics[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"spending_analytics\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"spending_analytics\", i)} defaultChecked={data.spending_analytics ? data.spending_analytics[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                                    \n                                <div className=\"checkbox\" key={\"staff\" + i}>\n                                <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"staff\", i)} defaultChecked={data.staff[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"permisisons\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"permissions\", i)} defaultChecked={data.permissions[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"cham_cong\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"cham_cong\", i)} defaultChecked={data.cham_cong ? data.cham_cong[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"branch\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"branch\", i)} defaultChecked={data.branch[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"status\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"status\", i)} defaultChecked={data.status[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"transaction_management\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"transaction_management\", i)} defaultChecked={data.staff[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"staff_salary\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"staff_salary\", i)} defaultChecked={data.staff_salary[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"backup\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"backup\", i)} defaultChecked={data.backup[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"trash\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"trash\", i)} defaultChecked={data.trash[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                            </div>\n                       \n                                )\n                            }, this)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionScreen extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            is_modal_open: \"false\",\n            is_edit_modal_open: \"false\",\n            permission_data: null,\n            tab_data: null,\n            tab: 0,\n            user_perms: null\n        }     \n        \n        API.Permission.getAll().then(res => {\n            this.setState({\n                permission_data: res.data,\n                tab_data: res.data[0].perms\n            })\n        }).catch(e => console.log(e));\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                user_perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    onTabChange = (tab) => {   \n        this.setState ({\n            tab_data: null,\n            tab: tab\n        })     \n\n        API.Permission.getAll().then((res) => {\n            this.setState({\n                tab_data: res.data[tab].perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    handleOpenCreateModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = () => {\n        this.setState ({\n            is_edit_modal_open: \"true\"\n        })\n    }\n\n    handleCloseModal = () => {\n        this.setState ({\n            is_modal_open: \"false\",\n            is_edit_modal_open: \"false\"\n        })\n    }\n\n    //UPDATE PERMISSION WHEN USER CHECK ON CHECKBOX\n    handleTickBox = (event, element, location) => {\n        let data = this.state.tab_data;\n        let permission_data = this.state.permission_data;\n        permission_data = permission_data[this.state.tab];\n        permission_data[\"perms\"] = data;\n\n        let element_data = {}\n        element_data[element] = [\"0\",\"0\",\"0\",\"0\"];\n\n        if(data[element]) {\n            data[element][location] = event.target.checked ? \"1\" : \"0\";\n        }else{ \n            element_data[element][location] = event.target.checked ? \"1\" : \"0\";\n            data = Object.assign(data, element_data);\n        }\n\n        API.Permission.update(permission_data._id, permission_data).then(res => {}).catch(e => console.log(e));\n\n        //updatePermission(permission_data, (res) => {});\n    }\n\n    //UPDATE DATA AFTER USER EDIT\n    handleUpdate = () => {\n        API.Permission.getAll().then(res => {\n            this.setState({\n                permission_data: res.data,\n                tab_data: res.data[0].perms,\n                tab: 0\n            });\n\n            this.handleCloseModal();\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.permission_data || !this.state.tab_data || !this.state.user_perms) {\n            return (\n                <div className=\"view\">\n                    <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} title=\"Chức Năng Truy Cập\" handleCreate={this.handleUpdateData}/>\n                </div>\n            )\n        }\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar  \n                    onGoBack={() => this.props.history.goBack()} \n                    handleCreate={null} \n                    create_btn_link={null} \n                    handleSave={null} \n                    handleRemove={null} \n                    title=\"Chức Năng Truy Cập\" \n                    handleEdit={ this.state.user_perms.permissions[2] == \"1\" ? this.handleOpenEditModal : null} \n                    handleCreate={this.state.user_perms.permissions[1] == \"1\" ? this.handleOpenCreateModal :null}\n                />\n                <TabBar onChangeTab={this.onTabChange} tab={this.state.tab} data={this.state.permission_data}/>\n                <TabContentContainer data={this.state.tab_data} tab={this.state.tab} onTickBox={this.handleTickBox}/>\n                <PermissionModal \n                    is_open={this.state.is_modal_open} \n                    handleCloseModal={this.handleCloseModal} \n                    onCreateNew={this.handleUpdate}\n                />\n                <PermissionEditModal \n                    is_open={this.state.is_edit_modal_open} \n                    tab={this.state.tab} \n                    handleSave={this.handleUpdate} \n                    handleRemove={this.handleUpdate} \n                    ten_nhom={this.state.permission_data[this.state.tab].ten_nhom} \n                    _id={this.state.permission_data[this.state.tab]._id} \n                    handleCloseModal={this.handleCloseModal}\n                />\n            </div>\n        )\n    }\n}\n\nexport default PermissionScreen;","import React, {Component} from 'react';\nimport { DefaultHeaderBar } from '@components/Header_bar';\nimport { Table, FormModal } from '@components';\nimport {removeVietnameseTones} from '@functions/Global';\nimport {HashSpiner} from '@components/Spiners';\nimport API from '@api';\nimport CONFIG from '@config';\n\nconst TABLE_COLUMNS = [\n    {\n        key: \"ten_chi_nhanh\",\n        title: \"Tên chi nhánh\",\n        colored: true,\n    }, {\n        key: \"dia_chi\",\n        title: \"Địa chỉ\",\n    }\n]\n\nclass BranchScreen extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            is_modal_open: \"false\",\n            data: null,\n            edit_id: null,\n            perms:null,\n            color: CONFIG.COLORS[\"blue\"],\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            });\n        }).catch(e => console.log(e));\n\n        API.Branch.getAll().then(res => {\n            this.setState({\n                data: res.data\n            });\n        }).catch(e => console.log(e));\n    }\n\n    handleOpenCreateModal = () => {\n        this.refs.ten_chi_nhanh.value = \"\";\n        this.refs.dia_chi.value = \"\";\n\n        this.setState ({\n            is_modal_open: \"true\",\n            color: CONFIG.COLORS[\"blue\"],\n        })\n    }\n\n    handleOpenEditModal = (id, i) => {\n        API.Branch.get(id).then(res => {\n            let data = res.data;\n\n            this.refs.ten_chi_nhanh.value = data.ten_chi_nhanh;\n            this.refs.dia_chi.value = data.dia_chi;\n\n            this.setState({\n                is_modal_open: \"true\",\n                edit_id: id,\n                color: data.color,\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Branch.getAll().then(res => {\n                this.setState({\n                    data: res.data.reverse()\n                });\n            });\n        }\n\n        //RELOAD DATA\n        API.Branch.getAll((res) => {\n            let data = res.data.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_chi_nhanh).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.dia_chi).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        API.Branch.getAll().then(res => {\n            this.setState({\n                data: res.data,\n                is_modal_open: \"false\"\n            });\n        }).catch(e => console.log(e));\n    }\n\n    handleSave = () => {\n        let data = {\n            ten_chi_nhanh: this.refs.ten_chi_nhanh.value,\n            dia_chi: this.refs.dia_chi.value,\n            color: this.state.color\n        }\n\n        if(this.state.edit_id) { //*Update\n            API.Branch.update(this.state.edit_id, data).then(res => {\n                console.log(res);\n                this.updateData();\n            }).catch(e => console.log(e));\n        }else{ //*Create\n            API.Branch.add(data).then(res => {\n                this.updateData();\n            }).catch(e => console.log(e));\n        }\n    }\n\n    handleRemove = () => {\n        API.Branch.remove(this.state.edit_id).then(res => {\n            this.updateData();\n        }).catch(e => console.log(e));\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        \n        return(\n            <div>\n                <DefaultHeaderBar  \n                    onGoBack={() => this.props.history.goBack()} \n                    title=\"Chi Nhánh\" \n                    onSearchKeyPress={this.handleSearch} \n                    handleCreate={this.state.perms.branch[1] == \"1\" ? this.handleOpenCreateModal : null}\n                />\n                <Table\n                    columns={TABLE_COLUMNS}\n                    data={this.state.data}\n                    onClick={this.handleOpenEditModal}\n                />\n\n                <FormModal \n                    title=\"Sửa Chi Nhánh\"\n                    is_open={this.state.is_modal_open} \n                    onClose={\n                        !this.state.edit_id ? \n                        () => this.setState({is_modal_open: \"false\"}) : null\n                    }\n                    onSave={\n                        this.state.perms.branch[2] == \"1\" ?\n                        () => this.handleSave() : null\n                    }\n                    onRemove={\n                        this.state.perms.branch[3] == \"1\" && this.state.edit_id ?\n                        () => this.handleRemove() : null\n                    }\n                >\n                    <div className=\"box\">\n                        <span className=\"title\">Tên chi nhánh</span>\n                        <input type=\"text\" className=\"textbox\" ref=\"ten_chi_nhanh\"/>\n                    </div>\n\n                    <div className=\"box textarea\" style={{width: \"234px\"}}>\n                        <span className=\"title\">Địa chỉ</span>\n                        <textarea className=\"textbox\" ref=\"dia_chi\"></textarea>\n                    </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Chọn màu</span>\n                        <div className=\"colors_picker_container\">\n                            {\n                                Object.values(CONFIG.COLORS).map((color, i) => {\n                                    return (\n                                        <div \n                                            className={this.state.color === color ? \"active color\" : \"color\"} \n                                            key={`color-select-${i}`}\n                                            style={{\n                                                backgroundColor: color,\n                                            }}\n                                            onClick={() => this.handleChangeColor(color)}>\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                </FormModal> \n            </div>\n        )\n    }\n}\n\nexport default BranchScreen;","import React,{Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {StaffForm} from '@components';\nimport {Redirect} from 'react-router-dom';\nimport API from '@api';\n\nclass StaffEditScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            perms: null\n        }\n\n        if(this.props.match.params.id !== \"create_new\") {\n            API.Staff.get(this.props.match.params.id).then(res => {\n                this.setState({\n                    data: res.data\n                })\n            }).catch(e => console.log(e));\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    handleSave = () => {\n        this.refs.staff_form.handleSave();\n    }\n\n    saveStaff = (data) => {\n        if(this.props.match.params.id !== \"create_new\") {\n            let new_data = data;\n\n            if(this.state.data.password === new_data.password) {\n                delete new_data.password;\n            }\n\n            API.Staff.update(this.props.match.params.id, new_data).then(res => {\n                this.props.history.goBack()\n            }).catch(e => console.log(e));\n        }else {\n            API.Staff.add(data).then(res => {\n                this.props.history.goBack()\n            }).catch(e => console.log(e));\n        }\n    }\n\n    handleRemove = () => {\n        API.Staff.remove(this.props.match.params.id).then(res => {\n            this.props.history.goBack();\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.data && this.props.match.params.id !== \"create_new\" || !this.state.perms) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"view\">\n                {this.props.match.params.id !== \"create_new\" ? \n                    <DefaultHeaderBar \n                        create_btn_link={null}  \n                        onGoBack={() => this.props.history.goBack()}  \n                        handleRemove={this.state.perms.staff[3] == \"1\" ? this.handleRemove : null } \n                        title=\"Nhân Viên\" \n                        handleSave={this.state.perms.staff[2] == \"1\" ? this.handleSave: null}/> : \n                    <DefaultHeaderBar  \n                        onGoBack={() => this.props.history.goBack()}  \n                        title=\"Nhân Viên\" \n                        handleSave={this.handleSave}\n                    />}\n                <StaffForm ref=\"staff_form\" data={this.state.data} onSave={this.saveStaff}/>\n            </div>\n        )\n    }\n}\n\nexport default StaffEditScreen;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {StaffSalaryTable} from '@components';\nimport {removeVietnameseTones, salaryLoad, salaryCalculate, numberWithCommas, findWithAttr} from '@functions/Global';\nimport {HashSpiner} from '@components/Spiners';\nimport API from '@api'\n\nclass StaffSalaryScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            staff_data: null,\n            date_filter: new Date().getFullYear() + '-' + parseInt(new Date().getMonth()),\n            perms: null,\n            salary_data: [],\n            default_salary_data: []\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        API.Staff.getAll().then(res => {\n            this.setState({\n                staff_data: res.data\n            });\n\n            let staff_data = res.data;\n\n            staff_data.forEach((data ,i ) => {\n                salaryCalculate(data, new Date().getFullYear(), parseInt(new Date().getMonth()), (salary_calc_data) => {\n                    let salary_data = this.state.salary_data;\n                    salary_data.push(salary_calc_data);\n\n                    this.setState({\n                        salary_data: salary_data,\n                        default_salary_data: salary_data\n                    })\n\n                    this.handleLoadBonus();\n                })\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            this.setState({\n                salary_data: this.state.default_salary_data\n            })\n        }\n\n        let data = this.state.default_salary_data;\n  \n        //FIND STAFF NAME\n        let filtered_data = data.filter((data, i) => {\n            if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n            if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n            \n            return false;\n        })\n\n        this.setState({\n            salary_data: filtered_data\n        })  \n    }\n  \n    //Sự kiện thay đổi giá trị % thưởng\n    onInputChange = (e, element, id) => {\n        let salary_data = this.state.salary_data;\n        let default_salary_data = this.state.default_salary_data;\n        let staff_data = this.state.staff_data;\n        staff_data = staff_data[findWithAttr(staff_data, '_id', id)];\n\n        salary_data[findWithAttr(salary_data, '_id', id)][element] = element == 'ngay_cong' ? e.target.value >= 0 ? e.target.value : 0 : parseInt(e.target.value >= 0 ? e.target.value : 0);\n        default_salary_data[findWithAttr(salary_data, '_id', id)][element] = element == 'ngay_cong' ? e.target.value >= 0 ? e.target.value : 0: parseInt(e.target.value >= 0 ? e.target.value : 0);\n        \n        salaryCalculate(salary_data[findWithAttr(salary_data, '_id', id)], parseInt(this.state.date_filter.split(\"-\")[0]), parseInt(this.state.date_filter.split(\"-\")[1]), (salary_calc_data) => {\n            salary_data[findWithAttr(salary_data, '_id', id)] = salary_calc_data;\n            default_salary_data[findWithAttr(salary_data, '_id', id)] = salary_calc_data;\n\n            this.setState({\n                salary_data: salary_data,\n                default_salary_data: default_salary_data\n            })\n\n            this.handleLoadBonus();\n        })\n    }\n  \n\n    handleLoadBonus = async () => {\n        API.PackageType.getSlug(\"goi_chup\").then(res => {\n            this.setState({\n                goi_chup: res.data\n            })\n        }).catch(e => console.log(e));\n\n        API.PackageType.getSlug(\"dich_vu\").then(res => {\n            this.setState({\n                dich_vu: res.data\n            })\n        }).catch(e => console.log(e));\n    }\n  \n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        let staff_data = this.state.staff_data;\n        let dates = date.split(\"-\");\n\n        this.setState({\n            salary_data: []\n        })\n        \n        staff_data.forEach((data ,i ) => {\n            salaryLoad(data, dates[0], parseInt(dates[1]) - 1, (salary_calc_data) => {\n                if(salary_calc_data) {\n                    let salary_data = this.state.salary_data;\n                    salary_data.push(salary_calc_data);\n\n                    this.setState({\n                        salary_data: salary_data,\n                        default_salary_data: salary_data,\n                        date_filter: date\n                    })\n\n                    this.handleLoadBonus();\n                }\n            })\n        })\n    }\n\n    //SAVE\n    handleSave = () => {\n        let default_salary_data = this.state.default_salary_data;\n\n        default_salary_data.forEach((s_data, i) => {\n            let data = {\n                luong_co_ban: s_data.luong_co_ban,\n                ngay_cong: s_data.ngay_cong,\n                phan_tram_thuong_dich_vu_tu_van:s_data.phan_tram_thuong_dich_vu_tu_van ? parseInt(s_data.phan_tram_thuong_dich_vu_tu_van) : 0,\n                phan_tram_thuong_goi_chup_photo:s_data.phan_tram_thuong_goi_chup_photo ? parseInt(s_data.phan_tram_thuong_goi_chup_photo) : 0,\n                phan_tram_thuong_goi_chup_tu_van:s_data.phan_tram_thuong_goi_chup_tu_van ? parseInt(s_data.phan_tram_thuong_goi_chup_tu_van) : 0,  \n                phan_tram_thuong_photoshop:s_data.phan_tram_thuong_photoshop ? parseInt(s_data.phan_tram_thuong_photoshop) : 0,\n                date_created: this.state.date_filter\n            }\n\n            API.StaffSalary.update(s_data._id, data).then(res => {\n                console.log(res);\n            }).catch(e => console.log(e));\n        })\n    }\n\n    render() {\n        if(!this.state.staff_data || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar \n                    handleSave={this.state.perms.staff_salary[2] == \"1\" ? this.handleSave: null} \n                    onDropdownFilterSalaryBtnClick={this.handleFilter} \n                    handleSalaryFilter={this.handleFilter} \n                    handleEdit={null} \n                    onGoBack={() => this.props.history.goBack()} \n                    handleCreate={null} \n                    create_btn_link={null} \n                    onSearchKeyPress={this.handleSearch} \n                    handleRemove={null} \n                    title=\"Lương Nhân Viên\" \n                    back_link=\"/settings\"/>\n                <StaffSalaryTable \n                    data={this.state.salary_data} \n                    perms={this.state.perms} \n                    onInputChange={this.onInputChange}\n                />\n            </div>\n        )\n    }\n}\n\nexport default StaffSalaryScreen;","import React,{Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {StaffTable} from '@components/Table';\nimport {removeVietnameseTones} from '@functions/Global';\nimport {HashSpiner} from '@components/Spiners';\nimport API from '@api';\n\nimport StaffEditScreen from './Edit';\nimport StaffSalaryScreen from './Salary';\n\nexport {\n    StaffEditScreen,\n    StaffSalaryScreen\n};\n\nexport class StaffScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            data: null\n        } \n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        API.Staff.getAll().then(res => {\n            this.setState({\n                data: res.data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Staff.getAll().then(res => {\n                this.setState({\n                    data: res.data\n                })\n            }).catch(e => console.log(e));\n        }\n\n        //RELOAD DATA\n        API.Staff.getAll().then(res => {\n            let data = res.data;\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })   \n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.perms || !this.state.data) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        \n        return(\n            <div>\n                <DefaultHeaderBar \n                    onGoBack={() => this.props.history.goBack()} \n                    title=\"Nhân Viên\" \n                    onSearchKeyPress={this.handleSearch} \n                    handleSave={null} \n                    handleRemove={null} \n                    handleCreate={null} \n                    create_btn_link={this.state.perms.staff[1] == \"1\" ? \"staff_edit/create_new\" : null }/>\n                <StaffTable data={this.state.data} perms={this.state.perms}/>\n            </div>\n        )\n    }\n}\n\nexport default StaffScreen;","import React, {Component} from 'react';\n\nimport {HeaderBar} from '@components/Header_bar';\nimport {BillTableContainer} from '@components/Table';\nimport {removeVietnameseTones} from '@functions/Global';\n\nimport API from '@api';\n\nclass TrashScreen extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bill: null\n        }\n\n        API.Bill.getAll().then(res => {\n            let data = res.data.filter((data, i) => {\n                return data.deleted;\n            })\n\n            this.setState ({\n              bill: data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            API.Bill.getAll().then(res => {\n                let data = res.data\n                \n                data = data.filter((data, i) => {\n                  return data.deleted == true;\n                });\n                \n                this.setState ({\n                  bill: data\n                })\n            }).catch(e => console.log(e));\n        }\n\n        API.Bill.getAll().then(res => {\n            let data = res.data;\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(!data.deleted) return false;\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.ho_ten_be).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                return false;\n            })\n  \n            this.setState({\n                bill: filtered_data\n            }) \n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.bill) {\n            return(\n                <div></div>\n            )\n        }\n\n        return(\n            <div>\n                <HeaderBar title=\"Thùng Rác\" onSearchKeyPress={this.handleSearch}/>\n                <BillTableContainer data={this.state.bill} type=\"0\" isDelete={true}/>\n            </div>\n        )\n    }\n}\n\nexport default TrashScreen;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {Link} from 'react-router-dom';\n\nimport {BsPeople, BsInboxes, BsCreditCard, BsPersonCheck, BsFolderCheck} from 'react-icons/bs';\n\nimport API from '@api';\n\nexport default class PersonnelScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null\n        } \n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"settings_view\">\n                {localStorage.getItem('chuc_vu') ? <DefaultHeaderBar onGoBack={() => this.props.history.goBack()} title=\"Nhân Sự\"/> : null}\n                <div className=\"settings_container\">\n                    {this.state.perms.staff[0] == \"1\" ? \n                    <Link to=\"personnel/staff\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPeople className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhân Viên</span>\n                    </Link> : null}\n                    \n                    {this.state.perms.staff_salary[0] == \"1\" ?\n                    <Link to=\"personnel/staff_salary\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsCreditCard className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Lương Nhân Viên</span>\n                    </Link> : null}\n                    \n                    <Link to=\"personnel/cham_cong\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPersonCheck className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chấm Công</span>\n                    </Link>\n                    \n                    {this.state.perms.permissions[0] == \"1\" ? \n                    <Link to=\"personnel/permission\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsInboxes className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chức Năng Truy Cập</span>\n                    </Link> : null}\n                    \n                    {this.state.perms.cham_cong[0] == \"1\" ? \n                    <Link to=\"personnel/cham_cong_list\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFolderCheck className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Quản Lý Chấm Công</span>\n                    </Link> : null}\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport { DefaultHeaderBar } from '@components/Header_bar';\nimport { Table } from '@components';\nimport { removeVietnameseTones } from '@functions/Global';\nimport { HashSpiner } from '@components/Spiners';\nimport { Redirect } from 'react-router-dom';\nimport API from '@api';\n\nconst TABLE_COLUMNS = [\n    {\n        key: \"ho_ten\",\n        title: \"Họ tên\",\n    }\n]\n\nclass ChamCongListScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            redirectId: null\n        }\n\n        API.Staff.getAll().then(res => {\n            this.setState({\n                data: res.data\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        API.Staff.getAll().then(res => {\n            let data = res.data.reverse();\n\n            if(!search_value) {\n                this.setState({\n                    data: data\n                })\n            }\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })  \n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(this.state.redirectId) {\n            return <Redirect to={`cham_cong_edit/${this.state.redirectId}`} />\n        }\n\n        if(!this.state.data) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar handleEdit={null} onGoBack={() => this.props.history.goBack()} handleCreate={null} create_btn_link={null} onSearchKeyPress={this.handleSearch} handleSave={null} handleRemove={null} title=\"Quản Lý Chấm Công\" back_link=\"/settings\"/>\n                <Table\n                    columns={TABLE_COLUMNS}\n                    data={this.state.data}\n                    onClick={e => this.setState({\n                        redirectId: e\n                    })}\n                />\n            </div>\n        )\n    }\n}\n\nexport default ChamCongListScreen;","import React, {Component} from 'react';\nimport {ChamCongTable} from '@components';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport API from '@api';\n\nclass ChamCongManagementScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            month: [1,2,3,4,5,6,7,8,9,10,11,12],\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n            tab: new Date().getMonth(),\n            sang: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            year: new Date().getFullYear(),\n            months: parseInt(new Date().getMonth()) + 1,\n            chieu: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            perms: null\n        }\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        API.ChamCong.get(this.props.match.params.id, new Date().getMonth() + 1, new Date().getFullYear()).then(res => {\n            this.setState({\n                sang: res.data?.sang || this.state.sang,\n                chieu: res.data?.chieu || this.state.chieu\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //YEAR FILTER\n    handleFilter = (date) => {\n        let year = date.split(\"-\")[0];\n        let month = new Date(date).getMonth() + 1;\n\n        this.setState ({\n            date: null\n        });\n\n        API.ChamCong.get(this.props.match.params.id, month, year).then(res => {\n            this.setState({\n                sang: res.data.sang ? res.data.sang : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                chieu: res.data.chieu ? res.data.chieu : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                year: year,\n                months: month,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        }).catch(e => console.log(e));\n    }\n    \n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar \n                    onDropdownFilterSalaryBtnClick={this.handleFilter} \n                    handleSalaryFilter={this.handleFilter} \n                    onDropdownFilterSalaryBtnClick={this.handleFilter} \n                    handleSalaryFilter={this.handleFilter} \n                    handleRemove={ null }  \n                    onGoBack={() => this.props.history.goBack()} \n                    title=\"Lương Nhân Viên\" \n                    handleSave={this.state.perms.staff_salary[2] == \"1\" ? this.handleSave: null}\n                />\n                <ChamCongTable perms={this.state.perms} user_id={this.props.match.params.id} month={this.state.month} months={this.state.months} year={this.state.year} sang={this.state.sang} chieu={this.state.chieu} date={this.state.date}/>\n            </div>\n        )\n    }\n}\n\nexport default ChamCongManagementScreen;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport {HashSpiner} from '@components/Spiners';\nimport {ChamCongTable} from '@components';\nimport ChamCongListScreen from './List';\nimport ChamCongManagementScreen from './Manage';\n\nimport API from '@api';\n\nexport {\n    ChamCongListScreen,\n    ChamCongManagementScreen\n}\n\nexport class ChamCongScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            edit_id: null,\n            data_spending: null,\n            perms: null,\n            month: [1,2,3,4,5,6,7,8,9,10,11,12],\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n            tab: new Date().getMonth(),\n            sang: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            year: new Date().getFullYear(),\n            months: new Date().getMonth() + 1,\n            chieu: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n        }\n\n        API.ChamCong.getUser(new Date().getMonth() + 1, new Date().getFullYear()).then(res => {\n            this.setState({\n                sang: res.data?.sang || this.state.sang,\n                chieu: res.data?.chieu || this.state.chieu,\n            })\n        }).catch(e => console.log(e));\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n    }\n\n    //YEAR FILTER\n    handleFilter = (date) => {\n        let year = date.split(\"-\")[0];\n        let month = new Date(date).getMonth() + 1;\n\n        this.setState ({\n            date: null\n        })  \n\n        API.ChamCong.getUser(month, year).then(res => {\n            let data = res.data;\n\n            this.setState({\n                sang: data?.sang || [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                chieu: data?.chieu || [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                year: year,\n                months: month,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar \n                    type='1' \n                    onDropdownFilterSalaryBtnClick={this.handleFilter} \n                    handleSalaryFilter={this.handleFilter} \n                    title=\"Chấm Công\" \n                    onGoBack={() => this.props.history.goBack()} \n                    handleCreate={this.state.perms.spending[1] == \"1\" ? this.handleOpenModal : null} \n                    onSearchKeyPress={this.handleSearch}\n                />\n                <ChamCongTable perms={this.state.perms} user_id={localStorage.getItem('user_id')} month={this.state.month} months={this.state.months} year={this.state.year} sang={this.state.sang} chieu={this.state.chieu} date={this.state.date}/>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport { Table, FormModal } from '@components';\nimport CONFIG from '@config';\nimport API from '@api';\n\nconst TABLE_COLUMNS = [\n    {\n        key: \"ten_tinh_trang\",\n        title: \"Tên tình trạng\",\n        colored: true\n    }\n]\n\nclass StatusScreen extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            is_modal_open: \"false\",\n            data: null,\n            edit_id: null,\n            perms: null,\n            color: CONFIG.COLORS[\"blue\"],\n        }\n\n        API.Status.getAll().then(res => {\n            this.setState({\n                data: res.data\n            });\n        }).catch(e => console.log(e));\n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                perms: res.data.perms\n            });\n        }).catch(e => console.log(e));\n    }\n\n    handleOpenCreateModal = () => {\n        this.refs.ten_tinh_trang.value = \"\";\n\n        this.setState ({\n            is_modal_open: \"true\",\n            color: CONFIG.COLORS[\"blue\"],\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        API.Status.get(id).then(res => {\n            this.refs.ten_tinh_trang.value = res.data.ten_tinh_trang;\n\n            this.setState({\n                is_modal_open: \"true\",\n                edit_id: id,\n                color: res.data.color,\n            });\n        }).catch(e => console.log(e));\n    }\n\n    updateData = () => {\n        this.refs.ten_tinh_trang.value = \"\";\n        \n        API.Status.getAll().then(res => {\n            this.setState({\n                data: res.data,\n                is_modal_open: \"false\",\n                edit_id: null,\n                color: CONFIG.COLORS[\"blue\"],\n            });\n        }).catch(e => console.log(e));\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    handleSave = async() => {\n        let data = {\n            ten_tinh_trang: this.refs.ten_tinh_trang.value,\n            color: this.state.color\n        }\n\n        if(this.state.edit_id) {//*UPDATE\n            await API.Status.update(this.state.edit_id, data).catch(e => console.log(e));\n        }else{//*CREATE\n            await API.Status.add(data).catch(e => console.log(e));\n        }\n\n        this.updateData();\n    }\n\n    handleRemove = () => {\n        API.Status.remove(this.state.edit_id).then(res => {\n            this.updateData();\n        }).catch(e => console.log(e));\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div></div>);\n        }\n        return(\n            <div>\n                <DefaultHeaderBar  \n                    onGoBack={() => this.props.history.goBack()} \n                    title=\"Tình Trạng\"  \n                    handleCreate={this.state.perms.status[1] == \"1\" ? this.handleOpenCreateModal : null}\n                />\n                \n                <Table\n                    columns={TABLE_COLUMNS}\n                    data={this.state.data}\n                    onClick={this.handleOpenEditModal}\n                />\n\n                <FormModal \n                    title=\"Thêm Tình Trạng\"\n                    is_open={this.state.is_modal_open} \n                    onClose={\n                        !this.state.edit_id ? \n                        () => this.setState({is_modal_open: \"false\"}) : null\n                    }\n                    onSave={\n                        this.state.perms.status[2] == \"1\" ?\n                        () => this.handleSave() : null\n                    }\n                    onRemove={\n                        this.state.perms.status[3] == \"1\" && this.state.edit_id ?\n                        () => this.handleRemove() : null\n                    }\n                >\n                    <div className=\"box\">\n                        <span className=\"title\">Tên tình trạng</span>\n                        <input type=\"text\" className=\"textbox\" ref=\"ten_tinh_trang\"/>\n                    </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Chọn màu</span>\n                        <div className=\"colors_picker_container\">\n                            {\n                                Object.values(CONFIG.COLORS).map((color, i) => {\n                                    return (\n                                        <div \n                                            className={this.state.color === color ? \"active color\" : \"color\"} \n                                            key={`color-select-${i}`}\n                                            style={{\n                                                backgroundColor: color,\n                                            }}\n                                            onClick={() => this.handleChangeColor(color)}>\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                </FormModal> \n            </div>\n        )\n    }\n}\n\nexport default StatusScreen;","import React, { useEffect, useState } from 'react';\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport { SubscriptionCard } from '@components';\nimport API from '@api';\n\nimport \"./styles.scss\";\n\nconst SubscriptionScreen = ({ history }) => {\n    const [subscriptions, setSubscriptions] = useState([]);\n    const [subscribed, setSubscribed] = useState(null);\n\n    useEffect(() => {\n        API.Subscription.getAll().then(res => {\n            setSubscriptions(res.data);\n        }).catch(e => console.log(e));\n\n        API.Subscription.getCompany().then(res => {\n            setSubscribed(res.data.subscription._id);\n        }).catch(e => console.log(e));\n    }, []);\n\n    const handleSubscribe = async (id) => {\n        await API.Subscription.createTransaction(id).then(result => {\n            //Open popup and listen callback\n            let transactionPopup = window.open(result.data.payUrl, \"Test\", \"height=600,width=800\");\n            \n            transactionPopup.onbeforeunload = () => {\n                console.log(\"DONE\");\n            };\n\n            setSubscribed(id);\n        }).catch(e => console.log(e));\n\n        //setSubscribed(id);\n    }\n\n    return (\n        <div className=\"view view_subscription\">\n            <DefaultHeaderBar onGoBack={() => history.goBack()} title=\"Gói Mua\"/>\n            \n            <div className=\"head-container\">\n                <h2>Gói Đăng Ký</h2>\n                <p>In publishing and graphic design, Lorem ipsum is a placeholder text commonly</p>\n            </div>\n\n            <div className=\"subscription-container\">\n                {\n                    subscriptions.map((item, index) => {\n                        return (\n                            <SubscriptionCard\n                                title={item.title}\n                                description={item.description}\n                                price={item.price}\n                                strikePrice={item.strikePrice}\n                                save={item.discount}\n                                key={`subscription-card-${index}`}\n                                subscribed={subscribed === item._id}\n                                onClick={() => handleSubscribe(item._id)}\n                            />\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default SubscriptionScreen;","import React, { useEffect, useState } from 'react';\nimport { DefaultHeaderBar } from '@components/Header_bar';\nimport { PaperCard, Button } from '@components';\nimport { useParams } from 'react-router-dom';\nimport Alert from '@utils/Alert';\nimport API from '@api';\nimport Socket from '@socket';\nimport \"./styles.scss\";\n\nconst HistoryCode = {\n    \"add\" : \"Đã thêm mới\",\n    \"update\" : \"Đã chỉnh sửa:\",\n    \"restore\" : \"Đã khôi phục\"\n};\n\nconst socket = new Socket();\n\nconst TimeLine = () => {\n    return (\n        <div className=\"timeline\">\n            <div className=\"timeline__dot\"></div>\n            <div className=\"timeline__date-container\">\n                <span className=\"timeline__date-container__value\">Nov 3, 2022</span>\n            </div>\n        </div>\n    )\n}\n\nexport const TransactionManage = ({ history }) => {\n    let { id } = useParams();\n    const [transactions, setTransactions] = useState([]);\n    const [transactionSelected, setTransactionSelected] = useState(0);\n\n    useEffect(() => {\n        fetchData();\n        initSocket();\n    }, []);\n\n    const fetchData = async() => {\n        let transactions = await API.Spending.getAll();\n        transactions = transactions.data.reverse();\n\n        setTransactions(transactions);\n    }\n\n    const initSocket = async() => {\n        socket.Spending().onAdd(data => {\n            fetchData();\n        })\n    }\n\n    const handleConfirm = async(type) => {\n        await API.Spending.confirm(transactions[transactionSelected]._id, type);\n        fetchData();\n    }\n\n    return (\n        <div className=\"view transactions\">\n            <DefaultHeaderBar  \n                onGoBack={() => history.goBack()} \n                title=\"Quản Lý Giao Dịch\" \n            />  \n\n            <div className=\"container\">\n                <div className=\"col\">\n                    <PaperCard>\n                        <h1>Thông tin chi tiết</h1>\n                        <span><b>Trạng thái: </b><span>{transactions[transactionSelected]?.status}</span></span>\n                        <span><b>Người tạo: </b><span>{transactions[transactionSelected]?.user_id?.ho_ten}</span></span>\n                        <span><b>Thời gian: </b><span>{transactions[transactionSelected]?.date_created}</span></span>\n                        <hr/>\n                        <span><b>Số tiền: </b><span>{transactions[transactionSelected]?.so_tien}</span></span>\n                        <span><b>Loại thanh toán: </b><span>{transactions[transactionSelected]?.type}</span></span>\n                        <span><b>Người nhận: </b><span>{transactions[transactionSelected]?.to_wallet}</span></span>\n                        <span><b>Nội dung chi: </b><span>{transactions[transactionSelected]?.noi_dung}</span></span>\n                        <hr/>\n                        <div style={{display: 'flex', gap: 24}}>\n                            <button disabled={transactions[transactionSelected]?.status != \"pending\"} className=\"btn red\" onClick={() => handleConfirm(\"refused\")} style={{flex: 1}}>Từ chối</button>\n                            <button disabled={transactions[transactionSelected]?.status != \"pending\"} className=\"btn blue\" onClick={() => handleConfirm(\"accepted\")} style={{flex: 1}}>Duyệt</button>\n                        </div>\n                    </PaperCard>\n                </div>\n                <div className=\"col\">\n                    <TimeLine/>\n                    {\n                        transactions.map((item, index) => {\n                            return (\n                                <PaperCard key={`history-card-${index}`} onClick={() => setTransactionSelected(index)}>\n                                    <span>{ item.user_id.ho_ten }</span>\n                                    <span>\n                                        <b>Trạng thái: </b>\n                                        <span>{item.status}</span>\n                                    </span>\n                                </PaperCard>\n                            )\n                        })\n                    }\n                </div>\n            </div>     \n        </div>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { DefaultHeaderBar } from '@components/Header_bar';\nimport { PaperCard, FormModal } from '@components';\nimport API from '@api';\nimport DateProto from '@utils/Date';\nimport { salaryCalculate } from '@functions/Global';\n\nimport \"./styles.scss\";\n\nexport const ProfileView = ({ history }) => {\n    const [user, setUser] = useState({});\n    const [salary, setSalary] = useState({});\n    const [salaryTable, setSalaryTable] = useState({});\n    const [password, setPassword] = useState('');\n    const [modalVisible, setModalVisible] = useState(false);\n    const oldPasswordRef = useRef(0);\n    const passwordRef = useRef(0);\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    // useEffect(() => {\n    //     const delayDebounceFn = setTimeout(async () => {\n    //         if(password) {\n    //             //!FIXME: PASSWORD IS NULL WHEN UPDATE\n    //             await API.Staff.update(user._id, {\n    //                 password\n    //             })\n    //         }\n    //     }, 1000)\n    \n    //     return () => clearTimeout(delayDebounceFn)\n    // }, [password])\n\n    const fetchData = async () => {\n        let userId = localStorage.getItem(\"user_id\");\n        let user = await API.Staff.get(userId);\n        let salary = await API.StaffSalary.getUser(userId);\n\n        setUser(user.data);\n        setSalary(salary.data);\n\n        salaryCalculate(user.data, new Date().getFullYear(), new Date().getMonth(), e => {\n            setSalaryTable(e);\n        })\n    }\n\n    const handleChangePassword = async () => {\n        let oldPassword = oldPasswordRef.current.value;\n        let password = passwordRef.current.value;\n\n        await API.Staff.updatePassword(oldPassword, password).catch(e => alert(\"Mật khẩu không đúng!\"));\n\n        setModalVisible(false);\n    }\n\n    return (\n        <div className=\"view profile-view\">\n            <DefaultHeaderBar  \n                onGoBack={() => history.goBack()} \n                title=\"Thông Tin Cá Nhân\"\n            />  \n\n            <div className=\"profile-view__container\">\n                <PaperCard title=\"Thông tin cá nhân\">\n                    <span><b>Họ tên: </b><span>{ user.ho_ten }</span></span>\n                    <span><b>Ngày sinh: </b><span>{ new Date(user.ngay_sinh).format(\"dd/MM/yyyy\") } - { new Date(user.ngay_sinh).getAge() } tuổi</span></span>\n                    <span><b>Số điện thoại: </b><span>{ user.so_dien_thoai }</span></span>\n                    <span><b>TK Ngân Hàng: </b><span>{ user.banking_address }</span></span>\n                    <span><b>Địa chỉ ví: </b><span>{ user.wallet_address }</span></span>\n                    <span><b>Ngày vào làm: </b><span>{ new Date(user.date_created).format(\"dd/MM/yyyy\") }</span></span>\n                    <span><b>Mật khẩu: </b></span>\n                    <button className=\"btn blue\" onClick={() => setModalVisible(true)}>Đổi mật khẩu</button>\n                </PaperCard>\n                <PaperCard title=\"Bảng lương\">\n                    <span><b>Lương cơ bản: </b><span>{ salary.luong_co_ban }</span></span>\n                    <span><b>Ngày công: </b><span>{ salary.ngay_cong }</span></span>\n                    <span><b>Lương tháng này: </b><span>{ salaryTable.luong_thang }</span></span>\n                    <span><b>% thưởng tư vấn (GC): </b><span>{ salary.phan_tram_thuong_goi_chup_tu_van } %</span></span>\n                    <span><b>% thưởng photo: </b><span>{ salary.phan_tram_thuong_goi_chup_photo } %</span></span>\n                    <span><b>% thưởng photoshop: </b><span>{ salary.phan_tram_thuong_photoshop } %</span></span>\n                    <span><b>% thưởng tư vấn (DV): </b><span>{ salary.phan_tram_thuong_dich_vu_tu_van } %</span></span>\n                    <span><b>Thưởng dịch vụ: </b><span>{ salaryTable.total_service }</span></span>\n                    <span><b>Tổng thưởng doanh thu: </b><span>{ salaryTable.total_photo }</span></span>\n                    <span><b>Tổng thưởng: </b><span>{ salaryTable.total }</span></span>\n                    <hr/>\n                    <span><b>Thực lãnh: </b><span>{ salaryTable.thuc_lanh }</span></span>\n                </PaperCard>\n            </div>\n\n            <FormModal \n                title=\"Đổi Mật Khẩu\"\n                is_open={modalVisible} \n                onClose={\n                    () => setModalVisible(false)\n                }\n                onSave={handleChangePassword}\n            >\n                <div className=\"box\">\n                    <span className=\"title\">Mật khẩu cũ</span>\n                    <input type=\"password\" className=\"textbox\" ref={oldPasswordRef}/>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Mật khẩu mới</span>\n                    <input type=\"password\" className=\"textbox\" ref={passwordRef}/>\n                </div>\n            </FormModal>  \n        </div>\n    )\n}","import React, { useEffect } from 'react';\n\nexport const CloseTransactionScreen = ({}) => {\n    useEffect(() => {\n        window.close();\n    }, []);\n\n    return (\n        <div>\n            <h1>Close Transaction</h1>\n        </div>\n    )\n}\n\nexport const TransactionSuccessScreen = () => {\n    const handleClose = () => {\n        window.close();\n    }\n\n    return (\n        <div>\n            <h1>Giao dịch thành công, hãy tải lại website để cập nhật gói mới nhé!</h1>\n            <button onClick={handleClose}>Đóng</button>\n        </div>\n    )\n}","import React from 'react';\nimport \"./styles.scss\";\n\nexport const FeatureNotAvaiErrorScreen = () => {\n    return (\n        <div className=\"view view_error\">\n            <h1>Tính năng không có sẵn</h1>\n        </div>\n    );\n}","import React, {Component} from 'react';\nimport {PermissionModal, PermissionEditModal} from '@components/Modals';\nimport { FormModal } from \"@components\";\nimport {DefaultHeaderBar} from '@components/Header_bar';\nimport API from '@api';\n\nclass TabBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tab_active: this.props.tab\n        }\n    }\n\n    handleChangeTab = (tab) => {\n        this.setState({\n            tab_active: tab\n        });\n\n        this.props.onChangeTab(tab);\n    }\n\n    render() {\n\n        return(\n            <div className=\"tab_bar\">\n                {this.props.data.map((data , i) => {\n                    return(\n                        <div key={i} onClick={() => this.handleChangeTab(i)} className={this.state.tab_active === i ? \"tab active\" : \"tab\"}>\n                            <span className=\"tab_title\">{data.title}</span>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nclass TabContentContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            empty: [0,0,0,0]\n        }\n    }\n\n    render() {\n        let data = this.props.data;\n\n        return(\n            <div className=\"tab_content_container\">\n                <div className=\"tab_content_header_container\" style={{paddingLeft: 0}}>\n                    <h1 className=\"tab_content_header\" style={{position: 'relative', marginRight: 46}}>Danh sách chức năng:</h1>\n                    <div className=\"tab_header_right_item_container\" style={{flex: 1}}>\n                        <span className=\"tab_header_item_title\">Truy cập</span>\n                        <span className=\"tab_header_item_title\">Giới hạn số lượng ( -1 : Không giới hạn )</span>\n                    </div>\n                </div>\n                <div className=\"tab_content\" style={{alignItems: 'baseline'}}>\n                    <div className=\"tab_side_bar\">\n                        {\n                            Object.values(data.features).map((item, index) => {\n                                return (\n                                    <span className=\"tab_side_bar_item\" key={`side-bar-item-${index}`} style={{height: 31, marginTop: 24}}>{item.title}</span>\n                                );\n                            })\n                        }\n                    </div>\n                    <div className=\"tab_tick_container\" style={{position: 'relative', flex: 1, justifyContent: 'start'}}>\n                        <div className=\"tab_tick\" style={{justifyContent: 'start', flexDirection: 'column', gap: 24, margin: 0, marginLeft: -24}}>\n                            {\n                                Object.values(data.features).map((item, index) => {\n                                    return (\n                                        <div className=\"tick_row\" style={{display: \"flex\", alignItems: \"center\"}} key={`tich-row-${index}`}>\n                                            <div className=\"checkbox_container\" style={{marginLeft: 42}}>\n                                                <input type=\"checkbox\" onChange={(e) => this.props.onChange(e, Object.keys(data.features)[index], 'available')} defaultChecked={item.available || false}/>\n                                            </div>\n                                            <div className=\"input_container\" style={{marginLeft: 80}}>\n                                                <input type=\"number\" onChange={(e) => this.props.onChange(e, Object.keys(data.features)[index], 'limit')} className=\"textbox\" defaultValue={item.limit || 0}/>\n                                            </div>\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport class AdminSubscriptionScreen extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            is_modal_open: \"false\",\n            tab_data: null,\n            tab: 0,\n            user_perms: null,\n            data: null\n        }     \n\n        API.Permission.getUserPerm().then(res => {\n            this.setState({\n                user_perms: res.data.perms\n            })\n        }).catch(e => console.log(e));\n\n        this.updateData();\n    }\n\n    onTabChange = async (tab) => {   \n        this.setState({\n            tab_data: null,\n            tab: tab\n        });\n\n        API.Subscription.getAll().then(res => {\n            this.setState({\n                data: res.data,\n                tab_data: res.data[tab]\n            })\n        }).catch(e => console.log(e));\n    }\n\n    handleOpenCreateModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = () => {\n        let data = this.state.tab_data;\n\n        this.refs.ten_goi.value = data.title;\n        this.refs.mo_ta.value = data.description;\n        this.refs.gia.value = data.price;\n        this.refs.phan_tram_giam.value = data.discount;\n        this.refs.thoi_gian.value = data.duration;\n\n        this.setState ({\n            is_modal_open: \"true\",\n            edit_id: data._id\n        })\n    }\n\n    handleCloseModal = () => {\n        this.setState ({\n            is_modal_open: \"false\"\n        })\n    }\n\n    handleChangeInput = (e, feature, ele) => {\n        let value = e.target.value.toString() == 'on' ? e.target.checked : Number(e.target.value);\n\n        this.setState({\n            tab_data: {\n                ...this.state.tab_data,\n                features: {\n                    ...this.state.tab_data.features,\n                    [feature]: {\n                        ...this.state.tab_data.features[feature],\n                        [ele]: value\n                    }\n                }\n            }\n        });\n    }\n\n    handleSave = () => {\n        let phanTramGiam = this.refs.phan_tram_giam.value;\n        let gia = this.refs.gia.value;\n        let strikePrice = gia/((100 - phanTramGiam)/100);\n\n        let data = {\n            title: this.refs.ten_goi.value,\n            description: this.refs.mo_ta.value.trim().split(\"\\n\"),\n            price: gia,\n            strikePrice: strikePrice,\n            discount: phanTramGiam,\n            duration: this.refs.thoi_gian.value\n        }\n\n        if(this.state.edit_id) { //Update\n            API.Subscription.update(this.state.edit_id, data).then(res => {\n                this.updateData();\n            }).catch(e => console.log(e));\n        }else{ //Create\n            API.Subscription.add(data).then(res => {\n                this.updateData();\n            }).catch(e => console.log(e));\n        }\n\n        this.updateData();\n        this.handleCloseModal();\n    }\n\n    handleFeatureSave = async () => {\n        let data = this.state.tab_data;\n\n        API.Subscription.update(data._id, data).then(res => {\n            this.updateData();\n        }).catch(e => console.log(e));\n    }\n\n    updateData = async () => {\n        await API.Subscription.getAll().then(res => {\n            this.setState({\n                data: res.data,\n                tab_data: res.data[0]\n            })\n        }).catch(e => console.log(e));\n    }\n\n    handleRemove = async () => {\n        let data = this.state.tab_data;\n\n        API.Subscription.remove(data._id).then(res => {\n            this.handleCloseModal();\n            this.updateData();\n        }).catch(e => console.log(e));\n    }\n    \n    render() {\n        if(!this.state.tab_data || !this.state.user_perms || !this.state.data) {\n            return (\n                <div className=\"view\">\n                    <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} title=\"Chức Năng Truy Cập\" handleCreate={this.handleUpdateData}/>\n                </div>\n            )\n        }\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar  \n                    onGoBack={() => this.props.history.goBack()} \n                    create_btn_link={null} \n                    handleRemove={null} \n                    title=\"Quản Lý Gói Mua\" \n                    handleEdit={ this.handleOpenEditModal} \n                    handleCreate={this.handleOpenCreateModal}\n                    handleSave={this.handleFeatureSave}\n                />\n                <TabBar onChangeTab={this.onTabChange} tab={this.state.tab} data={this.state.data}/>\n                <TabContentContainer data={this.state.tab_data} tab={this.state.tab} onChange={this.handleChangeInput}/>\n                <FormModal \n                    title=\"Quản Lý Gói Mua\"\n                    is_open={this.state.is_modal_open} \n                    onClose={this.handleCloseModal}\n                    onSave={this.handleSave}\n                    onRemove={this.handleRemove}\n                >\n                     <div className=\"box\">\n                         <span className=\"title\">Tên gói</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_goi\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Mô tả</span>\n                         <textarea type=\"text\" className=\"textbox\" ref=\"mo_ta\"></textarea>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"gia\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Phần trăm giảm</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"phan_tram_giam\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Thời gian - ngày</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"thoi_gian\"/>\n                     </div>\n                </FormModal>\n            </div>\n        )\n    }\n}","import React, { Component, useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CONFIG from '@config';\nimport { SideBar } from \"@components\";\nimport { NotificationContainer } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\n\n//VIEWS\nimport Home from './views/Home';\nimport Products from './views/Products';\nimport Logout from './views/Logout';\nimport {Redirect} from 'react-router-dom';\nimport SalaryEdit from './views/SalaryEdit';\nimport Backup from './views/Backup';\n\n//*Generic\nimport PackageScreen from '@views/Package';\nimport { BillEditScreen, BillPrintScreen, BillHistoryScreen } from '@views/Bill';\nimport CalendarScreen from '@views/Calendar';\nimport CustomerScreen from '@views/Customer';\nimport SpendingScreen from '@views/Spending';\nimport { TotalAnalyticScreen, RevenueScreen } from '@views/Analytics';\n\n//*Auth Screens\nimport SignupScreen from '@views/Signup';\nimport LoginScreen from '@views/Login';\n\n//*Settings\nimport SettingScreen from '@views/Settings';\nimport PermissionScreen from '@views/Settings/Permission';\nimport BranchScreen from '@views/Settings/Branch';\nimport { StaffScreen, StaffEditScreen, StaffSalaryScreen } from '@views/Settings/Staff';\nimport TrashScreen from '@views/Settings/Trash';\nimport PersonnelScreen from '@views/Settings/Personnel';\nimport { ChamCongScreen, ChamCongListScreen, ChamCongManagementScreen } from '@views/Settings/ChamCong';\nimport StatusScreen from '@views/Settings/Status';\nimport SubscriptionScreen from '@views/Settings/Subscription';\nimport { TransactionManage } from '@views/Settings/TransactionManage';\nimport { ProfileView } from '@views/Settings/Profile';\n\n//*Transactions\nimport { CloseTransactionScreen, TransactionSuccessScreen } from '@views/Transactions';\n\n//*Errors\nimport { FeatureNotAvaiErrorScreen } from '@views/Errors';\n\n//*Admin\nimport { AdminSubscriptionScreen } from '@views/Settings/Admin/Subscription';\n\nimport API from \"@api\";\nimport Socket from \"@socket\";\nimport Alert from '@utils/Alert';\n\nconst socket = new Socket();\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    localStorage.getItem('authed')\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n  )} />\n)\n\nconst App = () => {\n  const [auth] = useState(true);\n\n  useEffect(() => {\n    //Check time loggedin to Cham Cong\n    API.User.verifyLoggedTime();\n\n    //Check Auth\n    API.User.verifyToken();\n\n    //Cham cong\n    if(localStorage.getItem('authed')) {\n      API.User.chamCong();\n    }\n\n    initSocket();\n  }, []);\n\n  const initSocket = async() => {\n    socket.Spending().onAdd(data => {\n      Alert.info(\"Có giao dịch mới!\", \"Có giao dịch mới!\", () => {\n        window.location.href=`/#/${localStorage.getItem(\"company_slug\")}/settings/transactions`\n      });\n    })\n  }\n\n  return (\n    <div>\n      {localStorage.getItem('authed') ? <SideBar/> : null}\n      {auth ? <Main/> : null}\n      <Version/>\n      <NotificationContainer/>\n    </div>\n  );\n}\n\nconst Version = () => {\n  return(\n    <div className=\"version\">\n      <a href=\"https://www.lavenes.com/\" target=\"_blank\">Beta {CONFIG.APP_VERSION}</a>\n    </div>\n  )\n}\n\nconst Main = (props) => {\n  return (\n    <main>\n      <Switch>\n        {/* GLOBAL */}\n        <Route exact path='/signup' component={SignupScreen}/>\n        <Route exact path='/login' component={LoginScreen}/>\n        <Route exact path='/backup' component={Backup}/>\n        <Route exact path='/backup/:type' component={Backup}/>\n\n        <Route exact path='/transaction/close' component={CloseTransactionScreen}/>\n        <Route exact path='/transaction/successful' component={TransactionSuccessScreen}/>\n\n        {/* ADMIN */}\n        <Route exact path='/:company_slug/admin/subscription' component={AdminSubscriptionScreen}/>\n\n        {/* USER */}\n        <Route exact path='/:company_slug/errors/feature_not_available' component={FeatureNotAvaiErrorScreen}/>\n        <PrivateRoute exact path='/:company_slug/' component={Home}/>\n        <PrivateRoute exact path='/:company_slug/settings/transactions' component={TransactionManage}/>\n        <PrivateRoute exact path='/:company_slug/settings/profile' component={ProfileView}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/cham_cong' component={ChamCongScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/cham_cong_list' component={ChamCongListScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/cham_cong_edit/:id' component={ChamCongManagementScreen}/>\n        <PrivateRoute exact path='/:company_slug/spending' component={SpendingScreen}/>\n        <PrivateRoute exact path='/:company_slug/bill_history/:id' component={BillHistoryScreen}/>\n        <PrivateRoute exact path='/:company_slug/bill_edit/:id' component={BillEditScreen}/>\n        <PrivateRoute exact path='/:company_slug/bill_edit/:id/:date' component={BillEditScreen}/>\n        <PrivateRoute exact path='/:company_slug/bill_restore/:id' component={BillEditScreen}/>\n        <PrivateRoute exact path='/:company_slug/bill_print/:id' component={BillPrintScreen}/>\n        <PrivateRoute exact path='/:company_slug/calendar' component={CalendarScreen}/>\n        <PrivateRoute exact path='/:company_slug/customers' component={CustomerScreen}/>\n        <PrivateRoute exact path='/:company_slug/packages/:type' component={PackageScreen}/>\n        <PrivateRoute exact path='/:company_slug/products' component={Products}/>\n        <PrivateRoute exact path='/:company_slug/total_revenue' component={TotalAnalyticScreen}/>\n        <PrivateRoute exact path='/:company_slug/realtime_revenue' component={RevenueScreen}/>\n        <PrivateRoute exact path='/:company_slug/trash' component={TrashScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings' component={SettingScreen}/>\n        <PrivateRoute exact path='/:company_slug/subscription' component={SubscriptionScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel' component={PersonnelScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/staff' component={StaffScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/staff_edit/:id' component={StaffEditScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/permission' component={PermissionScreen}/>\n        <PrivateRoute exact path='/:company_slug/branch' component={BranchScreen}/>\n        <PrivateRoute exact path='/:company_slug/status' component={StatusScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/staff_salary' component={StaffSalaryScreen}/>\n        <PrivateRoute exact path='/:company_slug/settings/personnel/staff_salary_edit/:id' component={SalaryEdit}/>\n        <PrivateRoute exact path='/:company_slug/logout' component={Logout}/>\n        <Route exact path='/' component={LoginScreen}/>\n      </Switch>\n    </main>\n  )\n}\n\nexport default App;","//IMPORT\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter,HashRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\n//IMPORT STYLES\nimport './styles/lavenst.scss';\n\n//IMPORT COMPONENTS\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
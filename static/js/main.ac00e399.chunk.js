(this.webpackJsonplaven_studio=this.webpackJsonplaven_studio||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},120:function(e,t,a){"use strict";(function(e){var n=a(6),r=a(103),c=function e(){Object(n.a)(this,e)};c.createCSV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a="";return a+=e.join(","),t.forEach((function(e){a+="\n"+e.join(",")})),a},c.csvToBuffer=function(e){var t=e.split("\n").map((function(e){return e.split(",")})),a=r.a.book_new(),n=r.a.aoa_to_sheet(t);return r.a.book_append_sheet(a,n),r.b(a,{type:"base64"})},c.createExcel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c.createCSV(t,a),r=c.csvToBuffer(n);return e.from(r,"base64")},t.a=c}).call(this,a(182).Buffer)},135:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},250:function(e,t,a){e.exports=a(459)},255:function(e,t,a){},307:function(e,t,a){},310:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){e.exports=a.p+"static/media/Logo.cac831bc.png"},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t){Object.defineProperty(Date.prototype,"format",{value:function(e){var t=e,a=this.getDate();a<=9&&(a="0"+a);var n=this.getMonth()+1;n<=9&&(n="0"+n);var r=this.getFullYear();return t=(t=(t=t.replaceAll("dd",a.toString())).replaceAll("MM",n)).replaceAll("yyyy",r)}}),Object.defineProperty(Date.prototype,"getAge",{value:function(){var e=Date.now()-this.getTime(),t=new Date(e);return Math.abs(t.getUTCFullYear()-1970)}})},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(46),l=a.n(c),s=a(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(255);var o=a(2),i=a.n(o),u=a(5),h=a(15),p=a(244),d=a(34),m=a(18),_={LIMIT_EXCEEDED:"B\u1ea1n \u0111\xe3 v\u01b0\u1ee3t qu\xe1 s\u1ed1 l\u01b0\u1ee3ng cho ph\xe9p",SUBSCRIPTION_EXPIRED:"G\xf3i d\u1ecbch v\u1ee5 c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft h\u1ea1n"},f="https://server.stumanage.lavenes.com",g={DEBUG:!1,IO_URL:"https://server.stumanage.lavenes.com",API_URL:f,API_VER:"/api/v1",API:"".concat(f).concat("/api/v1"),HEADERS:{"Content-Type":"application/json",Accept:"application/json"},COLORS:{blue:"#3880ff",green:"#33b127",orange:"#ffa500",yellow:"#ffc409",red:"#eb445a",black:"#414141",gray:"#888"},APP_VERSION:"4.9.3 \ud83e\udde7",HTTP_ERRORS:_},v=function(){return Object(m.a)(Object(m.a)({},g.HEADERS),{},{user_id:localStorage.getItem("user_id")||"",company_id:localStorage.getItem("company_id")||"",Authorization:localStorage.getItem("JWT")?"Bearer ".concat(localStorage.getItem("JWT")):""})},b=g,E=a(6),y=a(7),k=a(8),N=a(9),C=a(39),x=a.n(C),w={auth:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(b.API,"/staffs/auth"),{email:t,password:a},{headers:v()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),verifyToken:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(b.API,"/staffs/verify_token"),{headers:v()}).then((function(e){var t=e.data.data;return localStorage.setItem("chuc_vu",t.perm),localStorage.setItem("ho_ten",t.ho_ten),localStorage.setItem("email",t.email),localStorage.setItem("user_id",t._id),localStorage.setItem("company_id",t.company_id),localStorage.setItem("logged_time",(new Date).toISOString()),localStorage.setItem("authed",!0),localStorage.setItem("ten_chuc_vu",""),localStorage.setItem("".concat(t.company_slug,"_JWT"),t.accessToken),e})).catch((function(e){localStorage.getItem("JWT")&&(localStorage.clear(),window.location.reload())}));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),verifyLoggedTime:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:12,t=new Date,a=new Date(localStorage.getItem("logged_time")),n=!1,localStorage.getItem("logged_time")&&(a.getDate()!=t.getDate()||a.getHours()<12&&t.getHours()>=12)&&(n=!0),n&&(localStorage.clear(),window.location.href="/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),chamCong:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.ChamCong.chamCong(localStorage.getItem("user_id"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},O={add:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r,c,l){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(b.API,"/companies"),{ten_cong_ty:t,dia_chi:a,so_dien_thoai:n,ho_ten:r,email:c,password:l},{headers:b.HEADERS});case 2:return s=e.sent,console.log(s.data),e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,l){return e.apply(this,arguments)}}()},S=a(72),j=b.HTTP_ERRORS,T=function(){function e(){Object(E.a)(this,e)}return Object(y.a)(e,null,[{key:"success",value:function(e){S.NotificationManager.success(e,"Th\xe0nh c\xf4ng",this._successTimeOut)}},{key:"error",value:function(e){S.NotificationManager.error(j[e]||e,"L\u1ed7i",this._successTimeOut)}},{key:"info",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};S.NotificationManager.info(t,e,this._successTimeOut,a)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};S.NotificationManager.warning(e,"C\u1ea3nh b\xe1o",this._successTimeOut,t)}}]),e}();T._successTimeOut=2e3;var D=T,I=function(){function e(){Object(E.a)(this,e)}return Object(y.a)(e,null,[{key:"post",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(b.API,"/").concat(t),a,{headers:Object(m.a)(Object(m.a)({},n),v())});case 2:if(200===(r=e.sent).data.code){e.next=6;break}throw D.error(r.data.message),new Error(r.data.message);case 6:return D.success("Th\xeam th\xe0nh c\xf4ng!"),e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(b.API,"/").concat(t),{headers:Object(m.a)(Object(m.a)({},a),v())});case 2:if(200===(n=e.sent).data.code){e.next=7;break}throw D.error(n.data.message),this.checkRedirect(n.data.message),new Error(n.data.message);case 7:return e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("".concat(b.API,"/").concat(t),a,{headers:Object(m.a)(Object(m.a)({},n),v())});case 2:if(200===(r=e.sent).data.code){e.next=6;break}throw D.error(r.data.message),new Error(r.data.message);case 6:return D.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(b.API,"/").concat(t),{headers:Object(m.a)(Object(m.a)({},a),v())});case 2:if(200===(n=e.sent).data.code){e.next=6;break}throw D.error(n.data.message),new Error(n.data.message);case 6:return D.success("Xo\xe1 th\xe0nh c\xf4ng!"),e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"checkRedirect",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.location.hash,n="#/".concat(a.split("/")[1]),e.t0=t,e.next="FEATURE_NOT_AVAILABLE"===e.t0?5:7;break;case 5:return n="".concat(n,"/errors/feature_not_available"),e.abrupt("break",8);case 7:return e.abrupt("break",8);case 8:window.location.hash=n;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),M={add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("branches",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("branches/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("branches");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("branches/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("branches/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=a(224),P=a.n(B),L=function(){function e(t,a){Object(E.a)(this,e),this.socket=t,this.companyId=a}return Object(y.a)(e,[{key:"emitAdd",value:function(e){return this.socket.emit("/client/bills/add",Object(m.a)(Object(m.a)({},e),{},{company_id:this.companyId}))}},{key:"emitUpdate",value:function(e){return this.socket.emit("/client/bills/update",Object(m.a)(Object(m.a)({},e),{},{company_id:this.companyId}))}},{key:"emitRemove",value:function(e){return this.socket.emit("/client/bills/remove",{id:e,company_id:this.companyId})}},{key:"onAdd",value:function(e){this.socket.on("/server/bills/add",e)}},{key:"onUpdate",value:function(e){this.socket.on("/server/bills/update",e)}},{key:"onRemove",value:function(e){this.socket.on("/server/bills/remove",e)}}]),e}(),F=function e(t){Object(E.a)(this,e),this.socket=t},A=function(){function e(t,a){Object(E.a)(this,e),this.socket=t,this.companyId=a}return Object(y.a)(e,[{key:"emitAdd",value:function(e){return this.socket.emit("/client/spendings/add",Object(m.a)(Object(m.a)({},e),{},{company_id:this.companyId}))}},{key:"emitUpdate",value:function(e){return this.socket.emit("/client/spendings/update",Object(m.a)(Object(m.a)({},e),{},{company_id:this.companyId}))}},{key:"emitRemove",value:function(e){return this.socket.emit("/client/spendings/remove",{id:e,company_id:this.companyId})}},{key:"onAdd",value:function(e){this.socket.on("/server/spendings/add",e)}},{key:"onUpdate",value:function(e){this.socket.on("/server/spendings/update",e)}},{key:"onRemove",value:function(e){this.socket.on("/server/spendings/remove",e)}}]),e}(),R=function(){function e(){Object(E.a)(this,e),this.socket=P()(b.IO_URL),this.companyId=localStorage.getItem("company_id");var t=localStorage.getItem("JWT");this.socket.emit("/company/join",{access_token:t})}return Object(y.a)(e,[{key:"Bill",value:function(){return new L(this.socket,this.companyId)}},{key:"Company",value:function(){return new F(this.socket)}},{key:"Spending",value:function(){return new A(this.socket,this.companyId)}}]),e}(),U=new R,Y={add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("spendings",t).then((function(e){return U.Spending().emitAdd(t),e.data})).catch((function(e){throw new Error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("spendings/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("spendings");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("spendings/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("spendings/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),confirm:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("spendings/confirm/".concat(t),{type:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},G=new R,K={add:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("bills",t);case 2:return a=e.sent,G.Bill().emitAdd(t),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bills/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),download:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bills/download");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bills");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("bills/".concat(t),a).then((function(e){return G.Bill().emitUpdate(Object(m.a)({_id:t},a)),e.data})).catch((function(e){throw new Error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("bills/".concat(t)).then((function(e){return G.Bill().emitRemove(t),e.data})).catch((function(e){throw new Error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H={add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("package_types",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("package_types/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSlug:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("package_types/slug/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("package_types");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("package_types/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("package_types/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V={add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("packages",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("packages/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getType:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("packages/type/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("packages");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("packages/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("packages/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J={add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("status",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("status/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("status");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("status/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("status/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=(new R,{User:w,Company:O,Branch:M,Spending:Y,Bill:K,BillHistories:{restore:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bill_histories/restore/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bill_histories/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("bill_histories/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},PackageType:H,Package:V,Status:J,Permission:{add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("permissions",{ten_nhom:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("permissions/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserPerm:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("permissions/".concat(localStorage.getItem("chuc_vu")));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("permissions");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("permissions/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("permissions/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Staff:{add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("staffs",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("staffs/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("staffs");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("staffs/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("staffs/update_password",{oldPassword:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("staffs/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},StaffSalary:{add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("salaries",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("salaries/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("salaries/user/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("salaries");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("salaries/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("salaries/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ChamCong:{add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("cham_cong",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("cham_cong/".concat(t,"/").concat(a,"/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("cham_cong/".concat(localStorage.getItem("user_id"),"/").concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),chamCong:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("cham_cong/".concat(t,"/today"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("cham_cong");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.put("cham_cong/".concat(t.user_id,"/").concat(t.month,"/").concat(t.year),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.delete("cham_cong/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Subscription:{subscribe:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(b.API,"/subscriptions/subscribe/").concat(t),{},{headers:v()});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createTransaction:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.post("subscriptions/create_transaction",{subscription:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCompany:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(b.API,"/subscriptions/get_company"),{headers:v()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(b.API,"/subscriptions"),{headers:v()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.get("subscriptions/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),add:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.post("subscriptions",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.put("subscriptions/".concat(t),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.delete("subscriptions/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),W=(a(110),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;Object(E.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({date:e})},n.handleSave=function(){var e={ho_ten:n.refs.ho_ten.value,ngay_sinh:(new Date).toISOString(),so_dien_thoai:n.refs.so_dien_thoai.value,perm:n.refs.chuc_vu.value,luong_co_ban:n.refs.luong_co_ban.value,email:n.refs.email.value,password:n.refs.password.value,banking_address:n.refs.banking_address.value};n.props.onSave(e)};var r=n.props.data&&n.props.data.ngay_sinh?n.props.data.ngay_sinh.split("T")[0]:null;return r=(r=r?r.split("-"):null)?2==r[0].length?r[0]+"-"+r[1]+"-"+r[2]:r[2]+"-"+r[1]+"-"+r[0]:null,n.state={chuc_vu:null,date:r},Q.Permission.getAll().then((function(e){n.setState({chuc_vu:e.data})})),n}return Object(y.a)(a,[{key:"render",value:function(){return this.state.chuc_vu?r.a.createElement("div",{className:"product_list_form_container"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"H\u1ecd T\xean"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.ho_ten:"",ref:"ho_ten",type:"text"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.so_dien_thoai:"",ref:"so_dien_thoai",type:"number"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean Ng\u01b0\u1eddi D\xf9ng"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.email:"",ref:"email",type:"text"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"TK Ng\xe2n H\xe0ng"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.banking_address:"",ref:"banking_address",type:"text"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"M\u1eadt kh\u1ea9u"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.password:"",ref:"password",type:"password"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ch\u1ee9c V\u1ee5"),r.a.createElement("select",{ref:"chuc_vu",defaultValue:this.props.data?this.props.data.perm:0},this.state.chuc_vu.map((function(e,t){return r.a.createElement("option",{value:e._id.toString()},e.ten_nhom)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"L\u01b0\u01a1ng C\u01a1 B\u1ea3n"),r.a.createElement("input",{className:"textbox",ref:"luong_co_ban",defaultValue:this.props.data&&this.props.data.luong_co_ban?this.props.data.luong_co_ban:0,type:"number"})))):r.a.createElement("div",null)}}]),a}(n.Component)),X=a(25),z=(a(307),a(48));function q(e,t,a){var n=[];!function(e,t,a){for(var n=parseInt(e)-1,r=new Date(t,n,1),c=[];r.getMonth()===n;)c.push(new Date(r)),r.setDate(r.getDate()+1);a(c)}(e,t,(function(r){for(var c=1;c<r[0].getDay();c++)n.push(0);0===r[0].getDay()&&(n=[0,0,0,0,0,0]);var l,s=Object(X.a)(r);try{for(s.s();!(l=s.n()).done;){var o=l.value;n.push(o.getDate())}}catch(i){s.e(i)}finally{s.f()}for(c=r[r.length-1].getDay();c<=6;c++)n.push(0);return a({date:n,month:e,year:t})}))}for(var $=[],Z=(new Date).getFullYear()-20;Z<=(new Date).getFullYear()+20;Z++)$.push(Z);var ee=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;Object(E.a)(this,a),(n=t.call(this,e)).handleUpdateCalendar=function(e,t){q(e,t,(function(e){n.setState({calendar_data:e.date,month:e.month,year:e.year})}))},n.handleNavigate=function(e){"next"===e?12===n.state.month?(n.setState({month:1,focus_month:1,year:parseInt(n.state.year)+1,focus_year:parseInt(n.state.year)+1}),n.handleUpdateCalendar(1,parseInt(n.state.year)+1),n.handleChange(n.state.date,1,parseInt(n.state.year)+1)):(n.setState({month:parseInt(n.state.month)+1,focus_month:parseInt(n.state.month)+1}),n.handleUpdateCalendar(parseInt(n.state.month)+1,n.state.year),n.handleChange(n.state.date,parseInt(n.state.month)+1,n.state.year)):1===n.state.month?(n.setState({month:12,focus_month:12,year:parseInt(n.state.year)-1,focus_year:parseInt(n.state.year)-1}),n.handleUpdateCalendar(12,parseInt(n.state.year)-1),n.handleChange(n.state.date,12,parseInt(n.state.year)-1)):(n.setState({month:parseInt(n.state.month)-1,focus_month:parseInt(n.state.month)-1}),n.handleUpdateCalendar(parseInt(n.state.month)-1,n.state.year),n.handleChange(n.state.date,parseInt(n.state.month)-1,n.state.year))},n.handleFocusDate=function(e){0!==e&&(n.setState({focus_date:e,date:e,is_visible:!1}),n.handleChange(e,n.state.month,n.state.year))},n.handleFocusMonth=function(e){n.setState({focus_month:e,month:e,is_visible:!1}),n.handleUpdateCalendar(e,n.state.year),n.handleChange(n.state.date,e,n.state.year)},n.handleFocusYear=function(e){n.setState({focus_year:e,year:e,is_visible:!1}),n.handleUpdateCalendar(n.state.month,e),n.handleChange(n.state.date,n.state.month,e)},n.handleChange=function(e,t,a){var r=n.props.format;r=(r=(r=r.replace(/DD/g,e<=9?"0"+e:e)).replace(/MM/g,t<=9?"0"+t:t)).replace(/YYYY/g,a),n.props.onChange(r)},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.current.contains(e.target)&&n.setState({is_visible:!1})};var c=n.props.format,l=n.props.date?n.props.date.split("-"):null,s=c.indexOf("DD")>-1,o=c.indexOf("MM")>-1,i=c.indexOf("YYYY")>-1;c=n.props.format.split("-");var u=s&&l?parseInt(l[c.indexOf("DD")]):-1,h=o&&l?parseInt(l[c.indexOf("MM")]):-1,p=i&&l?parseInt(l[c.indexOf("YYYY")]):-1;return n.state={is_visible:!1,calendar_data:null,date:-1!==u?u:(new Date).getDate(),month:-1!==h?h:(new Date).getMonth()+1,year:-1!==p?p:(new Date).getFullYear(),focus_date:u,focus_month:h,focus_year:p,year_data:$,tab:s?0:o?1:2,month_data:[1,2,3,4,5,6,7,8,9,10,11,12]},n.wrapperRef=r.a.createRef(),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.handleUpdateCalendar(this.state.month,this.state.year)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this;if(!this.state.calendar_data||!this.state.year_data)return r.a.createElement("div",null);var t=this.props.format,a=t.indexOf("DD")>-1,n=t.indexOf("MM")>-1,c=t.indexOf("YYYY")>-1;return r.a.createElement("div",{className:"laven date_picker",style:this.props.style},r.a.createElement("input",{className:this.props.className,value:this.props.date,onClick:function(){return e.setState({is_visible:!0})},readOnly:!0,disabled:this.props.disabled}),r.a.createElement("div",{className:"date_picker_popup",style:{display:this.state.is_visible?"block":"none"},ref:this.wrapperRef},r.a.createElement("div",{className:"control_container"},r.a.createElement("button",{className:"control prev",onClick:function(){return e.handleNavigate("prev")}},r.a.createElement(z.a,{className:"icon"})),a?r.a.createElement("span",{className:0==this.state.tab?"date active":"date",onClick:function(){return e.setState({tab:0})}},this.state.date):null,n?r.a.createElement("span",{className:1==this.state.tab?"date active":"date",onClick:function(){return e.setState({tab:1})}},"Th\xe1ng ",this.state.month):null,c?r.a.createElement("span",{className:2==this.state.tab?"date active":"date",onClick:function(){return e.setState({tab:2})}},this.state.year):null,r.a.createElement("button",{className:"control next",onClick:function(){return e.handleNavigate("next")}},r.a.createElement(z.b,{className:"icon"}))),0==this.state.tab?r.a.createElement("div",{className:"calendar_container"},r.a.createElement("div",{className:"calendar_header"},r.a.createElement("div",{className:"date"},"Th 2"),r.a.createElement("div",{className:"date"},"Th 3"),r.a.createElement("div",{className:"date"},"Th 4"),r.a.createElement("div",{className:"date"},"Th 5"),r.a.createElement("div",{className:"date"},"Th 6"),r.a.createElement("div",{className:"date"},"Th 7"),r.a.createElement("div",{className:"date"},"CN")),r.a.createElement("div",{className:"calendar_dates"},this.state.calendar_data.map((function(t,a){return r.a.createElement("div",{className:e.state.focus_date==t?"date focused":(new Date).getDate()==t&&(new Date).getMonth()+1==e.state.month&&(new Date).getFullYear()==e.state.year?"date active":"date",onClick:function(){return e.handleFocusDate(t)},key:a},0!==t?t:"")})))):null,1==this.state.tab?r.a.createElement("div",{className:"month_container"},r.a.createElement("div",{className:"calendar_months"},this.state.month_data.map((function(t){return r.a.createElement("div",{className:e.state.focus_month==t?"month focused":(new Date).getMonth()+1==t?"month active":"month",onClick:function(){return e.handleFocusMonth(t)}},t)})))):null,2==this.state.tab?r.a.createElement("div",{className:"year_container"},r.a.createElement("div",{className:"calendar_years"},this.state.year_data.map((function(t){return r.a.createElement("div",{className:e.state.focus_year==t?"year focused":(new Date).getFullYear()==t?"year active":"year",onClick:function(){return e.handleFocusYear(t)}},t)})))):null))}}]),a}(n.Component);"http://localhost:".concat(8007),"Beta [ ".concat("3.20.50"," ]");function te(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}function ae(e,t,a){if(e)for(var n=0;n<e.length;n+=1)if(e[n][t]===a)return n;return-1}var ne=function(e){var t=e.split("-");return t=2==t[0].length?t[2]+"-"+t[1]+"-"+t[0]:t[0]+"-"+t[1]+"-"+t[2]};function re(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")}function ce(e,t,a,n){Q.ChamCong.get(e._id,a+1,t).then((function(r){if(!r.data)return n(null);var c,l=null===(c=r.data)||void 0===c?void 0:c.tong_ngay_cong;Q.StaffSalary.getAll().then((function(r){var c=t+"-"+(parseInt(a)+1<=9?"0"+(parseInt(a)+1):parseInt(a)+1),s=(new Date).getFullYear()+"-"+((new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1),o=r.data.filter((function(t,a){var n=t.date_created.split("T");return n=(n=n[0].split("-"))[0]+"-"+n[1],e._id===t.user_id&&n==c})),i=Math.round(o.length>0?parseInt(o[0].luong_co_ban)/28*parseFloat(l||o[0].ngay_cong):c==s?parseInt(e.luong_co_ban)/28*(l||e.ngay_cong):0);Q.Bill.getAll().then((function(t){t&&Q.PackageType.getSlug("dich_vu").then((function(a){Q.Package.getType(a.data._id).then((function(a){var r=a.data;Q.PackageType.getSlug("goi_chup").then((function(a){Q.Package.getType(a.data._id).then((function(a){var u=a.data,h=t.data.filter((function(e,t){if(e.deleted)return!1;if(e.ngay_chup){var a=e.ngay_chup.split("-");return(a=2!==a[0].length?a[0]+"-"+a[1]:a[2]+"-"+a[1])==c}})),p=0,d=0,m=0;return h.map((function(t,a){t.photo===e._id&&t.products.map((function(t,a){u.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(p+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_goi_chup_photo/100)})),t.support===e._id&&t.products.map((function(t,a){u.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(p+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_goi_chup_tu_van/100)})),t.photoshop===e._id&&t.products.map((function(t,a){u.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(m+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_photoshop/100)}))})),h.map((function(t,a){t.support===e._id&&t.products.map((function(t,a){r.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(d+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_dich_vu_tu_van/100)}))})),n({_id:e._id,ho_ten:e.ho_ten,email:e.email,phan_tram_thuong_goi_chup_tu_van:o.length>0?o[0].phan_tram_thuong_goi_chup_tu_van:c==s?e.phan_tram_thuong_goi_chup_tu_van:0,phan_tram_thuong_goi_chup_photo:o.length>0?o[0].phan_tram_thuong_goi_chup_photo:c==s?e.phan_tram_thuong_goi_chup_photo:0,phan_tram_thuong_photoshop:o.length>0?o[0].phan_tram_thuong_photoshop:c==s?e.phan_tram_thuong_photoshop:0,phan_tram_thuong_dich_vu_tu_van:o.length>0?o[0].phan_tram_thuong_dich_vu_tu_van:c==s?e.phan_tram_thuong_dich_vu_tu_van:0,ngay_cong:o.length>0?l||o[0].ngay_cong:c==s?l||e.ngay_cong:0,luong_co_ban:o.length>0?o[0].luong_co_ban:c==s?e.luong_co_ban:0,total_photo:p,total_service:d,total_photoshop:m,total:p+d+m,thuc_lanh:i+(p+d+m),luong_thang:i,date_created:c})}))}))}))}))}))}))}))}function le(e,t,a,n){var r=Math.round(parseInt(e.luong_co_ban)/28*e.ngay_cong),c=t+"-"+(parseInt(a)+1<=9?"0"+(parseInt(a)+1):parseInt(a)+1);Q.Bill.getAll().then((function(t){Q.PackageType.getSlug("dich_vu").then((function(a){Q.Package.getType(a.data._id).then((function(a){var l=a.data;Q.PackageType.getSlug("goi_chup").then((function(a){Q.Package.getType(a.data._id).then((function(a){var s=a.data,o=t.data.filter((function(e,t){if(e.deleted)return!1;if(e.ngay_chup){var a=e.ngay_chup.split("-");return(a=2==a[0].length?a[2]+"-"+a[1]:a[0]+"-"+a[1])==c}})),i=0,u=0;return o.map((function(t,a){t.photo===e._id&&t.products.map((function(t,a){s.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(i+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_goi_chup_photo/100)})),t.photoshop===e._id&&t.products.map((function(t,a){s.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(i+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_photoshop/100)})),t.support===e._id&&t.products.map((function(t,a){s.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(i+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_goi_chup_tu_van/100)}))})),o.map((function(t,a){t.support===e._id&&t.products.map((function(t,a){l.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(u+=(parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))*e.phan_tram_thuong_dich_vu_tu_van/100)}))})),n({_id:e._id,ho_ten:e.ho_ten,email:e.email,phan_tram_thuong_goi_chup_tu_van:e.phan_tram_thuong_goi_chup_tu_van,phan_tram_thuong_goi_chup_photo:e.phan_tram_thuong_goi_chup_photo,phan_tram_thuong_photoshop:e.phan_tram_thuong_photoshop,phan_tram_thuong_dich_vu_tu_van:e.phan_tram_thuong_dich_vu_tu_van,ngay_cong:e.ngay_cong,luong_co_ban:e.luong_co_ban,total_photo:i,total_service:u,total_photoshop:0,total:i+u,thuc_lanh:r+(i+u+0),luong_thang:r,date_created:c})}))}))}))}))}))}var se=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;Object(E.a)(this,a),(n=t.call(this,e)).handleSave=function(){var e={chi_nhanh:n.refs.chi_nhanh.value,gio_chup:n.refs.gio_chup.value,ngay_chup:n.state.date?n.state.date:new Date,ghi_chu:n.refs.ghi_chu.value,photo:n.refs.photo.value||null,support:n.refs.support.value||null,photoshop:n.refs.photoshop.value||null,consultant:n.refs.consultant.value||null,ten_khach_hang:n.refs.ten_khach_hang.value,dia_chi:n.refs.dia_chi.value,ho_ten_be:n.refs.ho_ten_be.value,ngay_sinh_be:n.state.birthday,gioi_tinh_be:n.refs.gioi_tinh_be.value,so_tuoi:n.refs.so_tuoi.value,so_dien_thoai:n.refs.so_dien_thoai.value,tinh_trang:n.refs.tinh_trang.value,ngay_giao_hinh:n.state.ngay_giao_hinh};n.props.onSave(e)},n.onTagsChange=function(e,t){},n.handleChange=function(e){n.setState({date:e})},n.handleChangeBirthday=function(e){var t=e.split("-");t=2!==t[0].length?e:t[2]+"-"+t[1]+"-"+t[0];var a=function(e){var t=new Date,a=[],n=(e=new Date(e),[t.getFullYear(),e.getFullYear()]),r=n[0]-n[1],c=[t.getMonth(),e.getMonth()],l=c[0]-c[1],s=[t.getDate(),e.getDate()],o=s[0]-s[1];return l<0&&(l+=12),o<0&&(e.setMonth(c[1]+1,0),o=e.getDate()-s[1]+s[0],--l),r>0?a=r+" tu\u1ed5i":l>0?a=l+" th\xe1ng":o>0&&(a=o+" ng\xe0y"),a}(new Date(t));n.refs.so_tuoi.value=a,n.setState({birthday:e})},n.handleChangeNgayGiaoHinh=function(e){n.setState({ngay_giao_hinh:e})};var r=n.props.data?n.props.data.ngay_sinh_be:null;r=r?2==r.split("-")[0].length?r:r.split("-")[2]+"-"+r.split("-")[1]+"-"+r.split("-")[0]:null;var c=n.props.date?n.props.date:n.props.data?n.props.data.ngay_chup:null;c=c?2==c.split("-")[0].length?c:c.split("-")[2]+"-"+c.split("-")[1]+"-"+c.split("-")[0]:null;var l=n.props.data?n.props.data.ngay_giao_hinh:null;return l=l?2==l.split("-")[0].length?l:l.split("-")[2]+"-"+l.split("-")[1]+"-"+l.split("-")[0]:null,n.state={staff:null,branch:null,status:null,date:c,birthday:r,ngay_giao_hinh:l},n.fetchData(),n}return Object(y.a)(a,[{key:"fetchData",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Staff.getAll().then((function(e){t.setState({staff:e.data})}));case 2:return e.next=4,Q.Branch.getAll().then((function(e){t.setState({branch:e.data})}));case 4:return e.next=6,Q.Status.getAll().then((function(e){t.setState({status:e.data})}));case 6:this.state.birthday&&this.handleChangeBirthday(this.state.birthday);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){localStorage.getItem("chuc_vu");return this.state.staff&&this.state.branch&&this.state.status?r.a.createElement("div",{className:"bill_form_container"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Chi Nh\xe1nh:"),r.a.createElement("select",{defaultValue:this.props.data?this.props.data.chi_nhanh._id:"default",ref:"chi_nhanh",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:!0,value:"default"}),this.state.branch.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ten_chi_nhanh)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Gi\u1edd Ch\u1ee5p:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.gio_chup:"",ref:"gio_chup",type:"time",disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ng\xe0y Ch\u1ee5p:"),r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.date,ref:"ngay_chup",className:"textbox",onChange:this.handleChange,disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box textarea"},r.a.createElement("span",{className:"title"},"Ghi Ch\xfa:"),r.a.createElement("textarea",{className:"textbox",defaultValue:this.props.data?this.props.data.ghi_chu:"",ref:"ghi_chu"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Photo:"),r.a.createElement("select",{ref:"photo",defaultValue:this.props.data?this.props.data.photo:"",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:!0,value:""}),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Support:"),r.a.createElement("select",{ref:"support",defaultValue:this.props.data?this.props.data.support:"",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:!0,value:""}),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\u01b0 V\u1ea5n:"),r.a.createElement("select",{ref:"consultant",defaultValue:this.props.data?this.props.data.consultant:"",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:!0,value:""}),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Photoshop:"),r.a.createElement("select",{ref:"photoshop",defaultValue:this.props.data?this.props.data.photoshop:"",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:!0,value:""}),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xecnh Tr\u1ea1ng:"),r.a.createElement("select",{ref:"tinh_trang",defaultValue:this.props.data?this.props.data.tinh_trang:""},r.a.createElement("option",{disabled:!0,selected:!0,value:""}),this.state.status.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.ten_tinh_trang)}))))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean Kh\xe1ch H\xe0ng:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.ten_khach_hang:"",ref:"ten_khach_hang",type:"text",disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.so_dien_thoai:"",ref:"so_dien_thoai",type:"number",disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"\u0110\u1ecba Ch\u1ec9:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.dia_chi:"",ref:"dia_chi",type:"text",disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"H\u1ecd T\xean B\xe9:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.ho_ten_be:"",ref:"ho_ten_be",type:"text",disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ng\xe0y Sinh B\xe9:"),r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.birthday,ref:"ngay_sinh_be",className:"textbox",onChange:this.handleChangeBirthday,disabled:"1"==this.props.perms.bill[2]?null:"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Gi\u1edbi T\xednh B\xe9:"),r.a.createElement("select",{ref:"gioi_tinh_be",defaultValue:this.props.data?this.props.data.gioi_tinh_be:"",disabled:"1"==this.props.perms.bill[2]?null:"disabled"},r.a.createElement("option",{disabled:!0,selected:"selected"},"Gi\u1edbi t\xednh b\xe9: "),r.a.createElement("option",{value:"0"},"B\xe9 trai"),r.a.createElement("option",{value:"1"},"B\xe9 g\xe1i"))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 Tu\u1ed5i:"),r.a.createElement("input",{className:"textbox",defaultValue:this.props.data?this.props.data.so_tuoi:"",ref:"so_tuoi",type:"text",disabled:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ng\xe0y Giao H\xecnh:"),r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.ngay_giao_hinh,ref:"ngay_giao_hinh",className:"textbox",onChange:this.handleChangeNgayGiaoHinh})))):r.a.createElement("div",null)}}]),a}(n.Component),oe=a(33),ie=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSave=function(){var e={tong:parseInt(n.refs.tong.value.replace(/,/g,"")),dat_coc:Object(oe.a)(n.state.dat_coc),thanh_toan:Object(oe.a)(n.state.thanh_toan),con_no:parseInt(n.refs.con_no_1.value.replace(/,/g,"")),giam_gia:0};n.props.handleSavePayment(e)},n.handleChangeInput=function(e,t,a){var r=Object(oe.a)(n.state[e]);r[t].value=Number(a.target.value);var c=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+((new Date).getDate()<=9?"0"+(new Date).getDate():(new Date).getDate()),l=new Date;l=(l.getHours()<=9?"0"+l.getHours():l.getHours())+":"+(l.getMinutes()<=9?"0"+l.getMinutes():l.getMinutes())+" "+(l.getDate()<=9?"0"+l.getDate():l.getDate())+"/"+(l.getMonth()+1<=9?"0"+(l.getMonth()+1):l.getMonth()+1)+"/"+l.getFullYear(),r[t].time=c,r[t].des=l+" - "+localStorage.getItem("ho_ten");var s=[].concat(Object(oe.a)(r),Object(oe.a)("dat_coc"===e?n.state.thanh_toan:n.state.dat_coc)),o=0;if(s.forEach((function(e){o+=e.value})),n.refs.con_no_1.value=te(parseInt(n.refs.tong.value.replace(/,/g,""))-o),t+1==n.state.thanh_toan.length){var i=Object(oe.a)(n.state.thanh_toan);i.push({value:0,time:"",des:"",transaction:"2"}),n.setState({thanh_toan:i})}},n.handleUpdateConNo=function(e){e.giam_gia=parseInt(e.giam_gia||0),n.refs.con_no_1.value=te(parseInt(n.refs.con_no_1.value.replace(/,/g,""))+(parseInt(e.gia)*parseInt(e.so_luong)-parseInt(e.giam_gia)))},n.handleUpdateConNoAfterChangeProduct=function(e,t){e.giam_gia=parseInt(e.giam_gia||"0"),t.giam_gia=parseInt(t.giam_gia||"0"),n.refs.con_no_1.value=te(parseInt(n.refs.con_no_1.value.replace(/,/g,""))-(Math.abs(parseInt(e.gia)*parseInt(e.so_luong))-parseInt(e.giam_gia))+parseInt(t.gia)*parseInt(t.so_luong)-parseInt(t.giam_gia))},n.state={dat_coc:n.props.data?Object(oe.a)(n.props.data.dat_coc):[{value:0,time:"",des:"",transaction:"2"}],thanh_toan:n.props.data?Object(oe.a)(n.props.data.thanh_toan):[{value:0,time:"",des:"",transaction:"2"}]},n}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.dat_coc,n=this.state.thanh_toan,c=(null===(e=this.props.data)||void 0===e?void 0:e.con_no)||0;return r.a.createElement("div",{className:"product_list_form_container",style:{flex:1}},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\u1ed5ng:"),r.a.createElement("input",{className:"textbox",ref:"tong",value:te(this.props.product_total),type:"text",disabled:!0})),a.map((function(e,a){return r.a.createElement("div",{key:"dat-coc-form-".concat(a),className:"box"},r.a.createElement("span",{className:"title"},"\u0110\u1eb7t C\u1ecdc: ",e.des),r.a.createElement("div",{className:"douple_textbox"},r.a.createElement("input",{className:"textbox",onKeyUp:function(e){return t.handleChangeInput("dat_coc",a,e)},defaultValue:e.value||0,type:"number",disabled:"1"==t.props.perms.bill[2]?"":"disabled"}),r.a.createElement("select",{className:"selectbox",defaultValue:e.transaction||"2",disabled:"1"==t.props.perms.bill[2]?"":"disabled",onChange:function(e){var n=Object(oe.a)(t.state.dat_coc);n[a].transaction=e.target.value,t.setState({dat_coc:n})}},r.a.createElement("option",{disabled:!0,selected:!0,value:"2"}),r.a.createElement("option",{value:"0"},"Chuy\u1ec3n kho\u1ea3n"),r.a.createElement("option",{value:"1"},"Ti\u1ec1n m\u1eb7t"))))})),n.map((function(e,a){return r.a.createElement("div",{className:"box",key:"thanh-toan-form-".concat(a)},r.a.createElement("span",{className:"title"},"Thanh To\xe1n L",a+1,": ",e.desc),r.a.createElement("div",{className:"douple_textbox"},r.a.createElement("input",{className:"textbox",onKeyUp:function(e){return t.handleChangeInput("thanh_toan",a,e)},defaultValue:e.value||0,type:"number",disabled:"1"==t.props.perms.bill[2]?"":"disabled"}),r.a.createElement("select",{className:"selectbox",defaultValue:e.transaction||"2",disabled:"1"==t.props.perms.bill[2]?"":"disabled",onChange:function(e){var n=Object(oe.a)(t.state.thanh_toan);n[a].transaction=e.target.value,t.setState({thanh_toan:n})}},r.a.createElement("option",{disabled:!0,selected:!0,value:"2"}),r.a.createElement("option",{value:"0"},"Chuy\u1ec3n kho\u1ea3n"),r.a.createElement("option",{value:"1"},"Ti\u1ec1n m\u1eb7t"))))})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"C\xf2n N\u1ee3:"),r.a.createElement("div",{className:"douple_textbox"},r.a.createElement("input",{className:"textbox",ref:"con_no_1",onKeyUp:function(e){return t.handleChangeInput("con_no_1",e)},defaultValue:te(c),type:"text",disabled:!0})))))}}]),a}(n.Component),ue=a(3),he=(a(310),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"spiners hash"},r.a.createElement("div",{className:"rot"}),r.a.createElement("div",{className:"tor"}))}}]),a}(n.Component)),pe=(a(111),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.data)return r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null));var t=this.props.perms.staff_salary;return r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),r.a.createElement(ue.Cell,null,"H\u1ecd T\xean"),r.a.createElement(ue.Cell,null,"L\u01b0\u01a1ng C\u01a1 B\u1ea3n"),r.a.createElement(ue.Cell,null,"Ng\xe0y C\xf4ng"),r.a.createElement(ue.Cell,null,"L\u01b0\u01a1ng Th\xe1ng"),r.a.createElement(ue.Cell,null,"% Th\u01b0\u1edfng Doanh Thu T\u01b0 V\u1ea5n (GC)"),r.a.createElement(ue.Cell,null,"% Th\u01b0\u1edfng Doanh Thu Photo"),r.a.createElement(ue.Cell,null,"% Th\u01b0\u1edfng Photoshop (PTS)"),r.a.createElement(ue.Cell,null,"T\u1ed5ng Th\u01b0\u1edfng Doanh Thu"),r.a.createElement(ue.Cell,null,"% Th\u01b0\u1edfng Doanh Thu T\u01b0 V\u1ea5n (DV)"),r.a.createElement(ue.Cell,null,"Th\u01b0\u1edfng D\u1ecbch V\u1ee5"),r.a.createElement(ue.Cell,null,"T\u1ed5ng Th\u01b0\u1edfng"),r.a.createElement(ue.Cell,null,"Th\u1ef1c L\xe3nh")),this.props.data.map((function(a,n){return r.a.createElement(ue.Row,{className:"row"},r.a.createElement(ue.Cell,null,n+1),r.a.createElement(ue.Cell,null,a.ho_ten),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.luong_co_ban,onChange:function(t){return e.props.onInputChange(t,"luong_co_ban",a._id)},ref:"luong_co_ban",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.ngay_cong,onChange:function(t){return e.props.onInputChange(t,"ngay_cong",a._id)},ref:"ngay_cong",type:"text",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",value:te(a.luong_thang),ref:"luong_thang",type:"text",disabled:!0})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.phan_tram_thuong_goi_chup_tu_van,onChange:function(t){return e.props.onInputChange(t,"phan_tram_thuong_goi_chup_tu_van",a._id)},ref:"phan_tram_thuong_goi_chup_tu_van",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.phan_tram_thuong_goi_chup_photo,onChange:function(t){return e.props.onInputChange(t,"phan_tram_thuong_goi_chup_photo",a._id)},ref:"phan_tram_thuong_goi_chup_photo",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.phan_tram_thuong_photoshop,onChange:function(t){return e.props.onInputChange(t,"phan_tram_thuong_photoshop",a._id)},ref:"phan_tram_thuong_photoshop",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",value:te(a.total_photo),ref:"tong_doanh_thu",type:"text",disabled:!0})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",defaultValue:a.phan_tram_thuong_dich_vu_tu_van,onChange:function(t){return e.props.onInputChange(t,"phan_tram_thuong_dich_vu_tu_van",a._id)},ref:"phan_tram_thuong_dich_vu_tu_van",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",value:te(a.total_service),ref:"thuong_dich_vu",type:"text",disabled:!0})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",value:te(a.total),ref:"tong_thuong",type:"text",disabled:!0})),r.a.createElement(ue.Cell,{style:{width:"150px"}},r.a.createElement("input",{style:{width:"150px"},className:"textbox",value:te(a.thuc_lanh),ref:"thuc_lanh",type:"text",disabled:!0})))})))))}}]),a}(n.Component)),de=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleEdit=function(t){e.props.handleOpenModal(t)},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),r.a.createElement(ue.Cell,null,"T\xean G\xf3i"),r.a.createElement(ue.Cell,null,"Gi\xe1 Ti\u1ec1n"),r.a.createElement(ue.Cell,null,"Nh\u1eadp H\xe0ng"),r.a.createElement(ue.Cell,null,"Xu\u1ea5t"),r.a.createElement(ue.Cell,null,"T\u1ed3n"),r.a.createElement(ue.Cell,null,"Th\xf4ng Tin Chi Ti\u1ebft")),this.props.data.map((function(t,a){return r.a.createElement(ue.Row,{className:"row",onClick:function(){return e.handleEdit(t._id)}},r.a.createElement(ue.Cell,null,a+1),r.a.createElement(ue.Cell,null,t.ten_goi),r.a.createElement(ue.Cell,null,t.gia),r.a.createElement(ue.Cell,null,t.soLuong),r.a.createElement(ue.Cell,null,t.soLuongXuat),r.a.createElement(ue.Cell,null,t.tonKho),r.a.createElement(ue.Cell,null,t.description))})))))}}]),a}(n.Component),me=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"table_view bill_edit",style:{flex:1}},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),r.a.createElement(ue.Cell,null,"S\u1ea3n Ph\u1ea9m"),r.a.createElement(ue.Cell,null,"\u0110\u01a1n Gi\xe1"),r.a.createElement(ue.Cell,null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement(ue.Cell,null,"Gi\u1ea3m Gi\xe1"),r.a.createElement(ue.Cell,null,"T\u1ed5ng")),this.props.data.map((function(t,a){return r.a.createElement(ue.Row,{className:"row",onClick:function(){return e.props.onEdit(a)},title:t.description||""},r.a.createElement(ue.Cell,null,a+1),r.a.createElement(ue.Cell,null,t.ten_goi),r.a.createElement(ue.Cell,null,te(t.gia)," \u0111"),r.a.createElement(ue.Cell,null,t.so_luong),r.a.createElement(ue.Cell,null,t.giam_gia?te(t.giam_gia):0," \u0111"),r.a.createElement(ue.Cell,null,te(parseInt(t.gia)*parseInt(t.so_luong)*((100-parseInt(t.chiet_khau))/100)-(t.giam_gia?parseInt(t.giam_gia):0))," \u0111"))})))))}}]),a}(n.Component),_e=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleChamCong=function(e,t,a){var r=n.props.sang,c=n.props.chieu,l={},s={};e.target.checked?"sang"==t?r[a-1]=1:c[a-1]=1:"sang"==t?r[a-1]=0:c[a-1]=0;for(var o=0;o<r.length;o++){l[i=r[o]]=l[i]?l[i]+1:1}for(o=0;o<c.length;o++){var i;s[i=c[o]]=s[i]?s[i]+1:1}var u=l[1]?l[1]/2:0,h=s[1]?s[1]/2:0,p={month:n.props.months,year:n.props.year,sang:r,chieu:c,tong_ngay_cong:u+h,user_id:n.props.user_id};Q.ChamCong.update(p)},n.state={date:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.perms;return this.props.date?r.a.createElement("div",{className:"tab_content_container cham_cong_table"},r.a.createElement("div",{className:"tab_content_header_container cham_cong_table"},r.a.createElement("h1",{className:"tab_content_header"},"Ch\u1ea5m c\xf4ng th\xe1ng ",this.props.months," n\u0103m ",this.props.year),r.a.createElement("div",{className:"tab_header_right_item_container cham_cong_table"},this.props.date.map((function(e,t){return r.a.createElement("span",{className:"tab_header_item_title"},e)})))),r.a.createElement("div",{className:"tab_content cham_cong_table"},r.a.createElement("div",{className:"tab_side_bar"},r.a.createElement("span",{className:"tab_side_bar_title"},"S\xe1ng"),r.a.createElement("span",{className:"tab_side_bar_title"},"Chi\u1ec1u")),r.a.createElement("div",{className:"tab_tick_container"},r.a.createElement("div",{className:"tab_tick"},this.props.date.map((function(a,n){var c=(new Date).getDate().toString(),l=e.props.months.toString(),s=((new Date).getMonth()+1).toString();return r.a.createElement("div",{className:"column",key:"column"+n},r.a.createElement("div",{className:"checkbox",key:"bill"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.handleChamCong(t,"sang",a)},defaultChecked:1==e.props.sang[a-1]?"checked":null,disabled:a.toString()==c&&l==s?1==e.props.sang[a-1]?"1"==t.cham_cong[2]?null:"disabled":null:"1"==t.cham_cong[2]?null:"disabled"})),r.a.createElement("div",{className:"checkbox",key:"bills"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.handleChamCong(t,"chieu",a)},defaultChecked:1==e.props.chieu[a-1]?"checked":null,disabled:a.toString()==c&&l==s?1==e.props.chieu[a-1]?"1"==t.cham_cong[2]?null:"disabled":null:"1"==t.cham_cong[2]?null:"disabled"})))}),this))))):r.a.createElement("div",null)}}]),a}(n.Component)),fe=function(e){var t=e.columns,a=e.data,n=e.onClick;return r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),t.map((function(e,t){return r.a.createElement(ue.Cell,{key:"column-".concat(t)},e.title)}))),a.map((function(e,a){return r.a.createElement(ue.Row,{className:"row",key:a,onClick:function(){return n(e._id,a)}},r.a.createElement(ue.Cell,null,a+1),t.map((function(t,n){return t.colored?r.a.createElement(ue.Cell,{key:"row-".concat(n,"-").concat(a)},r.a.createElement("div",{className:"row",style:{backgroundColor:e.color}},e[t.key])):r.a.createElement(ue.Cell,{key:"row-".concat(n,"-").concat(a)},null===e||void 0===e?void 0:e[t.key])})))})))))},ge=a(20),ve=a(26),be=a(60),Ee=a(23),ye=(a(135),a(83)),ke=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header_bar"},r.a.createElement("div",{className:"full_search_box"},r.a.createElement(ve.g,{className:"icon"}),r.a.createElement("input",{type:"text",placeholder:"T\xecm ki\u1ebfm",onKeyUp:this.props.onKeyUp}),r.a.createElement(ye.a,{className:"icon close",onClick:this.props.onClose}),void 0!=this.props.autocomplete_data?r.a.createElement("div",{className:"autocomplete_container"},r.a.createElement("ul",null,this.props.autocomplete_data.map((function(e,t){return console.log(e),r.a.createElement("li",null,r.a.createElement(s.b,{to:"bill_edit/".concat(e._id)},e.title,r.a.createElement("br",null),r.a.createElement("br",null),"Ng\xe0y: ",e.ngay_chup,r.a.createElement("br",null),"Gi\u1edd ch\u1ee5p: ",e.gio_chup))})))):null))}}]),a}(n.Component),Ne=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={perms:null,sidebar_visible:!1,searching:!1},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.perms?this.state.searching?r.a.createElement(ke,{onKeyUp:function(t){return e.props.onSearchKeyPress(t.target.value)},onClose:function(){e.setState({searching:!1})}}):r.a.createElement("div",{className:"header_bar"},Ee.isMobile?r.a.createElement("button",{className:"side_bar_btn",onClick:function(){return e.setState({sidebar_visible:!0})}},r.a.createElement(be.a,{className:"icon"})):null,r.a.createElement("h1",null,"G\xf3i Ch\u1ee5p"),r.a.createElement("div",{className:"right_tools_container"},r.a.createElement("div",{className:"right_tools_box"},"1"==this.state.perms.goi_chup[1]?r.a.createElement("button",{onClick:this.props.handleOpenModal},r.a.createElement(ge.p,{className:"icon"}),"Th\xeam m\u1edbi"):null,void 0!==this.props.onSearchKeyPress&&Ee.isMobile?r.a.createElement("button",{onClick:function(){e.setState({searching:!0})}},r.a.createElement(ve.g,{className:"icon"})):null,r.a.createElement("div",{className:"search_box"},r.a.createElement(ve.g,{className:"icon"}),r.a.createElement("input",{type:"text",ref:"search",placeholder:"T\xecm ki\u1ebfm",onKeyUp:function(t){return e.props.onSearchKeyPress(t.target.value)}}))))):r.a.createElement("div",null)}}]),a}(n.Component),Ce=(a(187),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return this.props.loading?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__close-btn",onClick:this.props.onClose},r.a.createElement(z.c,{className:"modal__close-btn__icon"})),r.a.createElement("div",{className:"form_container"},r.a.createElement(he,null),r.a.createElement("a",null,"LOADING..."))):r.a.createElement("div",{onClick:this.props.onClose,className:"modal",style:{display:"".concat("true"===this.props.is_open||1==this.props.is_open?"flex":"none")}},r.a.createElement("div",{className:"modal__close-btn",onClick:this.props.onClose},r.a.createElement(z.c,{className:"modal__close-btn__icon"})),r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"form_container"},r.a.createElement("h1",null,this.props.title),this.props.children,r.a.createElement("div",{className:"column"},this.props.onRemove?r.a.createElement("button",{className:"btn",onClick:this.props.onRemove},"Xo\xe1"):null,this.props.onClose&&!this.props.onRemove?r.a.createElement("button",{className:"btn",onClick:this.props.onClose},"H\u1ee7y"):null,this.props.onSave?r.a.createElement("button",{className:"btn blue",onClick:this.props.onSave},"L\u01b0u"):null)))}}]),a}(n.Component)),xe=(a(313),a(57)),we=[{isHeader:!0,name:"C\xf4ng vi\u1ec7c",perms:[]},{perms:[{bill:0}],name:"\u0110\u01a1n h\xe0ng",icon:r.a.createElement(ge.e,null),path:"/"},{perms:[{calendar:0}],name:"L\u1ecbch",icon:r.a.createElement(ge.d,null),path:"/calendar"},{perms:[{customers:0}],name:"Kh\xe1ch h\xe0ng",icon:r.a.createElement(ge.n,null),path:"/customers"},{perms:[{spending:0}],name:"Chi",icon:r.a.createElement(ge.h,null),path:"/spending"},{isDivider:!0},{isHeader:!0,name:"S\u1ea3n ph\u1ea9m",perms:[]},{perms:[{goi_chup:0}],name:"G\xf3i ch\u1ee5p",icon:r.a.createElement(xe.a,null),path:"/packages/goi_chup"},{perms:[{services:0}],name:"D\u1ecbch v\u1ee5",icon:r.a.createElement(be.b,null),path:"/packages/dich_vu"},{isDivider:!0},{isHeader:!0,name:"B\xe1o c\xe1o",perms:[{total_analytics:0}]},{perms:[{total_analytics:0}],name:"B\xe1o c\xe1o doanh thu",icon:r.a.createElement(ge.g,null),path:"/total_revenue"},{perms:[{realtime_analytics:0}],name:"B\xe1o c\xe1o thu chi",icon:r.a.createElement(ge.g,null),path:"/realtime_revenue"},{isDivider:!0},{isHeader:!0,name:"Kh\xe1c",perms:[]},{perms:[{trash:0}],name:"Th\xf9ng r\xe1c",icon:r.a.createElement(xe.g,null),path:"/trash"},{perms:[],name:"C\xe0i \u0111\u1eb7t",icon:r.a.createElement(xe.f,null),path:"/settings"},{perms:[],name:"\u0110\u0103ng xu\u1ea5t",icon:r.a.createElement(xe.d,null),path:"/logout"}],Oe=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({}),s=Object(h.a)(l,2),o=(s[0],s[1]),p=Object(n.useState)([]),d=Object(h.a)(p,2),m=d[0],_=d[1],f=Object(n.useState)(!1),g=Object(h.a)(f,2),v=g[0],b=g[1],E=Object(n.useRef)(0);Object(n.useEffect)((function(){return y(),document.addEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[]);var y=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Branch.getAll();case 2:t=e.sent,c(t.data),a=(a=JSON.parse(localStorage.getItem("branch_selected")||"[]")).length?a:[t.data[0]._id],_(a),k(a[0],t.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=n.find((function(t){return t._id==e})),c=r.ten_chi_nhanh.split(" "),l={code:c="".concat(c[0].charAt(0).toUpperCase()).concat(null===(t=c[1])||void 0===t?void 0:t.charAt(0).toUpperCase()),name:r.ten_chi_nhanh,color:r.color};o(l)},N=function(e){var t;E&&!(null===E||void 0===E||null===(t=E.current)||void 0===t?void 0:t.contains(null===e||void 0===e?void 0:e.target))&&C()},C=function(){b(!1)};return r.a.createElement("div",{className:"branch-select-box",ref:E},r.a.createElement("div",{className:"branch-select-box__select",onClick:function(){return b(!v)}},r.a.createElement("div",{className:"branch-select-box__select-list"},a.map((function(e,t){var a;if(!(m.indexOf(e._id)<=-1)){var n=e.ten_chi_nhanh.split(" ");return n="".concat(n[0].charAt(0).toUpperCase()).concat(null===(a=n[1])||void 0===a?void 0:a.charAt(0).toUpperCase()),r.a.createElement("div",{className:"branch-select-box__select-group__avatar",style:{backgroundColor:e.color}},n||"CN")}})))),r.a.createElement("div",{className:"branch-select-box__dropdown".concat(v?"--visible":"")},a.map((function(e,t){var a,n=e.ten_chi_nhanh.split(" ");return n="".concat(n[0].charAt(0).toUpperCase()).concat(null===(a=n[1])||void 0===a?void 0:a.charAt(0).toUpperCase()),r.a.createElement("label",{className:"branch-select-box__select-group",htmlFor:"checkbox-".concat(e._id),key:"checkbox-".concat(e._id)},r.a.createElement("input",{checked:m.indexOf(e._id)>-1,onChange:function(t){return function(e,t){var a=Object(oe.a)(m);e.currentTarget.checked?a.indexOf(t)<=-1&&(a=[].concat(Object(oe.a)(a),[t])):(a=Object(oe.a)(a)).splice(a.indexOf(t),1),_(a),console.log(a),localStorage.setItem("branch_selected",JSON.stringify(a)),a.length&&k(a[0])}(t,e._id)},className:"branch-select-box__select-group__checkbox",id:"checkbox-".concat(e._id),type:"checkbox"}),r.a.createElement("div",{className:"branch-select-box__select-group__avatar",style:{backgroundColor:e.color}},n),r.a.createElement("span",{className:"branch-select-box__select-group__name"},e.ten_chi_nhanh||"CN"))})),r.a.createElement("button",{className:"btn blue",onClick:function(){return window.location.reload()}},"L\u01b0u")))},Se=function(){var e=Object(n.useState)(window.location.pathname),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(h.a)(l,2),i=o[0],u=o[1],p=Object(n.useState)(!0),d=Object(h.a)(p,2),m=d[0],_=d[1],f=Object(n.useState)(""),g=Object(h.a)(f,2),v=g[0],b=g[1];Object(n.useEffect)((function(){Q.Permission.getUserPerm().then((function(e){u(e.data)})),Q.User.verifyToken().then((function(e){b(e.data.company_slug)}))}),[]);var E=null===i||void 0===i?void 0:i.perms;return E?r.a.createElement("div",{className:"side_bar_container ".concat(m?"min":"")},r.a.createElement("div",{className:"side_bar"},r.a.createElement("div",{className:"item avatar_container"},r.a.createElement("button",{className:"menu_btn",onClick:function(){localStorage.setItem("sidebar_minized",!m),_(!m)}},r.a.createElement(ge.m,{className:"icon"})),r.a.createElement("p",{className:"user_name"},localStorage.getItem("ho_ten"))),!m&&r.a.createElement(Oe,null),we.map((function(e,t){var n,l=0;return(null===(n=e.perms)||void 0===n?void 0:n.length)?e.perms.map((function(e){if(l>=0){var t=Object.keys(e)[0],a=Object.values(e)[0];E[t][a]?l++:l=-1}})):l++,e.isDivider?r.a.createElement("br",null):l>0?e.isHeader?r.a.createElement("div",{className:"menu_header",key:"sidebar-item-".concat(t)},m?r.a.createElement("hr",null):r.a.createElement("span",null,e.name)):r.a.createElement(s.b,{to:"/".concat(v).concat(e.path),key:"sidebar-item-".concat(t),className:a==="/".concat(v).concat(e.path)?"item active":"item",onClick:function(){_(!0),c("/".concat(v).concat(e.path))}},r.a.createElement("div",{className:"icon"},e.icon),r.a.createElement("p",{className:"item_name"},e.name)):void 0})))):null},je=(a(314),function(e){var t=e.title,a=e.description,n=e.price,c=e.strikePrice,l=e.save,s=e.onClick,o=e.subscribed;return r.a.createElement("div",{className:"card card_subscription ".concat(o?"subscribed":"")},r.a.createElement("div",{className:"title-container"},r.a.createElement("span",{className:"title"},t)),r.a.createElement("div",{className:"description-container"},null===a||void 0===a?void 0:a.map((function(e,t){return r.a.createElement("div",{className:"description-section",key:"description-section-".concat(t)},r.a.createElement("div",{className:"icon-container"},r.a.createElement(ge.f,{className:"icon"})),r.a.createElement("p",{className:"description"},e))}))),r.a.createElement("div",{className:"price-container"},r.a.createElement("span",{className:"price"},n," \u0111"),r.a.createElement("span",{className:"sub-title"},"Annually: Save ",l," ",r.a.createElement("span",{className:"strike-price"},c," \u0111"))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"button",onClick:s,disabled:o},o?"\u0110\xe3 \u0110\u0103ng K\xfd":"\u0110\u0103ng K\xfd")))}),Te=function(e){var t=e.children,a=e.onClick,n=e.title;return r.a.createElement("div",{className:"card__paper",onClick:a},r.a.createElement("h1",{className:"card__paper__title"},n),t)},De=function(e){var t=e.visible,a=e.onFilter,c=void 0===a?new Function:a,l=e.onHideDropDown,s=void 0===l?new Function:l,o=Object(n.useRef)(),i=Object(n.useState)((new Date).getFullYear()+"-"+((new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)),u=Object(h.a)(i,2),p=u[0],d=u[1];Object(n.useEffect)((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[]);var m=function(e){var t=e.target;try{o.current.contains(t)||s()}catch(a){}};return r.a.createElement("div",{className:"dropdown filter",ref:o,style:{display:t?"block":"none"}},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"N\u0103m & Th\xe1ng:"),r.a.createElement(ee,{format:"YYYY-MM",date:p,className:"textbox calendar",onChange:function(e){return d(e)},default:!0}),r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"btn blue",onClick:function(){c(p)}},"L\u1eccC"))))},Ie=(a(315),a(82)),Me=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;Object(E.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t=e.target;try{n.wrapperRef.current.contains(t)||n.props.onHideDropDown()}catch(a){console.log(a)}},n.handleChange=function(e){n.setState({date:e})},n.wrapperRef=r.a.createRef();var c=JSON.parse(localStorage.getItem("bill_filter"))||{branch:"all",photo:"all",photoshop:"all",support:"all",tinh_trang:"all",date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)};return n.state={goi_chup_data:null,staff:null,branch:null,status:null,date:c.date,month:[1,2,3,4,5,6,7,8,9,10,11,12],last_filter:c},Q.PackageType.getSlug("goi_chup").then((function(e){var t=e.data._id;Q.Package.getType(t).then((function(e){n.setState({goi_chup_data:e.data})}))})),Q.Staff.getAll().then((function(e){n.setState({staff:e.data})})),Q.Branch.getAll().then((function(e){n.setState({branch:e.data})})),Q.Status.getAll().then((function(e){n.setState({status:e.data})})),n}return Object(y.a)(a,[{key:"handleFilter",value:function(){var e=this.refs.chi_nhanh.value,t=this.refs.photo.value,a=this.refs.photoshop.value,n=this.refs.support.value,r=this.refs.tinh_trang.value,c=this.state.date.split("-")[1],l=this.state.date.split("-")[0],s={branch:e,photo:t,photoshop:a,support:n,tinh_trang:r,date:"".concat(l,"-").concat(c),month:c,year:l};localStorage.setItem("bill_filter",JSON.stringify(s)),this.props.onFilter(e,t,n,r,c,l,a)}},{key:"handleSalaryFilter",value:function(){var e=this.state.date;this.props.onFilter(e)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this;if(!this.state.branch||!this.state.staff||!this.state.goi_chup_data||!this.state.status)return r.a.createElement("div",null);var t=(new Date).getFullYear();Array.from(new Array(20),(function(e,a){return a-t}));return"1"==this.props.type?r.a.createElement("div",{className:"dropdown filter",ref:this.wrapperRef,style:this.props.visible?{display:"block"}:{display:"none"}},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ng\xe0y c\u1ea7n t\xecm:"),r.a.createElement(ee,{format:"YYYY-MM",date:this.state.date,ref:"date",className:"textbox calendar",onChange:this.handleChange})),r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"btn blue",onClick:this.handleSalaryFilter.bind(this)},"L\u1eccC"))):r.a.createElement("div",{className:"dropdown filter",ref:this.wrapperRef,style:this.props.visible?{display:"block"}:{display:"none"}},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Photo:"),r.a.createElement("select",{ref:"photo"},r.a.createElement("option",{value:"all",selected:"all"==this.state.last_filter.photo},"T\u1ea5t c\u1ea3"),this.state.staff.map((function(t,a){return r.a.createElement("option",{value:t._id,key:a,selected:e.state.last_filter.photo==t._id},t.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Support:"),r.a.createElement("select",{ref:"support"},r.a.createElement("option",{value:"all",selected:"all"==this.state.last_filter.photo},"T\u1ea5t c\u1ea3"),this.state.staff.map((function(t,a){return r.a.createElement("option",{value:t._id,key:a,selected:e.state.last_filter.photo==t._id},t.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Photoshop:"),r.a.createElement("select",{ref:"photoshop"},r.a.createElement("option",{value:"all",selected:"all"==this.state.last_filter.photoshop},"T\u1ea5t c\u1ea3"),this.state.staff.map((function(t,a){return r.a.createElement("option",{value:t._id,key:a,selected:e.state.last_filter.photoshop==t._id},t.ho_ten)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xecnh tr\u1ea1ng:"),r.a.createElement("select",{ref:"tinh_trang"},r.a.createElement("option",{value:"all",selected:"all"==this.state.last_filter.tinh_trang},"T\u1ea5t c\u1ea3"),this.state.status.map((function(t,a){return r.a.createElement("option",{value:t._id,key:a,selected:e.state.last_filter.tinh_trang==t._id},t.ten_tinh_trang)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"N\u0103m & Th\xe1ng:"),r.a.createElement(ee,{format:"YYYY-MM",date:this.state.date,ref:"date",className:"textbox calendar",onChange:this.handleChange,default:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"btn blue",onClick:this.handleFilter.bind(this)},"L\u1eccC")))}}]),a}(n.Component),Be=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header_bar"},r.a.createElement("div",{className:"full_search_box"},r.a.createElement(ve.g,{className:"icon"}),r.a.createElement("input",{type:"text",placeholder:"T\xecm ki\u1ebfm",onKeyUp:this.props.onKeyUp}),r.a.createElement(ye.a,{className:"icon close",onClick:this.props.onClose}),void 0!=this.props.autocomplete_data?r.a.createElement("div",{className:"autocomplete_container"},r.a.createElement("ul",null,this.props.autocomplete_data.map((function(e,t){return console.log(e),r.a.createElement("li",null,r.a.createElement(s.b,{to:"bill_edit/".concat(e._id)},e.title,r.a.createElement("br",null),r.a.createElement("br",null),"Ng\xe0y: ",e.ngay_chup,r.a.createElement("br",null),"Gi\u1edd ch\u1ee5p: ",e.gio_chup))})))):null))}}]),a}(n.Component),Pe=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleShowFilterDropdown=function(){setTimeout((function(){n.setState({filter_dropdown_visible:!0})}),100)},n.handleHideFilterDropdown=function(){n.setState({filter_dropdown_visible:!1})},n.handleSearch=function(e){n.props.onSearchKeyPress(e.target.value)},n.state={filter_dropdown_visible:!1,perms:null,sidebar_visible:!1,searching:!1},Q.Permission.getUserPerm().then((function(e){console.log(e.data.perms),n.setState({perms:e.data.perms})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;if(!this.state.perms)return r.a.createElement("div",null);if(this.state.searching)return r.a.createElement(Be,{onKeyUp:this.handleSearch,onClose:function(){e.setState({searching:!1})}});var t=this.state.perms;return r.a.createElement("div",{className:"header_bar"},Ee.isMobile?r.a.createElement("button",{className:"side_bar_btn",onClick:function(){return e.setState({sidebar_visible:!0})}},r.a.createElement(be.a,{className:"icon"})):null,r.a.createElement("h1",null,this.props.title),r.a.createElement("div",{className:"right_tools_container"},r.a.createElement("div",{className:"right_tools_box"},Ee.isMobile?r.a.createElement("a",{className:"link_btn",onClick:this.props.onDownload,target:"_download"},r.a.createElement(ge.b,{className:"icon"})):r.a.createElement("a",{className:"link_btn",onClick:this.props.onDownload,target:"_download"},r.a.createElement(ge.b,{className:"icon"}),"T\u1ea3i xu\u1ed1ng"),"1"==t.bill[1]?"\u0110\u01a1n H\xe0ng"===this.props.title?Ee.isMobile?r.a.createElement(s.b,{className:"link_btn",to:"bill_edit/create_new"},r.a.createElement(ge.p,{className:"icon"})):r.a.createElement(s.b,{className:"link_btn",to:"bill_edit/create_new"},r.a.createElement(ge.p,{className:"icon"}),"T\u1ea1o m\u1edbi"):"Kh\xe1ch H\xe0ng"===this.props.title?"":null:null,r.a.createElement("div",{className:"dropdown_group"},Ee.isMobile?r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"})):r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"}),"L\u1ecdc"),r.a.createElement(Me,{onHideDropDown:this.handleHideFilterDropdown,visible:this.state.filter_dropdown_visible,onFilter:this.props.onDropdownFilterBtnClick})),void 0!==this.props.onSearchKeyPress&&Ee.isMobile?r.a.createElement("button",{onClick:function(){e.setState({searching:!0})}},r.a.createElement(ve.g,{className:"icon"})):null,r.a.createElement("div",{className:"search_box"},r.a.createElement(ve.g,{className:"icon"}),r.a.createElement("input",{type:"text",ref:"search",placeholder:"T\xecm ki\u1ebfm",onKeyUp:this.handleSearch})))))}}]),a}(n.Component),Le=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={sidebar_visible:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header_bar"},Ee.isMobile?r.a.createElement("button",{className:"side_bar_btn",onClick:function(){return e.setState({sidebar_visible:!0})}},r.a.createElement(be.a,{className:"icon"})):null,r.a.createElement("h1",null,"C\xe0i \u0110\u1eb7t"),r.a.createElement("div",{className:"right_tools_container"}))}}]),a}(n.Component)),Fe=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleShowFilterDropdown=function(){setTimeout((function(){n.setState({filter_dropdown_visible:!0})}),100)},n.handleHideFilterDropdown=function(){n.setState({filter_dropdown_visible:!1})},n.state={sidebar_visible:!1,filter_dropdown_visible:!1,branch:null,searching:!1},Q.Branch.getAll().then((function(e){n.setState({branch:e.data})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this;return this.state.branch?this.state.searching?r.a.createElement(Be,{autocomplete_data:this.props.autocomplete_data,onKeyUp:function(e){return t.props.onSearchKeyPress(e.target.value)},onClose:function(){t.setState({searching:!1})}}):r.a.createElement("div",{className:"header_bar"},Ee.isMobile?void 0!==this.props.back_link?r.a.createElement(s.b,{onClick:this.props.onGoBack,className:"side_bar_btn"},r.a.createElement(ve.a,{className:"icon"})):r.a.createElement("button",{className:"side_bar_btn",onClick:function(){return t.setState({sidebar_visible:!0})}},r.a.createElement(be.a,{className:"icon"})):null,void 0!==this.props.onGoBack?r.a.createElement("h1",{className:"back",onClick:this.props.onGoBack},r.a.createElement(ve.a,{className:"icon"}),this.props.title):r.a.createElement("h1",null,this.props.title),r.a.createElement("div",{className:"right_tools_container"},r.a.createElement("div",{className:"right_tools_box"},r.a.createElement("h4",{className:"custom_title",style:{opacity:.55,fontSize:13,fontWeight:"bold",marginRight:12}},this.props.customTitle),null===(e=this.props.actions)||void 0===e?void 0:e.map((function(e,t){return r.a.createElement("div",{key:"header-action-item-".concat(t)},e)})),this.props.onCustomerFilter&&r.a.createElement("div",{className:"dropdown_group"},Ee.isMobile?r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"})):r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"}),"L\u1ecdc"),r.a.createElement(De,{visible:this.state.filter_dropdown_visible,onFilter:this.props.onCustomerFilter,onHideDropDown:this.handleHideFilterDropdown})),void 0!==this.props.handleSalaryFilter?r.a.createElement("div",{className:"dropdown_group"},Ee.isMobile?r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"})):r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"}),"L\u1ecdc"),r.a.createElement(Me,{type:"1",onHideDropDown:this.handleHideFilterDropdown,visible:this.state.filter_dropdown_visible,onFilter:this.props.onDropdownFilterSalaryBtnClick})):null,null!==this.props.goHistory&&void 0!==this.props.goHistory?r.a.createElement(s.b,{className:"link_btn",to:this.props.goHistory},r.a.createElement(ye.b,{className:"icon"}),Ee.isMobile?null:"L\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda"):null,null!==this.props.handleEdit&&void 0!==this.props.handleEdit?r.a.createElement("button",{onClick:this.props.handleEdit},r.a.createElement(ve.d,{className:"icon"}),Ee.isMobile?null:"Ch\u1ec9nh s\u1eeda"):null,null!==this.props.create_btn_link&&void 0!==this.props.create_btn_link?r.a.createElement(s.b,{className:"link_btn",to:this.props.create_btn_link},r.a.createElement(ge.p,{className:"icon"}),Ee.isMobile?null:"T\u1ea1o m\u1edbi"):null,null!==this.props.handleCreate&&void 0!==this.props.handleCreate?r.a.createElement("button",{onClick:this.props.handleCreate},r.a.createElement(ge.p,{className:"icon"}),Ee.isMobile?null:"T\u1ea1o m\u1edbi"):null,void 0!==this.props.onDropdownFilterBtnClick?r.a.createElement("div",{className:"dropdown_group"},Ee.isMobile?r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"})):r.a.createElement("button",{onClick:this.handleShowFilterDropdown},r.a.createElement(ve.c,{className:"icon"}),"L\u1ecdc"),r.a.createElement(Me,{onHideDropDown:this.handleHideFilterDropdown,visible:this.state.filter_dropdown_visible,onFilter:this.props.onDropdownFilterBtnClick})):null,void 0!==this.props.handleAddProduct&&null!==this.props.handleAddProduct?r.a.createElement("button",{onClick:this.props.handleAddProduct},r.a.createElement(ge.p,{className:"icon"}),Ee.isMobile?null:"Th\xeam s\u1ea3n ph\u1ea9m"):null,void 0!==this.props.handlePrintBill?r.a.createElement("button",{onClick:this.props.handlePrintBill},r.a.createElement(ve.e,{className:"icon"}),Ee.isMobile?null:"In h\xf3a \u0111\u01a1n"):null,null!==this.props.handleSave&&void 0!==this.props.handleSave?r.a.createElement("button",{onClick:this.props.handleSave},r.a.createElement(ve.f,{className:"icon"}),Ee.isMobile?null:"L\u01b0u"):null,null!==this.props.handleRestore&&void 0!==this.props.handleRestore?r.a.createElement("button",{onClick:this.props.handleRestore},r.a.createElement(ye.b,{className:"icon"}),Ee.isMobile?null:"Kh\xf4i ph\u1ee5c \u0111\u01a1n h\xe0ng"):null,null!==this.props.handleRemove&&void 0!==this.props.handleRemove?r.a.createElement("button",{onClick:this.props.handleRemove},r.a.createElement(ve.b,{className:"icon"}),Ee.isMobile?null:"X\xf3a"):null,void 0!==this.props.handleCalendarFilter?r.a.createElement("select",{ref:"branch",onChange:this.props.handleCalendarFilter},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Chi nh\xe1nh"),r.a.createElement("option",{value:"all"},"T\u1ea5t c\u1ea3"),this.state.branch.map((function(e,t){return r.a.createElement("option",{value:e.ten_chi_nhanh},e.ten_chi_nhanh)}))):null,void 0!==this.props.onSearchKeyPress&&Ee.isMobile?r.a.createElement("button",{onClick:function(){t.setState({searching:!0})}},r.a.createElement(ve.g,{className:"icon"})):null,void 0!==this.props.onSearchKeyPress?r.a.createElement("div",{className:"search_box"},r.a.createElement(ve.g,{className:"icon"}),r.a.createElement("input",{type:"text",ref:"search",placeholder:"T\xecm ki\u1ebfm",onKeyUp:function(e){return t.props.onSearchKeyPress(e.target.value)}}),void 0!=this.props.autocomplete_data?r.a.createElement("div",{className:"autocomplete_container"},r.a.createElement("ul",null,this.props.autocomplete_data.map((function(e,t){return console.log(e),r.a.createElement("li",null,r.a.createElement(s.b,{to:"bill_edit/".concat(e._id)},e.title,r.a.createElement("br",null),r.a.createElement("br",null),"Ng\xe0y: ",e.ngay_chup,r.a.createElement("br",null),"Gi\u1edd ch\u1ee5p: ",e.gio_chup))})))):null):null))):r.a.createElement("div",null)}}]),a}(n.Component),Ae=(a(316),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return null===this.props.data?r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null)):r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,null,"STT"),r.a.createElement(ue.Cell,null,"Chi Nh\xe1nh"),r.a.createElement(ue.Cell,null,"Gi\u1edd Ch\u1ee5p"),r.a.createElement(ue.Cell,null,"Ng\xe0y Ch\u1ee5p"),r.a.createElement(ue.Cell,null,"T\xean Kh\xe1ch H\xe0ng"),r.a.createElement(ue.Cell,null,"S\u0110T"),r.a.createElement(ue.Cell,null,"H\u1ecd T\xean B\xe9"),r.a.createElement(ue.Cell,null,"T\u1ed5ng"),r.a.createElement(ue.Cell,null,"\u0110\xe3 Thu"),r.a.createElement(ue.Cell,null,"C\xf2n N\u1ee3"),r.a.createElement(ue.Cell,null,"T\xecnh Tr\u1ea1ng"),r.a.createElement(ue.Cell,null,"Ng\xe0y Giao"),r.a.createElement(ue.Cell,null,"Ghi Ch\xfa")),this.props.data.map((function(t,a){var n,c,l=t.ngay_chup;l=l?2==l.split("-")[0].length?l:l.split("-")[2]+"-"+l.split("-")[1]+"-"+l.split("-")[0]:null;var o=t.ngay_giao_hinh;return r.a.createElement(ue.Row,{className:"row"},r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},a+1)),r.a.createElement(ue.Cell,null,r.a.createElement("div",{className:"row",style:{backgroundColor:t.chi_nhanh.color}},r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.chi_nhanh.ten_chi_nhanh))),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.gio_chup)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},l)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.ten_khach_hang)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.so_dien_thoai)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.ho_ten_be)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},te(t.tong)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},te(t.dat_coc_1+t.thanh_toan_l1_1+t.thanh_toan_l2_1+(t.thanh_toan_l3_1?t.thanh_toan_l3_1:0))," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},te(t.con_no)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement("div",{className:"row",style:{backgroundColor:null===(n=t.tinh_trang)||void 0===n?void 0:n.color}},r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},null===(c=t.tinh_trang)||void 0===c?void 0:c.ten_tinh_trang))),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},o)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:e.props.isDelete?"bill_restore/".concat(t._id):"bill_edit/".concat(t._id)},t.ghi_chu)))}),this))))}}]),a}(n.Component)),Re=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return this.props.data?r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table",style:{margin:"0"}},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),r.a.createElement(ue.Cell,null,"Ng\xe0y Chi"),r.a.createElement(ue.Cell,null,"N\u1ed9i Dung"),r.a.createElement(ue.Cell,null,"S\u1ed1 Ti\u1ec1n"),r.a.createElement(ue.Cell,null,"Tr\u1ea1ng Th\xe1i Thanh To\xe1n"),r.a.createElement(ue.Cell,null,"Ng\u01b0\u1eddi Chi")),this.props.data.map((function(e,t){var a=e.date_created.split("T")[0].split("-");return a=2==a[0].length?e.date_created.split("T")[0]:a[2]+"-"+a[1]+"-"+a[0],r.a.createElement(ue.Row,{className:"row"},r.a.createElement(ue.Cell,null,t+1),r.a.createElement(ue.Cell,null,a),r.a.createElement(ue.Cell,null,e.noi_dung),r.a.createElement(ue.Cell,null,e.so_tien?te(e.so_tien):0," \u0111"),r.a.createElement(ue.Cell,null,0==e.type?"Chuy\u1ec3n kho\u1ea3n":"Ti\u1ec1n m\u1eb7t"),r.a.createElement(ue.Cell,null,e.user_id.ho_ten))}))))):r.a.createElement("div",null)}}]),a}(n.Component)),Ue=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table"},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,{style:{width:"32px"}},"STT"),r.a.createElement(ue.Cell,null,"H\u1ecd T\xean"),r.a.createElement(ue.Cell,null,"S\u0110T"),r.a.createElement(ue.Cell,null,"CH\u1ee8C V\u1ee4"),r.a.createElement(ue.Cell,null,"L\u01af\u01a0NG CB")),this.props.data.map((function(t,a){new Date(t.ngay_sinh);return r.a.createElement(ue.Row,{className:"row"},r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"staff_edit/".concat(t._id)},a+1)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"staff_edit/".concat(t._id)},t.ho_ten)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"staff_edit/".concat(t._id)},t.so_dien_thoai)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"staff_edit/".concat(t._id)},e.props.perms[ae(e.props.perms,"_id",t.chuc_vu)]?e.props.perms[ae(e.props.perms,"_id",t.chuc_vu)].ten_nhom:null)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"staff_edit/".concat(t._id)},t.luong_co_ban)))})))))}}]),a}(n.Component),Ye=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={bill:null},Q.Bill.getAll().then((function(e){var t=e.data;n.setState({bill:t})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.props.data?r.a.createElement("div",{className:"table_view"},r.a.createElement("div",{className:"table",style:{margin:"20px"}},r.a.createElement(ue.StickyTable,null,r.a.createElement(ue.Row,{className:"header"},r.a.createElement(ue.Cell,null,"STT"),r.a.createElement(ue.Cell,null,"Chi Nh\xe1nh"),r.a.createElement(ue.Cell,null,"Gi\u1edd Ch\u1ee5p"),r.a.createElement(ue.Cell,null,"Ng\xe0y Ch\u1ee5p"),r.a.createElement(ue.Cell,null,"T\xean Kh\xe1ch H\xe0ng"),r.a.createElement(ue.Cell,null,"S\u0110T"),r.a.createElement(ue.Cell,null,"H\u1ecd T\xean B\xe9"),r.a.createElement(ue.Cell,null,"T\u1ed5ng"),r.a.createElement(ue.Cell,null,"\u0110\xe3 Thu"),r.a.createElement(ue.Cell,null,"Thu Trong Ng\xe0y"),r.a.createElement(ue.Cell,null,"C\xf2n N\u1ee3"),r.a.createElement(ue.Cell,null,"T\xecnh Tr\u1ea1ng"),r.a.createElement(ue.Cell,null,"Ghi Ch\xfa")),this.props.data.map((function(t,a){var n,c,l=t.ngay_chup.split("-");return l=2!==l[0].length?l[2]+"-"+l[1]+"-"+l[0]:l[0]+"-"+l[1]+"-"+l[2],r.a.createElement(ue.Row,{className:"row"},r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},a+1)),r.a.createElement(ue.Cell,null,r.a.createElement("div",{className:"row",style:{backgroundColor:t.chi_nhanh.color}},r.a.createElement(s.b,{to:"/bill_edit/".concat(t._id)},t.chi_nhanh.ten_chi_nhanh))),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},t.gio_chup)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},l)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},t.ten_khach_hang)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},t.so_dien_thoai)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},t.ho_ten_be)),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},te(t.tong)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},te(t.daThu)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},te(t.daThuToday)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},te(t.con_no)," \u0111")),r.a.createElement(ue.Cell,null,r.a.createElement("div",{className:"row",style:{backgroundColor:null===(n=t.tinh_trang)||void 0===n?void 0:n.color}},r.a.createElement(s.b,{to:e.props.isDelete?"/bill_restore/".concat(t._id):"/bill_edit/".concat(t._id)},null===(c=t.tinh_trang)||void 0===c?void 0:c.ten_tinh_trang))),r.a.createElement(ue.Cell,null,r.a.createElement(s.b,{to:"bill_edit/".concat(t._id)},t.ghi_chu)))}),this)))):r.a.createElement("div",null)}}]),a}(n.Component)),Ge=a(120),Ke=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){n.state.typingTimeout&&clearTimeout(n.state.typingTimeout);var t=Object(Ie.a)(n);n.setState({typing:!1,typingTimeout:setTimeout((function(){t.search(e)}),500)})},n.search=function(e){var t=JSON.parse(localStorage.getItem("branch_selected")||"[]");Q.Bill.getAll().then((function(a){var r=a.data.sort((function(e,t){return new Date(ne(t.ngay_chup))-new Date(ne(e.ngay_chup))}));r=r.filter((function(e,a){return parseInt(e.ngay_chup.split("-")[1])-1===(new Date).getMonth()&&(parseInt(e.ngay_chup.split("-")[2])===(new Date).getFullYear()&&(!(t.indexOf(e.chi_nhanh._id)<=-1)&&!e.deleted))})),""===e&&n.setState({bill:r});var c=r.filter((function(t,a){return!t.deleted&&(re(t.ten_khach_hang).toLowerCase().indexOf(re(e).toLowerCase())>-1||(re(t.ho_ten_be).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.so_dien_thoai).toLowerCase().indexOf(re(e).toLowerCase())>-1))}));n.setState({bill:c})}),Object(Ie.a)(n)).catch((function(e){return console.log(e)}))},n.handleDownloadBills=Object(u.a)(i.a.mark((function e(){var t,a,r,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.bill.map((function(e,t){return[t+1,null===e||void 0===e?void 0:e.chi_nhanh.ten_chi_nhanh,null===e||void 0===e?void 0:e.gio_chup,null===e||void 0===e?void 0:e.ngay_chup,null===e||void 0===e?void 0:e.ten_khach_hang,null===e||void 0===e?void 0:e.so_dien_thoai,null===e||void 0===e?void 0:e.ho_ten_be,null===e||void 0===e?void 0:e.tong,0,null===e||void 0===e?void 0:e.con_no,e.tinh_trang.ten_tinh_trang,e.ngay_giao_hinh,e.ghi_chu]})),a=Ge.a.createExcel(["STT","Chi nh\xe1nh","Gi\u1edd ch\u1ee5p","Ng\xe0y ch\u1ee5p","T\xean kh\xe1ch h\xe0ng","S\u0110T","H\u1ecd t\xean b\xe9","T\u1ed5ng","\u0110\xe3 thu","C\xf2n n\u1ee3","T\xecnh tr\u1ea1ng","Ng\xe0y giao","Ghi ch\xfa"],t),r=new Date,c="DS_Don_Hang_".concat(r.getDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),(s=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(l)),s.setAttribute("download",c),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s);case 12:case"end":return e.stop()}}),e)}))),n.state={bill:null,default_bill_data:null,typing:!1,typingTimeout:0},n.handleFilter=n.handleFilter.bind(Object(Ie.a)(n)),n.fetchData(),n}return Object(y.a)(a,[{key:"fetchData",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("branch_selected")||"[]"),e.next=3,Q.Bill.getAll().then((function(e){var a=e.data;a=a.filter((function(e,a){return parseInt(e.ngay_chup.split("-")[1])-1===(new Date).getMonth()&&(parseInt(e.ngay_chup.split("-")[2])===(new Date).getFullYear()&&(!(t.indexOf(e.chi_nhanh._id)<=-1)&&!e.deleted))})),n.setState({bill:a,default_bill_data:a})})).catch((function(e){return console.log(e)}));case 3:a=JSON.parse(localStorage.getItem("bill_filter"))||{photo:"all",photoshop:"all",support:"all",tinh_trang:"all",date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1),year:(new Date).getFullYear(),month:(new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1},this.handleFilter(a.photo,a.support,a.tinh_trang,a.month,a.year,a.photoshop);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFilter",value:function(e,t,a,n,r,c){var l=this,s=JSON.parse(localStorage.getItem("branch_selected")||"[]");Q.Bill.getAll().then((function(o){var i=o.data.filter((function(l,o){return!(s.indexOf(l.chi_nhanh._id)<=-1)&&(("all"===e||l.photo===e)&&(("all"===t||l.support===t)&&(("all"===c||l.photoshop===c)&&(("all"===a||l.tinh_trang._id===a)&&(("all"===n||parseInt(l.ngay_chup.split("-")[1])===parseInt(n))&&(("all"===r||new Date(ne(l.ngay_chup)).getFullYear().toString()===r.toString())&&!l.deleted))))))}));l.setState({bill:i,default_bill_data:i})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.bill||this.state.default_bill_data?r.a.createElement("div",null,r.a.createElement(Pe,{onDownload:this.handleDownloadBills,title:"\u0110\u01a1n H\xe0ng",onDropdownFilterBtnClick:this.handleFilter,onSearchKeyPress:this.handleSearch}),r.a.createElement(Ae,{data:this.state.bill,type:"0"})):r.a.createElement("div",null)}}]),a}(n.Component),He=(a(317),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={perms:null,chuc_vu:null,history:null},n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component)),Ve=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card analytics",style:this.props.onClick?{cursor:"pointer"}:null,onClick:this.props.onClick},r.a.createElement("div",{className:"value_container "+this.props.type},r.a.createElement("p",null,"da_thu"===this.props.type?"\u0110\xe3 thu":"tong"===this.props.type||"vi_tien"==this.props.type?"T\u1ed5ng":"da_chi"===this.props.type?"\u0110\xe3 chi":"con_giu"===this.props.type?"C\xf2n gi\u1eef":"C\xf2n n\u1ee3"),r.a.createElement("h1",null,this.props.value," \u0111"),"da_thu"===this.props.type?r.a.createElement("p",null,"CK: ",this.props.chuyen_khoan_num," \u0111"):null,"da_thu"===this.props.type?r.a.createElement("p",null,"TM: ",this.props.tien_mat_num," \u0111"):null,"da_chi"===this.props.type?r.a.createElement("p",null,"CK: ",this.props.chuyen_khoan_num," \u0111"):null,"da_chi"===this.props.type?r.a.createElement("p",null,"TM: ",this.props.tien_mat_num," \u0111"):null,"con_giu"===this.props.type?r.a.createElement("p",null,"CK: ",this.props.chuyen_khoan_num," \u0111"):null,"con_giu"===this.props.type?r.a.createElement("p",null,"TM: ",this.props.tien_mat_num," \u0111"):null,"vi_tien"===this.props.type?r.a.createElement("p",null,"\u0110\u1ecba Ch\u1ec9 V\xed: ",this.props.dia_chi_vi):null))}}]),a}(n.Component),Je=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return"0"===this.props.type?r.a.createElement("div",{className:"card product add_new"},r.a.createElement("a",null,"Th\xeam m\u1edbi")):r.a.createElement("div",{className:"card product"},r.a.createElement("p",{className:"title"},this.props.title),r.a.createElement("p",{className:"sub_title"},this.props.sub_title),r.a.createElement("div",{className:"card_image",style:{background:"url("+this.props.image+") no-repeat center center / cover"}}))}}]),a}(n.Component),Qe=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Pe,{title:"S\u1ea3n Ph\u1ea9m"}),r.a.createElement("div",{className:"product_container"},r.a.createElement(Je,{type:"0"}),r.a.createElement(Je,{type:"1",image:"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2",title:"Baby Ti\u1ebft Ki\u1ec7m",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg",title:"Baby C\u01a1 B\u1ea3n",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg",title:"K\xe8m Ba M\u1eb9",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg",title:"Ch\u1ec9nh S\u1eeda Baby",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2",title:"Baby Cao C\u1ea5p",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg",title:"New Born C\u01a1 B\u1ea3n",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg",title:"New Born Cao C\u1ea5p",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2",title:"B\u1ea7u",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg",title:"Gia \u0110\xecnh",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2",title:"Baby Ngo\u1ea1i C\u1ea3nh",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg",title:"Ch\u1ec9nh S\u1eeda Gia \u0110\xecnh",sub_title:"1.000.000 \u0111"}),r.a.createElement(Je,{type:"1",image:"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg",title:"Ch\u1ec9nh S\u1eeda New Born",sub_title:"1.000.000 \u0111"})))}}]),a}(n.Component),We=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){window.location.reload()},n.handleLogout=function(){localStorage.clear(),n.setState({success:!0}),window.location.reload()},n.state={success:!1},n.handleLogout(),n}return Object(y.a)(a,[{key:"render",value:function(){return this.state.success?r.a.createElement(d.a,{to:"/login"}):r.a.createElement("div",null)}}]),a}(n.Component),Xe=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleLoadBonus=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.PackageType.getSlug("goi_chup").then((function(e){Q.Package.getType(e.data._id).then((function(e){var t=e.data;n.setState({goi_chup:t})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),Q.PackageType.getSlug("dich_vu").then((function(e){Q.Package.getType(e.data._id).then((function(e){var t=e.data;n.setState({dich_vu:t})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.setState({date:e})},n.handleSave=function(){var e={luong_co_ban:n.refs.luong_co_ban.value,ngay_cong:n.refs.ngay_cong.value,phan_tram_thuong_dich_vu_tu_van:parseInt(n.refs.phan_tram_thuong_dich_vu_tu_van.value),phan_tram_thuong_goi_chup_photo:parseInt(n.refs.phan_tram_thuong_goi_chup_photo.value),phan_tram_thuong_goi_chup_tu_van:parseInt(n.refs.phan_tram_thuong_goi_chup_tu_van.value),date_created:n.state.date_filter};Q.StaffSalary.update(n.props.data._id,e).then((function(e){n.setState({redirect:!0})}))},n.salaryLoad=function(e,t,a){ce(e,t,a,(function(e){n.setState({history:e}),n.refs.luong_co_ban.value=e.luong_co_ban,n.refs.ngay_cong.value=e.ngay_cong,n.refs.phan_tram_thuong_dich_vu_tu_van.value=e.phan_tram_thuong_dich_vu_tu_van,n.refs.phan_tram_thuong_goi_chup_photo.value=e.phan_tram_thuong_goi_chup_photo,n.refs.phan_tram_thuong_goi_chup_tu_van.value=e.phan_tram_thuong_goi_chup_tu_van,n.refs.phan_tram_thuong_goi_chup_tu_van.value=e.phan_tram_thuong_goi_chup_tu_van,n.refs.luong_thang.value=te(e.luong_thang),n.refs.tong_doanh_thu.value=te(e.total_photo),n.refs.thuong_dich_vu.value=te(e.total_service),n.refs.tong_thuong.value=te(e.total),n.refs.thuc_lanh.value=te(e.thuc_lanh)}))},n.handleFilter=function(e){var t=e.split("-");n.salaryLoad(n.props.data,t[0],parseInt(t[1])-1),n.setState({date_filter:t[0]+"-"+(parseInt(t[1])-1)})},n.SalaryTableCalculate=function(e,t,a){le(e,t,a,(function(e){n.setState({history:e}),n.refs.luong_co_ban.value=e.luong_co_ban,n.refs.ngay_cong.value=e.ngay_cong,n.refs.phan_tram_thuong_dich_vu_tu_van.value=e.phan_tram_thuong_dich_vu_tu_van,n.refs.phan_tram_thuong_goi_chup_photo.value=e.phan_tram_thuong_goi_chup_photo,n.refs.phan_tram_thuong_goi_chup_tu_van.value=e.phan_tram_thuong_goi_chup_tu_van,n.refs.phan_tram_thuong_goi_chup_tu_van.value=e.phan_tram_thuong_goi_chup_tu_van,n.refs.luong_thang.value=te(e.luong_thang),n.refs.tong_doanh_thu.value=te(e.total_photo),n.refs.thuong_dich_vu.value=te(e.total_service),n.refs.tong_thuong.value=te(e.total),n.refs.thuc_lanh.value=te(e.thuc_lanh)}))},n.onInputChange=function(e,t){var a=n.state.history;a[t]="ngay_cong"==t?e.target.value:parseInt(e.target.value),("phan_tram_thuong_goi_chup_tu_van"===t||"phan_tram_thuong_goi_chup_photo"===t||"phan_tram_thuong_dich_vu_tu_van"===t||"luong_co_ban"===t)&&n.setState({history:a}),n.SalaryTableCalculate(n.state.history,n.state.date_filter.split("-")[0],n.state.date_filter.split("-")[1])},n.state={chuc_vu:null,date:n.props.data?new Date(n.props.data.ngay_sinh):new Date,date_filter:(new Date).getFullYear()+"-"+parseInt((new Date).getMonth()),redirect:!1},Q.Permission.getUserPerm((function(e){n.setState({chuc_vu:e.data})})),n.SalaryTableCalculate(n.props.data,(new Date).getFullYear(),parseInt((new Date).getMonth())),n.handleLoadBonus(),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.data)return r.a.createElement("div",null);if(this.state.redirect)return r.a.createElement(d.a,{to:"staff_salary"});var t=this.props.perms[ae(this.props.perms,"_id",localStorage.getItem("chuc_vu"))].permisisons.staff_salary;return r.a.createElement("div",{className:"product_list_form_container"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"L\u01b0\u01a1ng C\u01a1 B\u1ea3n"),r.a.createElement("input",{className:"textbox",onChange:function(t){return e.onInputChange(t,"luong_co_ban")},ref:"luong_co_ban",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ng\xe0y C\xf4ng"),r.a.createElement("input",{className:"textbox",onChange:function(t){return e.onInputChange(t,"ngay_cong")},ref:"ngay_cong",type:"text",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"L\u01b0\u01a1ng Th\xe1ng"),r.a.createElement("input",{className:"textbox",ref:"luong_thang",type:"text",disabled:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"% Th\u01b0\u1edfng Doanh Thu T\u01b0 V\u1ea5n (G\xf3i ch\u1ee5p)"),r.a.createElement("input",{className:"textbox",onChange:function(t){return e.onInputChange(t,"phan_tram_thuong_goi_chup_tu_van")},ref:"phan_tram_thuong_goi_chup_tu_van",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"% Th\u01b0\u1edfng Doanh Thu Photo (G\xf3i ch\u1ee5p)"),r.a.createElement("input",{className:"textbox",onChange:function(t){return e.onInputChange(t,"phan_tram_thuong_goi_chup_photo")},ref:"phan_tram_thuong_goi_chup_photo",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Th\u01b0\u1edfng Doanh Thu"),r.a.createElement("input",{className:"textbox",ref:"tong_doanh_thu",type:"text",disabled:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"% Th\u01b0\u1edfng Doanh Thu T\u01b0 V\u1ea5n (D\u1ecbch V\u1ee5)"),r.a.createElement("input",{className:"textbox",onChange:function(t){return e.onInputChange(t,"phan_tram_thuong_dich_vu_tu_van")},ref:"phan_tram_thuong_dich_vu_tu_van",type:"number",disabled:"1"==t[2]?"":"disabled"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Th\u01b0\u1edfng D\u1ecbch V\u1ee5"),r.a.createElement("input",{className:"textbox",ref:"thuong_dich_vu",type:"text",disabled:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\u1ed5ng Th\u01b0\u1edfng"),r.a.createElement("input",{className:"textbox",ref:"tong_thuong",type:"text",disabled:!0})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Th\u1ef1c L\xe3nh"),r.a.createElement("input",{className:"textbox",ref:"thuc_lanh",type:"text",disabled:!0}))),r.a.createElement("div",{className:"column"},r.a.createElement(He,{data:this.props.data,history:this.state.history})))}}]),a}(n.Component),ze=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSave=function(){n.refs.staff_form.handleSave()},n.saveStaff=function(e){if("create_new"!==n.props.match.params.id){e.date_created=n.state.data.date_created}},n.handleRemove=function(){},n.handleFilter=function(e){n.refs.staff_form.handleFilter(e)},n.state={data:null,redirect:!1,perms:null},"create_new"!==n.props.match.params.id&&Q.Staff.get("".concat(n.props.match.params.id)).then((function(e){n.setState({data:e.data})})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.data&&this.state.perms?this.state.redirect?r.a.createElement(d.a,{to:"/staff_salary"}):r.a.createElement("div",{className:"view"},r.a.createElement(Fe,{create_btn_link:null,onDropdownFilterSalaryBtnClick:this.handleFilter,handleSalaryFilter:this.handleFilter,handleRemove:null,onGoBack:function(){return e.props.history.goBack()},title:"L\u01b0\u01a1ng Nh\xe2n Vi\xean",handleSave:"1"==this.state.perms[ae(this.state.perms,"_id",localStorage.getItem("chuc_vu"))].permisisons.staff_salary[2]?this.handleSave:null}),r.a.createElement(Xe,{ref:"staff_form",data:this.state.data,perms:this.state.perms,onSave:this.saveStaff,history:this.state.history})):r.a.createElement("div",null)}}]),a}(n.Component)),qe=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleRestore=function(e){var t=new FormData,a=e.target.files[0];t.append("file",a)},n.state={},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"settings_view"},localStorage.getItem("chuc_vu")?r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Sao L\u01b0u"}):null,r.a.createElement("div",{className:"settings_container"},r.a.createElement("a",{className:"setting_card",href:"/create_backup",target:"_download",style:{cursor:"pointer"}},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.i,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"T\u1ea1o B\u1ea3n Sao L\u01b0u")),r.a.createElement("label",{className:"setting_card",htmlFor:"backup_file",style:{display:"flex",cursor:"pointer"}},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.b,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Nh\u1eadp D\u1eef Li\u1ec7u")),r.a.createElement("input",{type:"file",name:"backup_file",id:"backup_file",style:{display:"none"},onChange:this.handleRestore})))}}]),a}(n.Component),$e=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).fetchData=function(){n.setState({modal_is_open:"false",edit_modal_is_open:"false",data_goi_chup:null,goi_chup_type_id:null,loading:!1,edit_id:null,perms:null}),Q.PackageType.getSlug(n.props.match.params.type).then((function(e){Q.Package.getType(e.data._id).then((function(t){var a=t.data;a=a.sort((function(e,t){return e.ten_goi.localeCompare(t.ten_goi)})),n.setState({goi_chup_type_id:e.data._id,data_goi_chup:a})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)}))},n.handleOpenModal=function(){n.refs.ten_goi.value="",n.refs.gia.value="",n.setState({modal_is_open:"true"})},n.handleOpenEditModal=function(e){Q.Package.get(e).then((function(t){var a=t.data;n.refs.ten_goi.value=a.ten_goi,n.refs.gia.value=a.gia,n.refs.description.value=a.description||"",n.refs.soLuong.value=a.soLuong,n.setState({modal_is_open:"true",edit_id:e})})).catch((function(e){return console.log(e)}))},n.handleSearch=function(e){""===e&&Q.PackageType.getSlug(n.props.match.params.type).then((function(e){Q.Package.getType(e.data._id).then((function(e){n.setState({data_goi_chup:e.data})}))})),Q.PackageType.getSlug(n.props.match.params.type).then((function(t){Q.Package.getType(t.data._id).then((function(t){var a=t.data.reverse().filter((function(t,a){return re(t.ten_goi).toLowerCase().indexOf(re(e).toLowerCase())>-1}));n.setState({data_goi_chup:a})}))}))},n.updateData=function(){Q.Package.getType(n.state.goi_chup_type_id).then((function(e){n.setState({data_goi_chup:e.data,modal_is_open:"false",edit_modal_is_open:"false",loading:!1})})).catch((function(e){return console.log(e)}))},n.handleSave=function(){var e={ten_goi:n.refs.ten_goi.value,gia:n.refs.gia.value,type:n.state.goi_chup_type_id,description:n.refs.description.value,soLuong:n.refs.soLuong.value};n.state.edit_id?Q.Package.update(n.state.edit_id,e).then((function(e){n.updateData()})).catch((function(e){return console.log(e)})):Q.Package.add(e).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}))},n.handleRemove=function(){Q.Package.remove(n.state.edit_id).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}))},n.state={},n.fetchData(),n}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.fetchData()}},{key:"render",value:function(){var e=this;return this.state.data_goi_chup&&this.state.perms?r.a.createElement("div",null,r.a.createElement(Ne,{handleOpenModal:this.handleOpenModal,onSearchKeyPress:this.handleSearch}),r.a.createElement(de,{data:this.state.data_goi_chup,ref:"table",handleOpenModal:this.handleOpenEditModal}),r.a.createElement(Ce,{title:"Th\xeam G\xf3i Ch\u1ee5p",is_open:this.state.modal_is_open,onClose:function(){return e.setState({modal_is_open:"false"})},onSave:"1"==this.state.perms.goi_chup[2]?function(){return e.handleSave()}:null,onRemove:"1"==this.state.perms.goi_chup[3]&&this.state.edit_id?function(){return e.handleRemove()}:null},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean g\xf3i"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_goi"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement("input",{type:"text",className:"textbox",ref:"soLuong"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Gi\xe1"),r.a.createElement("input",{type:"text",className:"textbox",ref:"gia"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Th\xf4ng tin chi ti\u1ebft"),r.a.createElement("textarea",{rows:6,className:"textbox",ref:"description"})))):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Ze=(a(318),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).fetchPackages=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],e.next=4,Q.PackageType.getSlug("goi_chup").then((function(e){var n=e.data._id;Q.Package.getType(n).then((function(e){t=(t=e.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{slug:"goi_chup"})})).sort((function(e,t){return e.ten_goi.localeCompare(t.ten_goi)}))).sort((function(e,t){return e.ten_goi.localeCompare(t.ten_goi)})),a=t}))})).catch((function(e){return console.log(e)}));case 4:return e.next=6,Q.PackageType.getSlug("dich_vu").then((function(e){var r=e.data._id;Q.Package.getType(r).then((function(e){t=(t=[].concat(Object(oe.a)(t),Object(oe.a)(e.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{slug:"dich_vu"})}))))).sort((function(e,t){return e.ten_goi.localeCompare(t.ten_goi)})),n.setState({packages:a,defaultPackages:t,productTonKhoCount:t[0].soLuong-(t[0].soLuongXuat||0)||null})}))})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)}))),n.handleSaveOnclick=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.refs.product_list_form.handleSave();case 2:return e.next=4,n.refs.bill_form.handleSave();case 4:case"end":return e.stop()}}),e)}))),n.handleSave=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.chi_nhanh&&t.ngay_chup&&t.ten_khach_hang){e.next=3;break}return D.warn("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!"),e.abrupt("return");case 3:n.setState({bill_data:t}),n.handleSubmit();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign(n.state.bill_data,n.state.product_data,n.state.products),"create_new"===n.props.match.params.id&&!n.state.is_editting){e.next=6;break}t.date_created=n.state.data.date_created,Q.Bill.update(n.state.editing_id,t).then((function(e){})).catch((function(e){return console.log(e)})),e.next=10;break;case 6:return e.next=8,Q.Bill.add(t);case 8:a=e.sent,n.setState({is_editting:!0,data:a,products:{products:(null===a||void 0===a?void 0:a.products)||[]},product_total:a.tong,editing_id:a._id});case 10:case"end":return e.stop()}}),e)}))),n.handleRemove=function(){var e;(null===(e=n.state.bill_data)||void 0===e?void 0:e.deleted)?Q.Bill.remove(n.props.match.params.id).then((function(e){n.setState({redirect:!0})})).catch((function(e){return console.log(e)})):Q.Bill.update(n.props.match.params.id,{deleted:!0}).then((function(e){n.setState({redirect:!0})})).catch((function(e){return console.log(e)}))},n.handlePrintBill=function(){n.setState({print_bill:!0})},n.handleRestore=function(){Q.Bill.update(n.props.match.params.id,{deleted:!1}).then((function(e){n.setState({redirect:!0})})).catch((function(e){return console.log(e)}))},n.handleOpenAddProductModal=function(){n.setState({is_modal_open:"true"})},n.handleOpenEditProductModal=function(e){var t=Object(m.a)({},n.state.products.products);t[e].id=e,t=t[e],n.refs.giam_gia_san_pham.value=t.giam_gia||"",n.refs.ten_san_pham.value=t._id,n.refs.so_luong_san_pham.value=t.so_luong,n.setState({is_modal_open:"true",edit_id:e})},n.handleClearProductForm=function(){n.refs.so_luong_san_pham.value="",n.refs.giam_gia_san_pham.value=""},n.handleSaveProduct=function(){if(n.state.productTonKhoCount<0)D.error("S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n kho v\u01b0\u1ee3t qu\xe1 gi\u1edbi h\u1ea1n");else{var e=n.state.packages.filter((function(e,t){return e._id==n.refs.ten_san_pham.value})),t=parseInt(n.refs.giam_gia_san_pham.value.toString().replace(/\.|\,/g,"")),a={chiet_khau:0,so_luong:n.refs.so_luong_san_pham.value,_id:e[0]._id,ten_goi:e[0].ten_goi,giam_gia:t,gia:e[0].gia,description:e[0].description};if(null!=n.state.edit_id&&n.state.edit_id>=0){var r=n.state.products.products;n.refs.product_list_form.handleUpdateConNoAfterChangeProduct(r[n.state.edit_id],a);var c=0;r[n.state.edit_id]=a,r.map((function(e,t){c+=parseInt(e.gia)*parseInt(e.so_luong)*((100-parseInt(e.chiet_khau))/100)-parseInt(e.giam_gia?e.giam_gia:0)})),n.setState({products:{products:r},product_total:c,edit_id:null,is_modal_open:"false"})}else{var l=n.state.products,s=0;l.products.push(a),l.products.map((function(e,t){s+=parseInt(e.gia)*parseInt(e.so_luong)*((100-parseInt(e.chiet_khau))/100)-(e.giam_gia?parseInt(e.giam_gia):0)})),n.setState({products:l,product_total:s,is_modal_open:"false"}),n.refs.product_list_form.handleUpdateConNo(a)}n.handleClearProductForm()}},n.handleRemoveProduct=function(){var e=n.state.products.products.filter((function(e,t){return t!==n.state.edit_id})),t=n.state.products.products[n.state.edit_id];t.gia=parseInt("-"+t.gia),n.refs.product_list_form.handleUpdateConNo(t);var a=0;e.map((function(e,t){a+=parseInt(e.gia)*parseInt(e.so_luong)*((100-parseInt(e.chiet_khau))/100)})),n.setState({products:{products:e},product_total:a,is_modal_open:"false"})},n.handleSavePayment=function(e){n.setState({product_data:e})},n.changeProductSlug=function(e){var t=e.currentTarget.value,a=Object(oe.a)(n.state.packages);a=n.state.defaultPackages.filter((function(e){return e.slug==t})),n.setState({packages:a})},n.state={bill_data:null,product_data:[],products:{products:[]},product_total:0,edit_data:null,data:null,is_modal_open:"false",is_edit_modal_open:"false",redirect:!1,perms:null,date:n.props.match.params.date,print_bill:!1,user_edited_name:null,is_editting:!1,editing_id:null,packages:null,defaultPackages:[],productTonKhoCount:0},"create_new"!==n.props.match.params.id&&Q.Bill.get(n.props.match.params.id).then((function(e){var t,a=e.data;n.setState({data:a,user_edited_name:"\u0110\u01b0\u1ee3c ch\u1ec9nh s\u1eeda b\u1edfi ".concat(null===(t=a.user_id)||void 0===t?void 0:t.ho_ten),products:{products:a.products},product_total:a.tong,editing_id:n.props.match.params.id,is_editting:!a.deleted})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n.fetchPackages(),n}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this;return(this.state.data||"create_new"===this.props.match.params.id)&&this.state.perms&&this.state.packages?this.state.redirect?"bill_restore"===window.location.pathname.split("/")[1]?r.a.createElement(d.a,{to:"/trash"}):r.a.createElement(d.a,{to:"/"}):this.state.print_bill?r.a.createElement(d.a,{to:"../bill_print/".concat(this.state.editing_id)}):r.a.createElement("div",{className:"bill_edit_view"},this.state.is_editting?r.a.createElement(Fe,{goHistory:"../bill_history/".concat(this.props.match.params.id),customTitle:this.state.user_edited_name,handlePrintBill:this.handlePrintBill,onGoBack:function(){return t.props.history.goBack()},handleRemove:"1"==this.state.perms.bill[3]?this.handleRemove:null,title:"\u0110\u01a1n H\xe0ng",back_link:"/",handleSave:this.handleSaveOnclick,handleAddProduct:this.handleOpenAddProductModal}):"create_new"==this.props.match.params.id?r.a.createElement(Fe,{customTitle:this.state.user_edited_name,onGoBack:function(){return t.props.history.goBack()},title:"\u0110\u01a1n H\xe0ng",back_link:"/",handleSave:"1"==this.state.perms.bill[1]?this.handleSaveOnclick:null,handleAddProduct:this.handleOpenAddProductModal}):r.a.createElement(Fe,{customTitle:this.state.user_edited_name,onGoBack:function(){return t.props.history.goBack()},handleRestore:"1"==this.state.perms.trash[2]?this.handleRestore:null,handleRemove:"1"==this.state.perms.trash[3]?this.handleRemove:null,title:"Th\xf9ng R\xe1c",back_link:"/"}),r.a.createElement(se,{date:this.state.date,perms:this.state.perms,ref:"bill_form",onSave:this.handleSave,data:this.state.data}),r.a.createElement("h1",{className:"view_header",style:{marginTop:"64px",marginLeft:"16px"}},"Danh S\xe1ch S\u1ea3n Ph\u1ea9m"),r.a.createElement("div",{className:"product_list_container",style:{display:"fles"}},r.a.createElement(me,{data:this.state.products.products,onEdit:this.handleOpenEditProductModal}),r.a.createElement(ie,{perms:this.state.perms,ref:"product_list_form",data:this.state.data,product_total:this.state.product_total,handleSavePayment:this.handleSavePayment,onSave:this.handleSaveProduct})),r.a.createElement(Ce,{title:"S\u1ea3n Ph\u1ea9m",is_open:this.state.is_modal_open,onClose:null!=this.state.edit_id&&this.state.edit_id>=0?null:function(){return t.setState({is_modal_open:"false"})},onSave:"1"==this.state.perms.bill[2]?function(){return t.handleSaveProduct()}:null,onRemove:"1"==this.state.perms.bill[3]&&null!=this.state.edit_id&&this.state.edit_id>=0?function(){return t.handleRemoveProduct()}:null},r.a.createElement("div",{className:"box",style:{width:"215px"}},r.a.createElement("span",{className:"title"},"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.a.createElement("select",{onChange:this.changeProductSlug},r.a.createElement("option",{value:"goi_chup",selected:!0},"G\xf3i ch\u1ee5p"),r.a.createElement("option",{value:"dich_vu"},"D\u1ecbch v\u1ee5")),r.a.createElement("span",{className:"title"},"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("select",{ref:"ten_san_pham",disabled:"1"!=this.state.perms.bill[2],onChange:function(e){var a=t.state.packages[ae(t.state.packages,"_id",e.target.value)],n=t.state.products[ae(t.state.products,"_id",e.target.value)];t.refs.so_luong_san_pham.value=0,t.setState({productTonKhoCount:a.soLuong-(a.soLuongXuat||0)-((null===n||void 0===n?void 0:n.so_luong)||0)||null})}},this.state.packages.map((function(e,t){return r.a.createElement("option",{value:e._id,key:"product-list-item-".concat(t),title:e.description||""},e.ten_goi)})))),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 l\u01b0\u1ee3ng: ( T\u1ed3n kho: ",null!==(e=this.state.productTonKhoCount)&&void 0!==e?e:"Kh\xf4ng gi\u1edbi h\u1ea1n"," )"),r.a.createElement("input",{type:"number",min:"0",className:"textbox",ref:"so_luong_san_pham",disabled:"1"!=this.state.perms.bill[2],defaultValue:1,onChange:function(e){var a,n,r=Number(e.target.value),c=t.state.productTonKhoCount,l=t.state.packages[ae(t.state.packages,"_id",t.refs.ten_san_pham.value)],s=t.state.products.products[ae(t.state.products.products,"_id",t.refs.ten_san_pham.value)];s?c=null!==(a=l.soLuong-Number(s.so_luong)-(r||0))&&void 0!==a?a:null:c=null!==(n=l.soLuong-(r||0))&&void 0!==n?n:null;t.setState({productTonKhoCount:c})}})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Gi\u1ea3m gi\xe1"),r.a.createElement("input",{type:"number",defaultValue:0,className:"textbox",ref:"giam_gia_san_pham",min:"0"})))):r.a.createElement("div",null)}}]),a}(n.Component)),et=(a(319),function(e){var t,a,c=e.match,l=e.history,s=Object(n.useState)(null),o=Object(h.a)(s,2),p=o[0],d=o[1],m=Object(n.useState)(!1),_=Object(h.a)(m,2),f=_[0],g=_[1],v=Object(n.useRef)(0);Object(n.useEffect)((function(){Q.Bill.get(c.params.id).then((function(e){console.log(e.data),d(e.data)})).catch((function(e){return console.log(e)}))}),[]);var b=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),setTimeout(Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.current,e.next=3,window.html2canvas(t);case 3:a=e.sent,n=a.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),(r=document.createElement("a")).href=n,r.download="bill.jpg",r.click(),g(!1);case 10:case"end":return e.stop()}}),e)}))),600);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!p)return null;return r.a.createElement("div",{className:"view bill_print",ref:v,style:{padding:32}},!f&&r.a.createElement("h1",{onClick:l.goBack,className:"view_header",style:{textDecoration:"none",cursor:"pointer",width:"100%",textAlign:"left",marginTop:"32px",marginBottom:"64px"}},r.a.createElement(ve.a,{className:"icon"}),"In H\xf3a \u0110\u01a1n"),r.a.createElement("span",{style:{textAlign:"center",width:"100%",whiteSpace:"pre-wrap"}},null===(t=p.chi_nhanh)||void 0===t?void 0:t.dia_chi),r.a.createElement("h1",null,"H\xd3A \u0110\u01a0N"),r.a.createElement("span",null,"Chi Nh\xe1nh: ",r.a.createElement("span",null,null===(a=p.chi_nhanh)||void 0===a?void 0:a.ten_chi_nhanh)),r.a.createElement("span",null,"Ng\xe0y Ch\u1ee5p: ",r.a.createElement("span",null,p.gio_chup," ",p.ngay_chup)),r.a.createElement("span",null,"Ng\xe0y Giao H\xecnh: ",r.a.createElement("span",null,p.ngay_giao_hinh)),r.a.createElement("span",null,"T\xean Kh\xe1ch H\xe0ng: ",r.a.createElement("span",null,p.ten_khach_hang)),r.a.createElement("span",null,"S\u0110T: ",r.a.createElement("span",null,p.so_dien_thoai)),r.a.createElement("span",null,"\u0110\u1ecba Ch\u1ec9: ",r.a.createElement("span",null,p.dia_chi)),r.a.createElement("span",null,"H\u1ecd T\xean B\xe9:  ",r.a.createElement("span",null,p.ho_ten_be)),r.a.createElement("span",null,"Ng\xe0y Sinh:  ",r.a.createElement("span",null,p.ngay_sinh_be)),r.a.createElement("span",null,"Gi\u1edbi T\xednh: ",r.a.createElement("span",null,["B\xe9 Trai","B\xe9 G\xe1i"][p.gioi_tinh_be]," - ",p.so_tuoi)),r.a.createElement("hr",null),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"S\u1ea3n Ph\u1ea9m"),r.a.createElement("th",null,"\u0110\u01a1n Gi\xe1"),r.a.createElement("th",null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement("th",null,"Gi\u1ea3m Gi\xe1"),r.a.createElement("th",null,"T\u1ed5ng")),p.products.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.ten_goi),r.a.createElement("td",null,te(parseInt(e.gia))),r.a.createElement("td",null,e.so_luong),r.a.createElement("td",null,e.giam_gia?e.giam_gia:0," \u0111"),r.a.createElement("td",null,te(parseInt(e.gia)*parseInt(e.so_luong)-(e.giam_gia?e.giam_gia:0))," \u0111"))}))),r.a.createElement("hr",null),r.a.createElement("span",null,"T\u1ed4NG C\u1ed8NG: ",r.a.createElement("span",null,te(parseInt(p.tong))," \u0111")),r.a.createElement("span",null,"\u0110\u1eb6T C\u1eccC: ",r.a.createElement("span",null,te(parseInt(p.dat_coc[0].value))," \u0111")),p.thanh_toan.map((function(e,t){return r.a.createElement("span",null,"THANH TO\xc1N L\u1ea6N ",t+1,": ",r.a.createElement("span",null,te(parseInt(e.value))," \u0111"))})),r.a.createElement("span",null,"C\xd2N N\u1ee2: ",r.a.createElement("span",null,te(parseInt(p.con_no))," \u0111")),!f&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{className:"btn blue",onClick:function(e){e.target.style.display="none",g(!0),setTimeout((function(){window.print(),g(!1)}),600)}},"IN"),r.a.createElement("button",{className:"btn blue",onClick:b},"L\u01afU \u1ea2NH")))}),tt=(a(320),{add:"\u0110\xe3 th\xeam m\u1edbi",update:"\u0110\xe3 ch\u1ec9nh s\u1eeda",restore:"\u0110\xe3 kh\xf4i ph\u1ee5c"}),at=function(){return r.a.createElement("div",{className:"timeline"},r.a.createElement("div",{className:"timeline__dot"}),r.a.createElement("div",{className:"timeline__date-container"},r.a.createElement("span",{className:"timeline__date-container__value"},"Nov 3, 2022")))},nt=function(e){var t,a,c,l=e.props,s=Object(d.g)().id,o=Object(n.useState)([]),p=Object(h.a)(o,2),m=p[0],_=p[1],f=Object(n.useState)(0),g=Object(h.a)(f,2),v=g[0],b=g[1],E=Object(n.useState)([]),y=Object(h.a)(E,2),k=y[0],N=y[1],C=Object(n.useState)([]),x=Object(h.a)(C,2),w=x[0],O=x[1],S=Object(n.useState)([]),j=Object(h.a)(S,2),T=j[0],I=j[1];Object(n.useEffect)((function(){M()}),[]);var M=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.BillHistories.getAll(s);case 2:return t=(t=e.sent).data.reverse(),_(t),e.next=7,Q.Staff.getAll();case 7:return a=e.sent,N(a.data),e.next=11,Q.Status.getAll();case 11:return n=e.sent,O(n.data),e.next=15,Q.Branch.getAll();case 15:r=e.sent,I(r.data);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.BillHistories.restore(m[v]._id);case 2:D.success("\u0110\xe3 kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng!"),M();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"view bill_history"},r.a.createElement(Fe,{onGoBack:function(){return l.history.goBack()},title:"\u0110\u01a1n H\xe0ng",back_link:"/"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col"},r.a.createElement(Te,null,r.a.createElement("h1",null,"Details"),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\u01b0\u1eddi ch\u1ec9nh s\u1eeda: "),r.a.createElement("span",null,null===(t=m[v])||void 0===t?void 0:t.author.ho_ten)),r.a.createElement("span",null,r.a.createElement("b",null,"Th\u1eddi gian: "),r.a.createElement("span",null,null===(a=m[v])||void 0===a?void 0:a.date_created)),r.a.createElement("hr",null),Object.keys((null===(c=m[v])||void 0===c?void 0:c.data)||{}).map((function(e,t){if("_id"!=e&&"deleted"!=e&&"date_created"!=e){var a=e,n=m[v].data[e],c=function(e,t){var a,n,r={user_id:{name:"Ng\u01b0\u1eddi t\u1ea1o",data:k,findKey:"_id",valKey:"ho_ten"},giam_gia:{name:"Gi\u1ea3m gi\xe1"},con_no:{name:"C\xf2n n\u1ee3"},tong:{name:"T\u1ed5ng"},ngay_giao_hinh:{name:"Ng\xe0y giao h\xecnh"},tinh_trang:{name:"T\xecnh tr\u1ea1ng",data:w,findKey:"_id",valKey:"ten_tinh_trang"},so_dien_thoai:{name:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},so_tuoi:{name:"S\u1ed1 tu\u1ed5i b\xe9"},gioi_tinh_be:{name:"Gi\u1edbi t\xednh b\xe9"},ngay_sinh_be:{name:"Ng\xe0y sinh b\xe9"},ho_ten_be:{name:"H\u1ecd t\xean b\xe9"},ten_khach_hang:{name:"T\xean kh\xe1ch h\xe0ng"},consultant:{name:"T\u01b0 v\u1ea5n",data:k,findKey:"_id",valKey:"ho_ten"},photoshop:{name:"Photoshop",data:k,findKey:"_id",valKey:"ho_ten"},support:{name:"H\u1ed7 tr\u1ee3",data:k,findKey:"_id",valKey:"ho_ten"},photo:{name:"Photo",data:k,findKey:"_id",valKey:"ho_ten"},ghi_chu:{name:"Ghi ch\xfa"},ngay_chup:{name:"Ng\xe0y ch\u1ee5p"},gio_chup:{name:"Gi\u1edd ch\u1ee5p"},chi_nhanh:{name:"T\xean chi nh\xe1nh",data:T,findKey:"_id",valKey:"ten_chi_nhanh"},products:{name:"S\u1ea3n ph\u1ea9m",valMap:{chiet_khau:{name:"Chi\u1ebft kh\u1ea5u"},so_luong:{name:"S\u1ed1 l\u01b0\u1ee3ng"},ten_goi:{name:"T\xean g\xf3i"},giam_gia:{name:"Gi\u1ea3m gi\xe1"},gia:{name:"Gi\xe1"}}},thanh_toan:{name:"Thanh to\xe1n",valMap:{value:{name:"S\u1ed1 ti\u1ec1n"},transaction:{name:"Lo\u1ea1i thanh to\xe1n"}}},dat_coc:{name:"\u0110\u1eb7t c\u1ecdc",valMap:{value:{name:"S\u1ed1 ti\u1ec1n"},transaction:{name:"Lo\u1ea1i thanh to\xe1n"}}}}[e];return{name:(null===r||void 0===r?void 0:r.name)||e,value:(null===r||void 0===r||null===(a=r.data)||void 0===a||null===(n=a.find((function(e){return e[r.findKey]})))||void 0===n?void 0:n[r.valKey])||t,valMap:(null===r||void 0===r?void 0:r.valMap)||{}}}(a,n);if("object"==typeof n){var l=["_id","date_created","des","time","description"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("b",null,c.name)),r.a.createElement("table",null,n.map((function(e,t){return 0==t?r.a.createElement("tr",null,Object.keys(e).map((function(e){var t,a;if(!(l.indexOf(e)>-1))return r.a.createElement("th",{style:{textAlign:"left"}},(null===(t=c.valMap)||void 0===t||null===(a=t[e])||void 0===a?void 0:a.name)||e)}))):r.a.createElement("tr",null,Object.keys(e).map((function(t){if(!(l.indexOf(t)>-1))return r.a.createElement("td",null,e[t])})))}))))}return r.a.createElement("span",{key:"history-detail-item-".concat(t)},r.a.createElement("b",null,c.name,": "),r.a.createElement("span",null,c.value))}})),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn blue",onClick:B},"Kh\xf4i ph\u1ee5c"))),r.a.createElement("div",{className:"col"},r.a.createElement(at,null),m.map((function(e,t){return r.a.createElement(Te,{key:"history-card-".concat(t),onClick:function(){return b(t)}},r.a.createElement("span",null,e.author.ho_ten),r.a.createElement("span",null,r.a.createElement("b",null,tt[e.code])),r.a.createElement("span",null,r.a.createElement("b",null,"Th\u1eddi gian: "),e.date_created))})))))};a(321),a(322);function rt(e,t,a){var n=[];!function(e,t,a){for(var n=parseInt(e)-1,r=new Date(t,n,1),c=[];r.getMonth()===n;)c.push(new Date(r)),r.setDate(r.getDate()+1);a(c)}(e,t,(function(r){for(var c=1;c<r[0].getDay();c++)n.push(0);0===r[0].getDay()&&(n=[0,0,0,0,0,0]);var l,s=Object(X.a)(r);try{for(s.s();!(l=s.n()).done;){var o=l.value;n.push(o.getDate())}}catch(i){s.e(i)}finally{s.f()}for(c=r[r.length-1].getDay();c<=6;c++)n.push(0);return a({date:n,month:e,year:t})}))}function ct(e,t){var a=parseFloat(e.gio_chup.replace(":",".").replace(/[^\d.-]/g,"")),n=parseFloat(t.gio_chup.replace(":",".").replace(/[^\d.-]/g,""));return a<n?-1:a>n?1:0}var lt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleNavigate=function(e){"next"===e?12===n.state.month?(n.setState({month:1,year:parseInt(n.state.year)+1}),n.props.onNavigate(1,parseInt(n.state.year)+1)):(n.setState({month:parseInt(n.state.month)+1}),n.props.onNavigate(parseInt(n.state.month)+1,n.state.year)):1===n.state.month?(n.setState({month:12,year:parseInt(n.state.year)-1}),n.props.onNavigate(12,parseInt(n.state.year)-1)):(n.setState({month:parseInt(n.state.month)-1}),n.props.onNavigate(parseInt(n.state.month)-1,n.state.year))},n.state={month:(new Date).getMonth()+1,year:(new Date).getFullYear()},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"calendar_header"},r.a.createElement("div",{className:"control_container"},r.a.createElement("button",{onClick:function(){return e.handleNavigate("prev")}},r.a.createElement(xe.b,{className:"icon"})),r.a.createElement("h1",null,"Th\xe1ng ",this.state.month," - ",this.state.year),r.a.createElement("button",{onClick:function(){return e.handleNavigate("next")}},r.a.createElement(xe.c,{className:"icon"}))),r.a.createElement("div",{className:"date_columns"},r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 2")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 3")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 4")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 5")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 6")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"TH\u1ee8 7")),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,"C. NH\u1eacT"))))}}]),a}(n.Component),st=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.events.filter((function(t,a){var n=t.ngay_chup.split("-");return n[2]==e.props.year&&n[1]==e.props.month&&n[0]==e.props.date}));return t.sort(ct),r.a.createElement("div",{className:"calendar_block ".concat(this.props.focus_date==this.props.date?"focus":""),onClick:this.props.onBlockClick},r.a.createElement("div",{className:(new Date).getDate()==this.props.date&&(new Date).getMonth()+1==this.props.month&&(new Date).getFullYear()==this.props.year?"date_container active":"date_container"},r.a.createElement("span",null,0!==this.props.date?this.props.date:null)),this.props.events?r.a.createElement("div",{className:"events_container"},r.a.createElement("div",{className:"container"},t.map((function(t,a){return r.a.createElement("div",{className:"event",style:{backgroundColor:t.color},onClick:function(){return e.props.onClick(t)}},r.a.createElement("p",{className:"content"},t.title))})))):null)}}]),a}(n.Component),ot=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"calendar_action_buttons ".concat(this.props.focus_date>-1?"active":"")},r.a.createElement("div",{className:"buttons_container"},r.a.createElement(s.b,{className:"button",to:"bill_edit/create_new/".concat(this.props.year,"-").concat(this.props.month<=9?"0"+this.props.month:this.props.month,"-").concat(this.props.focus_date<=9?"0"+this.props.focus_date:this.props.focus_date)},r.a.createElement(xe.e,{className:"icon"}))))}}]),a}(n.Component),it=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.handleUpdateCalendar((new Date).getMonth()+1,(new Date).getFullYear())},n.handleUpdateCalendar=function(e,t){rt(e,t,(function(e){n.setState({calendar_data:e.date,month:e.month,year:e.year})}))},n.handleFocusBlock=function(e){0!=e&&n.setState({focus_date:e});var t=n.props.events.filter((function(t,a){var r=t.ngay_chup.split("-");return r[2]==n.state.year&&(r[1]==n.state.month&&r[0]==e)}));t.sort((function(e,t){var a=parseFloat(e.gio_chup.replace(":",".")),n=parseFloat(t.gio_chup.replace(":","."));return e.gio_chup.match(/.*pm/)&&(a+=12),t.gio_chup.match(/.*pm/)&&(n+=12),a<n?-1:a>n?1:0})),n.props.onClickDate(t)},n.state={calendar_data:null,month:null,year:null,focus_date:-1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.events;return this.state.calendar_data&&this.state.month&&this.state.year?r.a.createElement("div",{className:"calendar"},r.a.createElement(lt,{onNavigate:this.handleUpdateCalendar}),r.a.createElement("div",{className:"calendar_container"},this.state.calendar_data.map((function(a,n){var c=e.state.year+"-"+e.state.month+"-"+(a<=9?"0"+a:a);return r.a.createElement(st,{focus_date:e.state.focus_date,month:e.state.month,year:e.state.year,onBlockClick:function(){return e.handleFocusBlock(a)},onClick:e.props.onClick,date:a,key:n,branch:e.props.branch,events_num:ae(t,"ngay_chup",c),events:t})}))),r.a.createElement(ot,{focus_date:this.state.focus_date,year:this.state.year,month:this.state.month})):r.a.createElement("div",null)}}]),a}(n.Component),ut=a(125),ht=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSave=function(){Q.Permission.add(e.refs.ten_nhom.value).then((function(t){e.props.onCreateNew()}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal",style:{display:"".concat("true"===this.props.is_open?"flex":"none")}},r.a.createElement("div",{className:"form_container"},r.a.createElement("h1",null,"Th\xeam Nh\xf3m Quy\u1ec1n"),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean nh\xf3m"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_nhom"})),r.a.createElement("div",{className:"column"},r.a.createElement("button",{className:"btn",onClick:this.props.handleCloseModal},"H\u1ee7y"),r.a.createElement("button",{className:"btn blue",onClick:this.handleSave},"L\u01b0u"))))}}]),a}(n.Component),pt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSave=function(){Q.Permission.update(n.props._id,{ten_nhom:n.refs.ten_nhom.value}).then((function(e){n.props.handleSave()}))},n.handleRemove=function(){Q.Permission.remove(n.props._id).then((function(e){n.props.handleSave()}))},n.state={perms:null},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.state.perms;return this.state.perms?r.a.createElement("div",{className:"modal",style:{display:"".concat("true"===this.props.is_open?"flex":"none")}},r.a.createElement("button",{className:"close_btn",onClick:this.props.handleCloseModal},r.a.createElement(ut.a,{className:"icon"})),r.a.createElement("div",{className:"form_container"},r.a.createElement("h1",null,"S\u1eeda Ph\xe2n Quy\u1ec1n"),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean nh\xf3m"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_nhom",defaultValue:this.props.ten_nhom})),"admin"!==this.props.ten_nhom.toLowerCase()?r.a.createElement("div",{className:"column"},"1"==e.permissions[3]?r.a.createElement("button",{className:"btn red",onClick:this.handleRemove},"X\xf3a"):null,r.a.createElement("button",{className:"btn blue",onClick:this.handleSave},"L\u01b0u")):r.a.createElement("div",{className:"column"},r.a.createElement("button",{className:"btn red",onClick:this.props.handleCloseModal},"H\u1ee7y")))):r.a.createElement("div",null)}}]),a}(n.Component),dt=(n.Component,function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){if(void 0==this.props.data)return r.a.createElement("div",null);var e=this.props.data,t=e.ngay_chup.split("-");return r.a.createElement("div",{className:"modal m_calendar",style:{display:"".concat(this.props.visible?"flex":"none")}},r.a.createElement("button",{className:"close_btn",onClick:this.props.handleCloseModal},r.a.createElement(ut.a,{className:"icon"})),r.a.createElement("div",{className:"form_container"},r.a.createElement("h1",null,e.title),r.a.createElement("span",null,"Ng\xe0y ch\u1ee5p: ",t[0]," th\xe1ng ",t[1]," n\u0103m ",t[2]),r.a.createElement("span",null,"Gi\u1edd ch\u1ee5p: ",e.gio_chup),r.a.createElement("div",{class:"column"},r.a.createElement("button",{class:"btn",onClick:this.props.handleCloseModal},"\u0110\xf3ng"),r.a.createElement(s.b,{to:"bill_edit/".concat(e._id)},r.a.createElement("button",{class:"btn blue"},"S\u1eeda")))))}}]),a}(n.Component)),mt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return void 0==this.props.data?r.a.createElement("div",null):r.a.createElement("div",{className:"modal m_calendar",style:{display:"".concat(this.props.visible?"flex":"none")}},r.a.createElement("button",{className:"close_btn",onClick:this.props.handleCloseModal},r.a.createElement(ut.a,{className:"icon"})),r.a.createElement("div",{className:"form_container"},r.a.createElement("h1",null,"Xem L\u1ecbch"),this.props.data.map((function(t,a){return r.a.createElement(s.b,{to:"bill_edit/".concat(t._id),className:"event_card ".concat(ae(e.props.branch,"ten_chi_nhanh",t.branch)>-1?e.props.branch[ae(e.props.branch,"ten_chi_nhanh",t.branch)].color:"")},r.a.createElement("span",{className:"date"},t.ngay_chup," ",t.gio_chup),r.a.createElement("p",{className:"content"},t.title))}))))}}]),a}(n.Component),_t=new R,ft=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){_t.Bill().onUpdate((function(e){var t,a,r=ae(n.state.branch,"_id",e.chi_nhanh);r=n.state.branch[r];var c="0"===e.gioi_tinh_be?"B\xe9 trai":"B\xe9 g\xe1i",l=e.ngay_chup;l=l?2==l.split("-")[0].length?l:l.split("-")[2]+"-"+l.split("-")[1]+"-"+l.split("-")[0]:null;var s=n.state.events,o={title:"".concat(e.gio_chup," ").concat(null===(t=r)||void 0===t?void 0:t.ten_chi_nhanh," - ").concat(void 0===e.products[0]?"Kh\xf4ng c\xf3 g\xf3i ch\u1ee5p":e.products[0].ten_goi," - ").concat(e.ten_khach_hang," - ").concat(e.so_dien_thoai," - ").concat(c),ngay_chup:"".concat(l),gio_chup:"".concat(e.gio_chup),tinh_trang:e.tinh_trang,branch:null===(a=r)||void 0===a?void 0:a.ten_chi_nhanh,color:r.color,_id:e._id};s[ae(s,"_id",e._id)]=o,n.setState({events:s})})),_t.Bill().onAdd((function(e){var t,a,r=ae(n.state.branch,"_id",e.chi_nhanh);r=n.state.branch[r];var c="0"===e.gioi_tinh_be?"B\xe9 trai":"B\xe9 g\xe1i",l=e.ngay_chup;l=l?2==l.split("-")[0].length?l:l.split("-")[2]+"-"+l.split("-")[1]+"-"+l.split("-")[0]:null;var s=n.state.events,o={title:"".concat(e.gio_chup," ").concat(null===(t=r)||void 0===t?void 0:t.ten_chi_nhanh," - ").concat(void 0===e.products[0]?"Kh\xf4ng c\xf3 g\xf3i ch\u1ee5p":e.products[0].ten_goi," - ").concat(e.ten_khach_hang," - ").concat(e.so_dien_thoai," - ").concat(c),ngay_chup:"".concat(l),gio_chup:"".concat(e.gio_chup),tinh_trang:e.tinh_trang,branch:null===(a=r)||void 0===a?void 0:a.ten_chi_nhanh,color:r.color,_id:e._id};s.push(o),n.setState({events:s})})),_t.Bill().onRemove((function(e){var t=n.state.events;t.splice(ae(t,"_id",e),1),n.setState({events:t})}))},n.handleEventClick=function(e){n.setState({modal_visible:!0,modal_data:e,modal_date:e})},n.handleFilter=function(e,t,a,r,c,l){var s=[],o=JSON.parse(localStorage.getItem("branch_selected")||"[]");Q.Bill.getAll().then((function(r){var c=r.data.filter((function(n,r){if(o.indexOf(n.chi_nhanh._id)<=-1)return!1;if("all"!==e&&n.photo!==e)return!1;if("all"!==l&&n.photoshop!==l)return!1;if("all"!==t&&n.support!==t)return!1;if("all"!==a&&n.tinh_trang._id!==a)return!1;if(!n.deleted){var c,i,u="0"===n.gioi_tinh_be?"B\xe9 trai":"B\xe9 g\xe1i",h=n.ngay_chup;return h=h?2==h.split("-")[0].length?h:h.split("-")[2]+"-"+h.split("-")[1]+"-"+h.split("-")[0]:null,s.push({title:"".concat(n.gio_chup," ").concat(null===(c=n.chi_nhanh)||void 0===c?void 0:c.ten_chi_nhanh," - ").concat(void 0===n.products[0]?"Kh\xf4ng c\xf3 g\xf3i ch\u1ee5p":n.products[0].ten_goi," - ").concat(n.ten_khach_hang," - ").concat(n.so_dien_thoai," - ").concat(u),ngay_chup:"".concat(h),gio_chup:"".concat(n.gio_chup),tinh_trang:n.tinh_trang,branch:null===(i=n.chi_nhanh)||void 0===i?void 0:i.ten_chi_nhanh,color:n.chi_nhanh.color,_id:n._id}),!0}return!1}));n.setState({events:s,old_events:s,bill:c,default_bill_data:c})})).catch((function(e){return console.log(e)}))},n.handleSearch=function(e){""===e&&Q.Bill.getAll().then((function(e){var t=e.data.filter((function(e){return!e.deleted}));n.setState({bill:t})})),Q.Bill.getAll().then((function(t){var a=t.data.filter((function(e){return!e.deleted})),r=[];a.filter((function(t,a){return re(t.ten_khach_hang).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.so_dien_thoai).toLowerCase().indexOf(re(e).toLowerCase())>-1})).forEach((function(e){var t,a,n="0"===e.gioi_tinh_be?"B\xe9 trai":"B\xe9 g\xe1i";r.push({title:"".concat(null===(t=e.chi_nhanh)||void 0===t?void 0:t.ten_chi_nhanh," - ").concat(void 0===e.products[0]?"Kh\xf4ng c\xf3 g\xf3i ch\u1ee5p":e.products[0].ten_goi," - ").concat(e.ten_khach_hang," - ").concat(e.so_dien_thoai," - ").concat(n),ngay_chup:"".concat(e.ngay_chup),gio_chup:"".concat(e.gio_chup),tinh_trang:e.tinh_trang,branch:null===(a=e.chi_nhanh)||void 0===a?void 0:a.ten_chi_nhanh,_id:e._id})})),n.setState({autocomplete_data:r})})).catch((function(e){return console.log(e)}))},n.state={events:[],redirect:!1,link:null,branch:null,old_events:[],modal_visible:!1,modal_data:null,m_modal_visible:!1,m_modal_data:null,modal_date:"",autocomplete_data:null},n.fetchData(),n}return Object(y.a)(a,[{key:"fetchData",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("branch_selected")||"[]"),e.next=3,Q.Bill.getAll().then((function(e){var a=[];e.data.filter((function(e,a){return parseInt(e.ngay_chup.split("-")[1])-1===(new Date).getMonth()&&(parseInt(e.ngay_chup.split("-")[2])===(new Date).getFullYear()&&(!(t.indexOf(e.chi_nhanh._id)<=-1)&&!e.deleted))})).forEach((function(e){var t,n,r="0"===e.gioi_tinh_be?"B\xe9 trai":"B\xe9 g\xe1i",c=e.ngay_chup;c=c?2==c.split("-")[0].length?c:c.split("-")[2]+"-"+c.split("-")[1]+"-"+c.split("-")[0]:null,a.push({title:"".concat(e.gio_chup," ").concat(null===(t=e.chi_nhanh)||void 0===t?void 0:t.ten_chi_nhanh," - ").concat(void 0===e.products[0]?"Kh\xf4ng c\xf3 g\xf3i ch\u1ee5p":e.products[0].ten_goi," - ").concat(e.ten_khach_hang," - ").concat(e.so_dien_thoai," - ").concat(r),ngay_chup:"".concat(c),gio_chup:"".concat(e.gio_chup),tinh_trang:e.tinh_trang,branch:null===(n=e.chi_nhanh)||void 0===n?void 0:n.ten_chi_nhanh,color:e.chi_nhanh.color,_id:e._id})})),n.setState({events:a,old_events:a})})).catch((function(e){return console.log(e)}));case 3:return e.next=5,Q.Branch.getAll().then((function(e){n.setState({branch:e.data})})).catch((function(e){return console.log(e)}));case 5:return e.next=7,Q.Status.getAll().then((function(e){n.setState({status:e.data})})).catch((function(e){return console.log(e)}));case 7:a=JSON.parse(localStorage.getItem("bill_filter"))||{photo:"all",photoshop:"all",support:"all",tinh_trang:"all",date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1),year:(new Date).getFullYear(),month:(new Date).getMonth()+1<=9?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1},this.handleFilter(a.photo,a.support,a.tinh_trang,a.month,a.year,a.photoshop);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.status?this.state.redirect?r.a.createElement(d.a,{to:"bill_edit/".concat(this.state.link)}):r.a.createElement("div",null,r.a.createElement(dt,{events:this.state.events,date:this.state.modal_date,status:this.state.status,data:this.state.modal_data,visible:this.state.modal_visible,handleCloseModal:function(){return e.setState({modal_visible:!1})}}),r.a.createElement(Fe,{onDropdownFilterBtnClick:this.handleFilter,create_btn_link:"bill_edit/create_new/",title:"L\u1ecbch"}),Ee.isMobile?r.a.createElement(mt,{visible:this.state.m_modal_visible,data:this.state.m_modal_data,handleCloseModal:function(){return e.setState({m_modal_visible:!1})},branch:this.state.branch}):null,r.a.createElement("div",{className:"view"},r.a.createElement(it,{events:this.state.events,branch:this.state.branch,onClick:this.handleEventClick,onClickDate:function(t){return e.setState({m_modal_data:t,m_modal_visible:!0})}}))):r.a.createElement("div",null)}}]),a}(n.Component),gt=[{key:"ten_chi_nhanh",title:"Chi nh\xe1nh"},{key:"ten_khach_hang",title:"T\xean kh\xe1ch h\xe0ng"},{key:"so_dien_thoai",title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},{key:"dia_chi",title:"\u0110\u1ecba ch\u1ec9"}],vt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){""===e&&Q.Bill.getAll().then((function(e){var t=e.data.filter((function(e){if(!e.deleted)return{ten_chi_nhanh:e.chi_nhanh.ten_chi_nhanh,ten_khach_hang:e.ten_khach_hang,so_dien_thoai:e.so_dien_thoai,dia_chi:e.dia_chi}}));n.setState({bill:t})})).catch((function(e){return console.log(e)})),Q.Bill.getAll().then((function(t){var a=t.data.filter((function(t,a){var n=re(e.toLowerCase()),r=re(t.ten_khach_hang.toLowerCase()),c=t.so_dien_thoai;return!(!r.indexOf(n)&&!c.indexOf(n)||t.deleted)&&{ten_chi_nhanh:t.chi_nhanh.ten_chi_nhanh,ten_khach_hang:t.ten_khach_hang,so_dien_thoai:t.so_dien_thoai,dia_chi:t.dia_chi}}));n.setState({bill:a})})).catch((function(e){return console.log(e)}))},n.handleFilter=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Bill.getAll().then((function(e){var a=e.data.map((function(e){if(!e.deleted)return{ten_chi_nhanh:e.chi_nhanh.ten_chi_nhanh,ten_khach_hang:e.ten_khach_hang,so_dien_thoai:e.so_dien_thoai,dia_chi:e.dia_chi,date_created:null===e||void 0===e?void 0:e.date_created}}));a=a.filter((function(e){if(null===e||void 0===e?void 0:e.date_created){var a=new Date(e.date_created).getMonth(),n=new Date(e.date_created).getFullYear(),r=new Date(t).getMonth(),c=new Date(t).getFullYear();return a==r&&n==Number(c)}}));var r="";a.sort((function(e,t){return e.so_dien_thoai-t.so_dien_thoai})),(a=a.filter((function(e){var t,a=null===e||void 0===e||null===(t=e.so_dien_thoai)||void 0===t?void 0:t.trim();return r!=a&&(r=a,!0)}))).sort((function(e,t){return e.date_created-t.date_created})),n.setState({customers:a})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n._handleDownloadList=Object(u.a)(i.a.mark((function e(){var t,a,r,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.customers.map((function(e,t){return[t+1,null===e||void 0===e?void 0:e.ten_chi_nhanh,null===e||void 0===e?void 0:e.ten_khach_hang,null===e||void 0===e?void 0:e.so_dien_thoai,null===e||void 0===e?void 0:e.dia_chi]})),a=Ge.a.createExcel(["STT","Chi nh\xe1nh","T\xean kh\xe1ch h\xe0ng","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","\u0110\u1ecba ch\u1ec9"],t),r=new Date,c="DS_Khach_Hang_".concat(r.getDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),(s=document.createElement("a")).setAttribute("href",window.URL.createObjectURL(l)),s.setAttribute("download",c),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s);case 12:case"end":return e.stop()}}),e)}))),n.state={customers:null},Q.Bill.getAll().then((function(e){var t=e.data.map((function(e){if(!e.deleted)return{ten_chi_nhanh:e.chi_nhanh.ten_chi_nhanh,ten_khach_hang:e.ten_khach_hang,so_dien_thoai:e.so_dien_thoai,dia_chi:e.dia_chi,date_created:e.date_created}})),a="";t.sort((function(e,t){return e.so_dien_thoai-t.so_dien_thoai})),(t=t.filter((function(e){var t,n=null===e||void 0===e||null===(t=e.so_dien_thoai)||void 0===t?void 0:t.trim();return a!=n&&(a=n,!0)}))).sort((function(e,t){return e.date_created-t.date_created})),n.setState({customers:t})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){return this.state.customers?r.a.createElement("div",null,r.a.createElement(Fe,{onCustomerFilter:this.handleFilter,actions:[r.a.createElement("button",{onClick:this._handleDownloadList},r.a.createElement(z.d,{className:"icon"}),"T\u1ea3i danh s\xe1ch KH")],onSearchKeyPress:this.handleSearch,title:"Kh\xe1ch H\xe0ng"}),r.a.createElement(fe,{columns:gt,data:this.state.customers})):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),bt=[{key:"date",title:"Ng\xe0y chi"},{key:"noi_dung",title:"N\u1ed9i dung"},{key:"so_tien",title:"S\u1ed1 ti\u1ec1n"},{key:"type",title:"Tr\u1ea1ng th\xe1i thanh to\xe1n"},{key:"status",title:"Tr\u1ea1ng th\xe1i"},{key:"nguoi_chi",title:"Ng\u01b0\u1eddi chi"}],Et=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleCloseModal=function(){n.refs.noi_dung.value="",n.refs.so_tien.value="",n.setState({modal_is_open:"false",edit_modal_is_open:"false",data:null}),n.updateData()},n.handleOpenModal=function(){n.setState({modal_is_open:"true"})},n.handleOpenEditModal=function(e){Q.Spending.get(e).then((function(t){n.refs.noi_dung.value=t.data.noi_dung,n.refs.so_tien.value=t.data.so_tien,n.refs.type.value=t.data.type,n.setState({modal_is_open:"true",edit_id:e})})).catch((function(e){return console.log(e)}))},n.handleSearch=function(e){""===e&&Q.Spending.getAll().then((function(e){n.setState({data_spending:e.data.reverse()})})),Q.Spending.getAll((function(t){var a=t.data.reverse().filter((function(t,a){return re(t.noi_dung).toLowerCase().indexOf(re(e).toLowerCase())>-1||(re(t.so_tien.toString()).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.user).toLowerCase().indexOf(re(e).toLowerCase())>-1)}));n.setState({data_spending:a})}))},n.updateData=function(){Q.Spending.getAll().then((function(e){var t=e.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{nguoi_chi:e.user_id.ho_ten,type:"1"==e.type?"Chuy\u1ec3n kho\u1ea3n":"2"==e.type?"Ti\u1ec1n m\u1eb7t":"Chuy\u1ec3n \u0111\u1ebfn ng\u01b0\u1eddi d\xf9ng",date:e.date_created.split("T")[0],status:"pending"==e.status?"\u0110ang \u0111\u1ee3i duy\u1ec7t":"refuse"==e.status?"T\u1eeb ch\u1ed1i":"\u0110\xe3 duy\u1ec7t"})}));t=t.filter((function(e){return e.user_id._id===localStorage.getItem("user_id")})),n.setState({data_spending:t})})).catch((function(e){return console.log(e)})),Q.Staff.get(localStorage.getItem("user_id")).then((function(e){console.log(e.data),n.setState({total_money:e.data.money,wallet_address:e.data.wallet_address})}))},n.handleSave=function(){if("2"==n.refs.type.value)alert("Vui l\xf2ng ch\u1ecdn lo\u1ea1i");else{var e,t={noi_dung:n.refs.noi_dung.value,so_tien:n.refs.so_tien.value,user_id:localStorage.getItem("user_id"),type:n.refs.type.value,to_wallet:null===(e=n.refs.dia_chi_vi)||void 0===e?void 0:e.value};n.state.edit_id?Q.Spending.update(n.state.edit_id,t).then((function(e){n.handleCloseModal()})).catch((function(e){return console.log(e)})):Q.Spending.add(t).then((function(e){n.handleCloseModal()})).catch((function(e){return console.log(e)}))}},n.handleRemove=function(){Q.Spending.remove(n.state.edit_id).then((function(e){n.handleCloseModal()})).catch((function(e){return console.log(e)}))},n.state={modal_is_open:"false",edit_id:null,data_spending:null,perms:null,payment_type:"2",total_money:0,wallet_address:""},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n.updateData(),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.data_spending&&this.state.perms?r.a.createElement("div",null,r.a.createElement(Fe,{title:"Chi",handleCreate:"1"==this.state.perms.spending[1]?this.handleOpenModal:null,onSearchKeyPress:this.handleSearch}),r.a.createElement("div",{className:"view",style:{display:"flex",paddingTop:96}},r.a.createElement(Ve,{type:"vi_tien",value:this.state.total_money,dia_chi_vi:this.state.wallet_address})),r.a.createElement(fe,{columns:bt,data:this.state.data_spending,onClick:this.handleOpenEditModal}),r.a.createElement(Ce,{title:"Th\xeam M\u1ee5c C\u1ea7n Chi",is_open:this.state.modal_is_open,onClose:this.state.edit_id?null:function(){return e.setState({modal_is_open:"false"})},onSave:"1"==this.state.perms.spending[2]?function(){return e.handleSave()}:null,onRemove:"1"==this.state.perms.spending[3]&&this.state.edit_id?function(){return e.handleRemove()}:null},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"N\u1ed9i dung"),r.a.createElement("input",{type:"text",className:"textbox",ref:"noi_dung"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"S\u1ed1 ti\u1ec1n"),r.a.createElement("input",{type:"number",className:"textbox",ref:"so_tien"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Lo\u1ea1i"),r.a.createElement("select",{className:"textbox",ref:"type",defaultValue:"2",onChange:function(t){return e.setState({payment_type:t.target.value})}},r.a.createElement("option",{value:"2",disabled:!0}),r.a.createElement("option",{value:"0"},"Chuy\u1ec3n Kho\u1ea3n"),r.a.createElement("option",{value:"1"},"Ti\u1ec1n M\u1eb7t"),r.a.createElement("option",{value:"3"},"Chuy\u1ec3n \u0111\u1ebfn ng\u01b0\u1eddi d\xf9ng"))),"3"==this.state.payment_type&&r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"\u0110\u1ecba ch\u1ec9 v\xed"),r.a.createElement("input",{type:"text",className:"textbox",ref:"dia_chi_vi"})))):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),yt=a(467),kt=a(243),Nt=a(465),Ct=a(240),xt=a(106),wt=(a(188),a(189),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).fetchPackages=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.PackageType.getSlug("goi_chup").then((function(e){var t=e.data._id;Q.Package.getType(t).then((function(e){n.setState({goi_chup_data:e.data})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}));case 2:return e.next=4,Q.PackageType.getSlug("dich_vu").then((function(e){var t=e.data._id;Q.Package.getType(t).then((function(e){n.setState({services:e.data})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.handleChangeFromDate=function(e){n.setState({fromDate:e})},n.handleChangeToDate=function(e){n.setState({toDate:e})},n.state={goi_chup_data:null,services:null,staff:null,branch:null,bill:null,data:null,total_num:0,total_da_thu_chuyen_khoan:0,total_da_thu_tien_mat:0,total_da_thu:0,total_con_no:0,chartData:[]},Q.Staff.getAll().then((function(e){n.setState({staff:e.data})})).catch((function(e){return console.log(e)})),Q.Branch.getAll().then((function(e){n.setState({branch:e.data})})).catch((function(e){return console.log(e)})),Q.Bill.getAll().then((function(e){var t=e.data;t=t.filter((function(e,t){return!e.deleted}));var a,r=(new Date).format("yyyy-MM-dd"),c=Object(X.a)(t);try{for(c.s();!(a=c.n()).done;){var l,s=a.value,o=0,i=0,u=Object(X.a)(s.dat_coc);try{for(u.s();!(l=u.n()).done;){var h=l.value;new Date(h.time).format("yyyy-MM-dd")==r?i+=h.value:o+=h.value}}catch(_){u.e(_)}finally{u.f()}var p,d=Object(X.a)(s.thanh_toan);try{for(d.s();!(p=d.n()).done;){var m=p.value;new Date(m.time).format("yyyy-MM-dd")==r?i+=m.value:o+=m.value}}catch(_){d.e(_)}finally{d.f()}s.daThu=o,s.daThuToday=i}}catch(_){c.e(_)}finally{c.f()}n.setState({bill:t})})).catch((function(e){return console.log(e)})),n.fetchPackages(),n}return Object(y.a)(a,[{key:"handleDateTotalFilter",value:function(){var e=this,t=this.state.fromDate.split("-");t=t[2]+"-"+t[1]+"-"+t[0];var a=this.state.toDate.split("-");a=a[2]+"-"+a[1]+"-"+a[0];var n=this.refs.branch.value,r=this.refs.list.value,c=this.refs.photos.value,l=this.state.bill.filter((function(e,n){var r=e.ngay_chup.split("-");return r=2==r[0].length?r[2]+"-"+r[1]+"-"+r[0]:e.ngay_chup,!(t>r)&&r<=a})).filter((function(e,t){return("all"===n||e.chi_nhanh._id===n)&&("all"===c||c===e.photo||c===e.support)})),s=0,o=0,i=0,u=0,h={};l.map((function(t,a){var n;"all"!==r?t.products.map((function(t,a){if("goi_chup"===r)e.state.goi_chup_data.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(s+=parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0));else if("services"===r){e.state.services.map((function(e){return e.ten_goi})).indexOf(t.ten_goi)>-1&&(s+=parseInt(t.gia)*parseInt(t.so_luong)-(t.giam_gia?parseInt(t.giam_gia):0))}})):s+=t.tong,u+=t.con_no;var c=0,l=0;t.dat_coc.map((function(e){0==e.transaction?c+=e.value:l+=e.value})),t.thanh_toan.map((function(e){0==e.transaction?c+=e.value:l+=e.value})),o+=c,i+=l,h[t.ngay_chup]={value:((null===(n=h[t.ngay_chup])||void 0===n?void 0:n.value)||0)+(c+l)}}));var p=Number(this.state.fromDate.split("-")[0]);Number(this.state.toDate.split("-")[0]);h=(h=Object.keys(h).map((function(e){return{date:e,value:h[e].value}}))).reverse(),this.setState({total_num:te(s),data:l,total_da_thu_chuyen_khoan:te(o),total_da_thu_tien_mat:te(i),total_da_thu:te(o+i),total_con_no:te(u),chartData:h})}},{key:"render",value:function(){return this.state.branch&&this.state.staff&&this.state.services&&this.state.goi_chup_data?r.a.createElement("div",{className:"analytics_view"},Ee.isMobile?r.a.createElement(Fe,{handleRemove:null,handleSave:null,handleEdit:null,create_btn_link:null,handleCreate:null}):null,r.a.createElement("div",{className:"toolbar"},Ee.isMobile?null:r.a.createElement("h1",{className:"view_header",style:{marginRight:"24px",marginLeft:"24px"}},"T\u1ed5ng Qu\xe1t"),r.a.createElement("div",{className:"group filter"},r.a.createElement("div",{className:"box"},r.a.createElement("select",{ref:"branch"},r.a.createElement("option",{value:"all",selected:!0},"T\u1ea5t c\u1ea3"),this.state.branch.map((function(e,t){return r.a.createElement("option",{value:e._id},e.ten_chi_nhanh)}))),r.a.createElement("select",{ref:"list"},r.a.createElement("option",{value:"all",selected:!0},"T\u1ea5t c\u1ea3"),r.a.createElement("option",{value:"goi_chup"},"G\xf3i ch\u1ee5p"),r.a.createElement("option",{value:"services"},"D\u1ecbch v\u1ee5")),r.a.createElement("select",{ref:"photos"},r.a.createElement("option",{value:"all",selected:!0},"T\u1ea5t c\u1ea3"),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e._id},e.ho_ten)})))),r.a.createElement("h1",{className:"view_header"},"T\u1eeb"),r.a.createElement("div",{className:"box"},r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.fromDate,ref:"fromDate",className:"textbox",onChange:this.handleChangeFromDate})),r.a.createElement("h1",{className:"view_header"},"\u0110\u1ebfn"),r.a.createElement("div",{className:"box"},r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.toDate,ref:"toDate",className:"textbox",onChange:this.handleChangeToDate})),r.a.createElement("button",{className:"btn blue",onClick:this.handleDateTotalFilter.bind(this)},"L\u1eccC"))),r.a.createElement("div",{className:"overview"},r.a.createElement(Ve,{type:"tong",value:this.state.total_num}),r.a.createElement(Ve,{type:"da_thu",value:this.state.total_da_thu,chuyen_khoan_num:this.state.total_da_thu_chuyen_khoan,tien_mat_num:this.state.total_da_thu_tien_mat}),r.a.createElement(Ve,{type:"con_no",value:this.state.total_con_no})),r.a.createElement("div",{className:"charts"},r.a.createElement(Te,{title:"Bi\u1ec3u \u0111\u1ed3 doanh thu"},r.a.createElement(yt.a,{width:400,height:400,data:this.state.chartData},r.a.createElement(kt.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2}),r.a.createElement(Nt.a,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(Ct.a,{dataKey:"date"}),r.a.createElement(xt.a,null)))),r.a.createElement(Ye,{data:this.state.data})):r.a.createElement("div",null)}}]),a}(n.Component)),Ot=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleChangeFromDate=function(e){n.setState({fromDate:e})},n.handleChangeToDate=function(e){n.setState({toDate:e})},n.state={bill:null,total_num:0,total_da_thu_chuyen_khoan:0,total_da_thu_tien_mat:0,total_spending:0,total_spending_chuyen_khoan:0,total_spending_tien_mat:0,start_date:null,end_date:null,data:null,spending_data:null,branch:null,staff:null,spending:null,total_con_giu:0,total_con_giu_chuyen_khoan:0,total_con_giu_tien_mat:0,is_spending:!0,perms:null},Q.Bill.getAll().then((function(e){var t=e.data;t=t.filter((function(e,t){return!e.deleted})),n.setState({bill:t})})).catch((function(e){return console.log(e)})),Q.Spending.getAll().then((function(e){n.setState({spending:e.data})})).catch((function(e){return console.log(e)})),Q.Branch.getAll().then((function(e){n.setState({branch:e.data})})).catch((function(e){return console.log(e)})),Q.Staff.getAll().then((function(e){n.setState({staff:e.data})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"handleDateTotalFilter",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,c,l,s,o,u,h,p,d,m,_,f,g,v,b,E,y,k,N,C,x,w,O,S,j,T,D,I,M,B,P,L;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=this.state.fromDate.split("-"))[2]+"-"+a[1]+"-"+a[0],n=(n=this.state.toDate.split("-"))[2]+"-"+n[1]+"-"+n[0],r=this.refs.branch.value,c=this.refs.staff.value,l=this.state.bill,s=this.state.spending,o=function(e){try{var t=e.split("-");return t=t[0]+"-"+(t[1]<=9?"0"+t[1]:t[1])+"-"+t[2]}catch(a){}},s=s.filter((function(e,t){var r=e.date_created.split("T")[0];return"pending"!=e.status&&("all"!==c?e.user_id.ho_ten==c&&a<=r&&r<=n:a<=r&&r<=n)})),e.next=12,l.filter((function(e,t){var l=!0;if("all"!==r&&e.chi_nhanh._id!==r)return!1;if("all"!==c){var s=e.thanh_toan.filter((function(e){var t,r=null===(t=e.des.split("-")[1])||void 0===t?void 0:t.replace(" ",""),l=o(e.time);return r===c&&a<=l&&l<=n})),i=e.dat_coc.filter((function(e){var t,r=null===(t=e.des.split("-")[1])||void 0===t?void 0:t.replace(" ",""),l=o(e.time);return r===c&&a<=l&&l<=n}));l=s.length&&i.length}return l}));case 12:return l=e.sent,e.next=15,null===(t=l)||void 0===t?void 0:t.filter((function(e,t){var r=e.dat_coc.filter((function(e){var t=o(e.time);return t>=a&&t<=n})),c=e.thanh_toan.filter((function(e){var t=o(e.time);return t>=a&&t<=n}));return r.length&&c.length}));case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0=[];case 18:u=e.t0,h=0,p=0,d=0,m=0,_=0,f=0,0,0,0,E=Object(X.a)(s);try{for(E.s();!(y=E.n()).done;)k=y.value,m+=k.so_tien,0==k.type?_+=k.so_tien:f+=k.so_tien}catch(i){E.e(i)}finally{E.f()}N=Object(X.a)(u);try{for(N.s();!(C=N.n()).done;){x=C.value,w=0,O=0,0,j=0,T=(new Date).format("yyyy-MM-dd"),D=Object(X.a)(x.dat_coc);try{for(D.s();!(I=D.n()).done;)(M=I.value).transaction?w+=M.value:O+=M.value,new Date(M.time).format("yyyy-MM-dd")==T&&(j+=M.value)}catch(i){D.e(i)}finally{D.f()}B=Object(X.a)(x.thanh_toan);try{for(B.s();!(P=B.n()).done;)(L=P.value).transaction?w+=L.value:O+=L.value,new Date(L.time).format("yyyy-MM-dd")==T&&(j+=L.value)}catch(i){B.e(i)}finally{B.f()}S=w+O,x.daThu=S,x.daThuToday=j,d+=w,p+=O,h+=S}}catch(i){N.e(i)}finally{N.f()}g=h-m,v=p-_,b=d-f,this.setState({total_num:te(h),total_da_thu_chuyen_khoan:te(p),total_da_thu_tien_mat:te(d),total_con_giu:te(g),total_con_giu_chuyen_khoan:te(v),total_con_giu_tien_mat:te(b),total_spending:te(m),total_spending_chuyen_khoan:te(_),total_spending_tien_mat:te(f),start_date:a,end_date:n,data:u,spending_data:s});case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.bill||!this.state.branch||!this.state.staff||!this.state.spending||!this.state.perms)return r.a.createElement(he,null);var t=this.state.is_spending;this.state.perms;return r.a.createElement("div",{className:"analytics_view"},Ee.isMobile?r.a.createElement(Fe,{handleRemove:null,handleSave:null,handleEdit:null,create_btn_link:null,handleCreate:null}):null,r.a.createElement("div",{className:"toolbar"},Ee.isMobile?null:r.a.createElement("h1",{className:"view_header",style:{marginRight:"24px",marginLeft:"24px"}},"T\u1ed5ng Qu\xe1t"),r.a.createElement("div",{className:"group filter"},r.a.createElement("div",{className:"box"},r.a.createElement("select",{ref:"branch",disabled:"1"===this.state.perms.spending_analytics[2]?"":"disabled"},r.a.createElement("option",{value:"all",selected:!0},"T\u1ea5t c\u1ea3"),this.state.branch.map((function(e,t){return r.a.createElement("option",{value:e._id},e.ten_chi_nhanh)})))),r.a.createElement("div",{className:"box"},r.a.createElement("select",{ref:"staff",defaultValue:"1"===this.state.perms.spending_analytics[2]?"all":localStorage.getItem("ho_ten"),disabled:"1"===this.state.perms.spending_analytics[2]?"":"disabled"},r.a.createElement("option",{value:"all",selected:"1"===this.state.perms.spending_analytics[2]?"selected":""},"T\u1ea5t c\u1ea3"),this.state.staff.map((function(e,t){return r.a.createElement("option",{value:e.ho_ten},e.ho_ten)})))),r.a.createElement("h1",{className:"view_header"},"T\u1eeb"),r.a.createElement("div",{className:"box"},r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.fromDate,ref:"fromDate",className:"textbox",onChange:this.handleChangeFromDate})),r.a.createElement("h1",{className:"view_header"},"\u0110\u1ebfn"),r.a.createElement("div",{className:"box"},r.a.createElement(ee,{format:"DD-MM-YYYY",date:this.state.toDate,ref:"toDate",className:"textbox",onChange:this.handleChangeToDate})),r.a.createElement("button",{className:"btn blue",onClick:this.handleDateTotalFilter.bind(this)},"L\u1eccC"))),r.a.createElement("div",{className:"overview"},r.a.createElement(Ve,{onClick:function(){return e.setState({is_spending:!1})},type:"da_thu",start_date:this.state.start_date,end_date:this.state.end_date,value:this.state.total_num,chuyen_khoan_num:this.state.total_da_thu_chuyen_khoan,tien_mat_num:this.state.total_da_thu_tien_mat}),r.a.createElement(Ve,{onClick:function(){return e.setState({is_spending:!0})},type:"da_chi",start_date:this.state.start_date,end_date:this.state.end_date,value:this.state.total_spending,chuyen_khoan_num:this.state.total_spending_chuyen_khoan,tien_mat_num:this.state.total_spending_tien_mat}),r.a.createElement(Ve,{type:"con_giu",start_date:this.state.start_date,end_date:this.state.end_date,value:this.state.total_con_giu,chuyen_khoan_num:this.state.total_con_giu_chuyen_khoan,tien_mat_num:this.state.total_con_giu_tien_mat})),t?r.a.createElement(Re,{data:this.state.spending_data}):r.a.createElement(Ye,{data:this.state.data}))}}]),a}(n.Component),St=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(n.useRef)(null),o=Object(n.useRef)(null),p=Object(n.useState)(null),m=Object(h.a)(p,2),_=m[0],f=m[1],g=Object(n.useState)(!1),v=Object(h.a)(g,2),b=v[0],E=v[1],y=Object(n.useState)(""),k=Object(h.a)(y,2),N=k[0],C=k[1];Object(n.useEffect)((function(){localStorage.getItem("JWT")&&Q.User.verifyToken().then((function(e){C(e.data.company_slug),E(!0)})).catch((function(e){return console.log(e)}))}),[]);var x=function(){var n=Object(u.a)(i.a.mark((function n(){var r,s,u,h,p,d,m;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.current.value,s=t.current.value,u=a.current.value,h=c.current.value,p=l.current.value,d=o.current.value,n.next=8,Q.Company.add(h,p,d,u,r,s).catch((function(e){return console.log(e)}));case 8:200===(m=n.sent).code?(localStorage.setItem("JWT",m.data.accessToken),Q.User.verifyToken().then((function(e){C(e.data.company_slug),window.location.reload()})).catch((function(e){return console.log(e)}))):400===m.code?f("C\xf4ng ty \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o!"):console.log(m);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return b?r.a.createElement(d.a,{to:"/".concat(N,"/")}):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",null,"\u0110\u0103ng K\xfd"),_?r.a.createElement("a",{style:{marginBottom:"16px",fontSize:"14px",color:"red"}},_):null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16}},r.a.createElement("input",{type:"text",ref:c,placeholder:"T\xean c\xf4ng ty",className:"textbox"}),r.a.createElement("input",{type:"address",ref:l,placeholder:"\u0110\u1ecba ch\u1ec9",className:"textbox"}),r.a.createElement("input",{type:"phone",ref:o,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:"textbox"}),r.a.createElement("input",{type:"name",ref:a,placeholder:"H\u1ecd t\xean",className:"textbox"}),r.a.createElement("input",{type:"email",ref:e,placeholder:"Email",className:"textbox"}),r.a.createElement("input",{type:"password",ref:t,placeholder:"M\u1eadt kh\u1ea9u",className:"textbox"}),r.a.createElement("button",{className:"btn blue",onClick:x},"\u0110\u0103ng K\xfd"),r.a.createElement(s.b,{to:"/login",style:{fontSize:12,color:"#2484ff",textDecoration:"none",marginTop:5}},"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? H\xe3y \u0111\u0103ng nh\u1eadp")))},jt=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useState)(null),c=Object(h.a)(a,2),l=c[0],o=c[1],p=Object(n.useState)(!1),m=Object(h.a)(p,2),_=m[0],f=m[1],g=Object(n.useState)(""),v=Object(h.a)(g,2),b=v[0],E=v[1];Object(n.useEffect)((function(){localStorage.getItem("JWT")&&Q.User.verifyToken().then((function(e){E(e.data.company_slug),f(!0)})).catch((function(e){return console.log(e)}))}),[]);var y=function(){var a=Object(u.a)(i.a.mark((function a(){var n,r,c,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.current.value,r=t.current.value,a.next=4,Q.User.auth(n,r).catch((function(e){return console.log(e)}));case 4:if(200!==(c=a.sent).code){a.next=17;break}return localStorage.setItem("JWT",c.data.accessToken),a.next=9,Q.User.verifyToken().then((function(e){E(e.data.company_slug),localStorage.setItem("company_slug",e.data.company_slug)})).catch((function(e){return console.log(e)}));case 9:return a.next=11,Q.Branch.getAll();case 11:l=(l=a.sent).data.map((function(e){return e._id})),localStorage.setItem("branch_selected",JSON.stringify(l)),window.location.reload(),a.next=18;break;case 17:400===c.code?o("Sai email ho\u1eb7c m\u1eadt kh\u1ea9u \u0111\u0103ng nh\u1eadp!"):o("C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh \u0111\u0103ng nh\u1eadp");case 18:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return _?r.a.createElement(d.a,{to:"/".concat(b,"/")}):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",null,"\u0110\u0103ng Nh\u1eadp"),l?r.a.createElement("a",{style:{marginBottom:"16px",fontSize:"14px",color:"red"}},l):null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:16}},r.a.createElement("input",{type:"email",ref:e,placeholder:"Email",className:"textbox"}),r.a.createElement("input",{type:"password",ref:t,placeholder:"M\u1eadt kh\u1ea9u",className:"textbox"}),r.a.createElement("button",{className:"btn blue",onClick:y},"\u0110\u0103ng Nh\u1eadp"),r.a.createElement(s.b,{to:"/signup",style:{fontSize:12,color:"#2484ff",textDecoration:"none",marginTop:5}},"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? T\u1ea1o t\xe0i kho\u1ea3n")))},Tt=(a(453),function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={perms:null},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){return this.state.perms?r.a.createElement("div",{className:"settings_view"},r.a.createElement(Le,null),r.a.createElement("div",{className:"settings_container"},r.a.createElement(s.b,{to:"settings/profile",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(z.f,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Th\xf4ng Tin C\xe1 Nh\xe2n")),r.a.createElement(s.b,{to:"settings/personnel",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.n,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Nh\xe2n S\u1ef1")),"1"==this.state.perms.branch[0]?r.a.createElement(s.b,{to:"branch",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.c,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Chi Nh\xe1nh")):null,"1"==this.state.perms.status[0]?r.a.createElement(s.b,{to:"status",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.a,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"T\xecnh Tr\u1ea1ng")):null,"1"==this.state.perms.backup[0]?r.a.createElement(s.b,{to:"subscription",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.j,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"G\xf3i Mua")):null,"1"==this.state.perms.backup[0]?r.a.createElement(s.b,{to:"admin/subscription",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.j,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Qu\u1ea3n L\xfd G\xf3i Mua")):null,"1"==this.state.perms.transaction_management[0]?r.a.createElement(s.b,{to:"settings/transactions",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(z.e,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Qu\u1ea3n L\xfd Giao D\u1ecbch")):null)):r.a.createElement("div",null)}}]),a}(n.Component)),Dt=a(41),It=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleChangeTab=function(e){n.setState({tab_active:e}),n.props.onChangeTab(e)},n.state={tab_active:n.props.tab},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tab_bar"},this.props.data.map((function(t,a){return r.a.createElement("div",{key:a,onClick:function(){return e.handleChangeTab(a)},className:e.state.tab_active===a?"tab active":"tab"},r.a.createElement("span",{className:"tab_title"},t.ten_nhom))})))}}]),a}(n.Component),Mt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={empty:[0,0,0,0]},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"tab_content_container"},r.a.createElement("div",{className:"tab_content_header_container"},r.a.createElement("h1",{className:"tab_content_header"},"Danh s\xe1ch ch\u1ee9c n\u0103ng:"),r.a.createElement("div",{className:"tab_header_right_item_container"},r.a.createElement("span",{className:"tab_header_item_title"},"Truy c\u1eadp"),r.a.createElement("span",{className:"tab_header_item_title"},"Th\xeam"),r.a.createElement("span",{className:"tab_header_item_title"},"Ch\u1ec9nh s\u1eeda"),r.a.createElement("span",{className:"tab_header_item_title"},"X\xf3a"))),r.a.createElement("div",{className:"tab_content"},r.a.createElement("div",{className:"tab_side_bar"},r.a.createElement("span",{className:"tab_side_bar_title"},"C\xf4ng Vi\u1ec7c"),r.a.createElement("span",{className:"tab_side_bar_item"},"\u0110\u01a1n H\xe0ng"),r.a.createElement("span",{className:"tab_side_bar_item"},"L\u1ecbch"),r.a.createElement("span",{className:"tab_side_bar_item"},"Kh\xe1ch H\xe0ng"),r.a.createElement("span",{className:"tab_side_bar_item"},"Chi"),r.a.createElement("span",{className:"tab_side_bar_title"},"S\u1ea3n Ph\u1ea9m"),r.a.createElement("span",{className:"tab_side_bar_item"},"G\xf3i Ch\u1ee5p"),r.a.createElement("span",{className:"tab_side_bar_item"},"D\u1ecbch V\u1ee5"),r.a.createElement("span",{className:"tab_side_bar_title"},"B\xe1o C\xe1o"),r.a.createElement("span",{className:"tab_side_bar_item"},"B\xe1o C\xe1o Doanh Thu"),r.a.createElement("span",{className:"tab_side_bar_item"},"B\xe1o C\xe1o Thu Chi"),r.a.createElement("span",{className:"tab_side_bar_title"},"H\u1ec7 Th\u1ed1ng"),r.a.createElement("span",{className:"tab_side_bar_item"},"Nh\xe2n Vi\xean"),r.a.createElement("span",{className:"tab_side_bar_item"},"Ch\u1ee9c N\u0103ng Truy C\u1eadp"),r.a.createElement("span",{className:"tab_side_bar_item"},"Qu\u1ea3n L\xfd Ch\u1ea5m C\xf4ng"),r.a.createElement("span",{className:"tab_side_bar_item"},"Chi Nh\xe1nh"),r.a.createElement("span",{className:"tab_side_bar_item"},"T\xecnh Tr\u1ea1ng"),r.a.createElement("span",{className:"tab_side_bar_item"},"Qu\u1ea3n L\xfd Giao D\u1ecbch"),r.a.createElement("span",{className:"tab_side_bar_item"},"L\u01b0\u01a1ng Nh\xe2n Vi\xean"),r.a.createElement("span",{className:"tab_side_bar_item"},"Sao L\u01b0u"),r.a.createElement("span",{className:"tab_side_bar_item"},"Th\xf9ng R\xe1c")),r.a.createElement("div",{className:"tab_tick_container"},r.a.createElement("div",{className:"tab_tick"},this.state.empty.map((function(a,n){return r.a.createElement("div",{className:"column",key:"column"+n},r.a.createElement("div",{className:"checkbox",key:"bill"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"bill",n)},defaultChecked:"1"==t.bill[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"calendar"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"calendar",n)},defaultChecked:"1"==t.calendar[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"customers"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"customers",n)},defaultChecked:"1"==t.customers[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"spending"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"spending",n)},defaultChecked:t.spending&&"1"==t.spending[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"goi_chup"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"goi_chup",n)},defaultChecked:"1"==t.goi_chup[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"services"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"services",n)},defaultChecked:"1"==t.services[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"total_analytics"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"total_analytics",n)},defaultChecked:"1"==t.total_analytics[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"spending_analytics"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"spending_analytics",n)},defaultChecked:t.spending_analytics&&"1"==t.spending_analytics[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"staff"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"staff",n)},defaultChecked:"1"==t.staff[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"permisisons"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"permissions",n)},defaultChecked:"1"==t.permissions[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"cham_cong"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"cham_cong",n)},defaultChecked:t.cham_cong&&"1"==t.cham_cong[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"branch"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"branch",n)},defaultChecked:"1"==t.branch[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"status"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"status",n)},defaultChecked:"1"==t.status[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"transaction_management"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"transaction_management",n)},defaultChecked:"1"==t.staff[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"staff_salary"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"staff_salary",n)},defaultChecked:"1"==t.staff_salary[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"backup"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"backup",n)},defaultChecked:"1"==t.backup[n]?"checked":null})),r.a.createElement("div",{className:"checkbox",key:"trash"+n},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.props.onTickBox(t,"trash",n)},defaultChecked:"1"==t.trash[n]?"checked":null})))}),this)))))}}]),a}(n.Component),Bt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onTabChange=function(e){n.setState({tab_data:null,tab:e}),Q.Permission.getAll().then((function(t){n.setState({tab_data:t.data[e].perms})})).catch((function(e){return console.log(e)}))},n.handleOpenCreateModal=function(){n.setState({is_modal_open:"true"})},n.handleOpenEditModal=function(){n.setState({is_edit_modal_open:"true"})},n.handleCloseModal=function(){n.setState({is_modal_open:"false",is_edit_modal_open:"false"})},n.handleTickBox=function(e,t,a){var r=n.state.tab_data,c=n.state.permission_data;(c=c[n.state.tab]).perms=r;var l={};l[t]=["0","0","0","0"],r[t]?r[t][a]=e.target.checked?"1":"0":(l[t][a]=e.target.checked?"1":"0",r=Object.assign(r,l)),Q.Permission.update(c._id,c).then((function(e){})).catch((function(e){return console.log(e)}))},n.handleUpdate=function(){Q.Permission.getAll().then((function(e){n.setState({permission_data:e.data,tab_data:e.data[0].perms,tab:0}),n.handleCloseModal()})).catch((function(e){return console.log(e)}))},n.state={is_modal_open:"false",is_edit_modal_open:"false",permission_data:null,tab_data:null,tab:0,user_perms:null},Q.Permission.getAll().then((function(e){n.setState({permission_data:e.data,tab_data:e.data[0].perms})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({user_perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.permission_data&&this.state.tab_data&&this.state.user_perms?r.a.createElement("div",{className:"view"},r.a.createElement(Fe,Object(Dt.a)({onGoBack:function(){return e.props.history.goBack()},handleCreate:null,create_btn_link:null,handleSave:null,handleRemove:null,title:"Ch\u1ee9c N\u0103ng Truy C\u1eadp",handleEdit:"1"==this.state.user_perms.permissions[2]?this.handleOpenEditModal:null},"handleCreate","1"==this.state.user_perms.permissions[1]?this.handleOpenCreateModal:null)),r.a.createElement(It,{onChangeTab:this.onTabChange,tab:this.state.tab,data:this.state.permission_data}),r.a.createElement(Mt,{data:this.state.tab_data,tab:this.state.tab,onTickBox:this.handleTickBox}),r.a.createElement(ht,{is_open:this.state.is_modal_open,handleCloseModal:this.handleCloseModal,onCreateNew:this.handleUpdate}),r.a.createElement(pt,{is_open:this.state.is_edit_modal_open,tab:this.state.tab,handleSave:this.handleUpdate,handleRemove:this.handleUpdate,ten_nhom:this.state.permission_data[this.state.tab].ten_nhom,_id:this.state.permission_data[this.state.tab]._id,handleCloseModal:this.handleCloseModal})):r.a.createElement("div",{className:"view"},r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Ch\u1ee9c N\u0103ng Truy C\u1eadp",handleCreate:this.handleUpdateData}))}}]),a}(n.Component),Pt=[{key:"ten_chi_nhanh",title:"T\xean chi nh\xe1nh",colored:!0},{key:"dia_chi",title:"\u0110\u1ecba ch\u1ec9"}],Lt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleOpenCreateModal=function(){n.refs.ten_chi_nhanh.value="",n.refs.dia_chi.value="",n.setState({is_modal_open:"true",color:b.COLORS.blue})},n.handleOpenEditModal=function(e,t){Q.Branch.get(e).then((function(t){var a=t.data;n.refs.ten_chi_nhanh.value=a.ten_chi_nhanh,n.refs.dia_chi.value=a.dia_chi,n.setState({is_modal_open:"true",edit_id:e,color:a.color})})).catch((function(e){return console.log(e)}))},n.handleSearch=function(e){""===e&&Q.Branch.getAll().then((function(e){n.setState({data:e.data.reverse()})})),Q.Branch.getAll((function(t){var a=t.data.reverse().filter((function(t,a){return re(t.ten_chi_nhanh).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.dia_chi).toLowerCase().indexOf(re(e).toLowerCase())>-1}));n.setState({data:a})}))},n.updateData=function(){Q.Branch.getAll().then((function(e){n.setState({data:e.data,is_modal_open:"false"})})).catch((function(e){return console.log(e)}))},n.handleSave=function(){var e={ten_chi_nhanh:n.refs.ten_chi_nhanh.value,dia_chi:n.refs.dia_chi.value,color:n.state.color};n.state.edit_id?Q.Branch.update(n.state.edit_id,e).then((function(e){console.log(e),n.updateData()})).catch((function(e){return console.log(e)})):Q.Branch.add(e).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}))},n.handleRemove=function(){Q.Branch.remove(n.state.edit_id).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}))},n.handleChangeColor=function(e){n.setState({color:e})},n.state={is_modal_open:"false",data:null,edit_id:null,perms:null,color:b.COLORS.blue},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),Q.Branch.getAll().then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.data&&this.state.perms?r.a.createElement("div",null,r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Chi Nh\xe1nh",onSearchKeyPress:this.handleSearch,handleCreate:"1"==this.state.perms.branch[1]?this.handleOpenCreateModal:null}),r.a.createElement(fe,{columns:Pt,data:this.state.data,onClick:this.handleOpenEditModal}),r.a.createElement(Ce,{title:"S\u1eeda Chi Nh\xe1nh",is_open:this.state.is_modal_open,onClose:this.state.edit_id?null:function(){return e.setState({is_modal_open:"false"})},onSave:"1"==this.state.perms.branch[2]?function(){return e.handleSave()}:null,onRemove:"1"==this.state.perms.branch[3]&&this.state.edit_id?function(){return e.handleRemove()}:null},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean chi nh\xe1nh"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_chi_nhanh"})),r.a.createElement("div",{className:"box textarea",style:{width:"234px"}},r.a.createElement("span",{className:"title"},"\u0110\u1ecba ch\u1ec9"),r.a.createElement("textarea",{className:"textbox",ref:"dia_chi"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ch\u1ecdn m\xe0u"),r.a.createElement("div",{className:"colors_picker_container"},Object.values(b.COLORS).map((function(t,a){return r.a.createElement("div",{className:e.state.color===t?"active color":"color",key:"color-select-".concat(a),style:{backgroundColor:t},onClick:function(){return e.handleChangeColor(t)}})})))))):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Ft=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSave=function(){n.refs.staff_form.handleSave()},n.saveStaff=function(e){if("create_new"!==n.props.match.params.id){var t=e;n.state.data.password===t.password&&delete t.password,Q.Staff.update(n.props.match.params.id,t).then((function(e){n.props.history.goBack()})).catch((function(e){return console.log(e)}))}else Q.Staff.add(e).then((function(e){n.props.history.goBack()})).catch((function(e){return console.log(e)}))},n.handleRemove=function(){Q.Staff.remove(n.props.match.params.id).then((function(e){n.props.history.goBack()})).catch((function(e){return console.log(e)}))},n.state={data:null,perms:null},"create_new"!==n.props.match.params.id&&Q.Staff.get(n.props.match.params.id).then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return!this.state.data&&"create_new"!==this.props.match.params.id||!this.state.perms?r.a.createElement("div",null):r.a.createElement("div",{className:"view"},"create_new"!==this.props.match.params.id?r.a.createElement(Fe,{create_btn_link:null,onGoBack:function(){return e.props.history.goBack()},handleRemove:"1"==this.state.perms.staff[3]?this.handleRemove:null,title:"Nh\xe2n Vi\xean",handleSave:"1"==this.state.perms.staff[2]?this.handleSave:null}):r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Nh\xe2n Vi\xean",handleSave:this.handleSave}),r.a.createElement(W,{ref:"staff_form",data:this.state.data,onSave:this.saveStaff}))}}]),a}(n.Component),At=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){""===e&&n.setState({salary_data:n.state.default_salary_data});var t=n.state.default_salary_data.filter((function(t,a){return re(t.email).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.ho_ten).toLowerCase().indexOf(re(e).toLowerCase())>-1}));n.setState({salary_data:t})},n.onInputChange=function(e,t,a){var r=n.state.salary_data,c=n.state.default_salary_data,l=n.state.staff_data;l=l[ae(l,"_id",a)],r[ae(r,"_id",a)][t]="ngay_cong"==t?e.target.value>=0?e.target.value:0:parseInt(e.target.value>=0?e.target.value:0),c[ae(r,"_id",a)][t]="ngay_cong"==t?e.target.value>=0?e.target.value:0:parseInt(e.target.value>=0?e.target.value:0),le(r[ae(r,"_id",a)],parseInt(n.state.date_filter.split("-")[0]),parseInt(n.state.date_filter.split("-")[1]),(function(e){r[ae(r,"_id",a)]=e,c[ae(r,"_id",a)]=e,n.setState({salary_data:r,default_salary_data:c}),n.handleLoadBonus()}))},n.handleLoadBonus=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.PackageType.getSlug("goi_chup").then((function(e){n.setState({goi_chup:e.data})})).catch((function(e){return console.log(e)})),Q.PackageType.getSlug("dich_vu").then((function(e){n.setState({dich_vu:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.handleFilter=function(e){var t=n.state.staff_data,a=e.split("-");n.setState({salary_data:[]}),t.forEach((function(t,r){ce(t,a[0],parseInt(a[1])-1,(function(t){if(t){var a=n.state.salary_data;a.push(t),n.setState({salary_data:a,default_salary_data:a,date_filter:e}),n.handleLoadBonus()}}))}))},n.handleSave=function(){n.state.default_salary_data.forEach((function(e,t){var a={luong_co_ban:e.luong_co_ban,ngay_cong:e.ngay_cong,phan_tram_thuong_dich_vu_tu_van:e.phan_tram_thuong_dich_vu_tu_van?parseInt(e.phan_tram_thuong_dich_vu_tu_van):0,phan_tram_thuong_goi_chup_photo:e.phan_tram_thuong_goi_chup_photo?parseInt(e.phan_tram_thuong_goi_chup_photo):0,phan_tram_thuong_goi_chup_tu_van:e.phan_tram_thuong_goi_chup_tu_van?parseInt(e.phan_tram_thuong_goi_chup_tu_van):0,phan_tram_thuong_photoshop:e.phan_tram_thuong_photoshop?parseInt(e.phan_tram_thuong_photoshop):0,date_created:n.state.date_filter};Q.StaffSalary.update(e._id,a).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}))},n.state={staff_data:null,date_filter:(new Date).getFullYear()+"-"+parseInt((new Date).getMonth()),perms:null,salary_data:[],default_salary_data:[]},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),Q.Staff.getAll().then((function(e){n.setState({staff_data:e.data}),e.data.forEach((function(e,t){le(e,(new Date).getFullYear(),parseInt((new Date).getMonth()),(function(e){var t=n.state.salary_data;t.push(e),n.setState({salary_data:t,default_salary_data:t}),n.handleLoadBonus()}))}))})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.staff_data&&this.state.perms?r.a.createElement("div",null,r.a.createElement(Fe,{handleSave:"1"==this.state.perms.staff_salary[2]?this.handleSave:null,onDropdownFilterSalaryBtnClick:this.handleFilter,handleSalaryFilter:this.handleFilter,handleEdit:null,onGoBack:function(){return e.props.history.goBack()},handleCreate:null,create_btn_link:null,onSearchKeyPress:this.handleSearch,handleRemove:null,title:"L\u01b0\u01a1ng Nh\xe2n Vi\xean",back_link:"/settings"}),r.a.createElement(pe,{data:this.state.salary_data,perms:this.state.perms,onInputChange:this.onInputChange})):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Rt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){""===e&&Q.Staff.getAll().then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),Q.Staff.getAll().then((function(t){var a=t.data.filter((function(t,a){return re(t.email).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.ho_ten).toLowerCase().indexOf(re(e).toLowerCase())>-1}));n.setState({data:a})})).catch((function(e){return console.log(e)}))},n.state={perms:null,data:null},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),Q.Staff.getAll().then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.perms&&this.state.data?r.a.createElement("div",null,r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Nh\xe2n Vi\xean",onSearchKeyPress:this.handleSearch,handleSave:null,handleRemove:null,handleCreate:null,create_btn_link:"1"==this.state.perms.staff[1]?"staff_edit/create_new":null}),r.a.createElement(Ue,{data:this.state.data,perms:this.state.perms})):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Ut=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){""===e&&Q.Bill.getAll().then((function(e){var t=e.data;t=t.filter((function(e,t){return 1==e.deleted})),n.setState({bill:t})})).catch((function(e){return console.log(e)})),Q.Bill.getAll().then((function(t){var a=t.data.filter((function(t,a){return!!t.deleted&&(re(t.ten_khach_hang).toLowerCase().indexOf(re(e).toLowerCase())>-1||(re(t.ho_ten_be).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.so_dien_thoai).toLowerCase().indexOf(re(e).toLowerCase())>-1))}));n.setState({bill:a})})).catch((function(e){return console.log(e)}))},n.state={bill:null},Q.Bill.getAll().then((function(e){var t=e.data.filter((function(e,t){return e.deleted}));n.setState({bill:t})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){return this.state.bill?r.a.createElement("div",null,r.a.createElement(Pe,{title:"Th\xf9ng R\xe1c",onSearchKeyPress:this.handleSearch}),r.a.createElement(Ae,{data:this.state.bill,type:"0",isDelete:!0})):r.a.createElement("div",null)}}]),a}(n.Component),Yt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={perms:null},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.perms?r.a.createElement("div",{className:"settings_view"},localStorage.getItem("chuc_vu")?r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Nh\xe2n S\u1ef1"}):null,r.a.createElement("div",{className:"settings_container"},"1"==this.state.perms.staff[0]?r.a.createElement(s.b,{to:"personnel/staff",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.n,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Nh\xe2n Vi\xean")):null,"1"==this.state.perms.staff_salary[0]?r.a.createElement(s.b,{to:"personnel/staff_salary",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.h,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"L\u01b0\u01a1ng Nh\xe2n Vi\xean")):null,r.a.createElement(s.b,{to:"personnel/cham_cong",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.o,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Ch\u1ea5m C\xf4ng")),"1"==this.state.perms.permissions[0]?r.a.createElement(s.b,{to:"personnel/permission",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.l,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Ch\u1ee9c N\u0103ng Truy C\u1eadp")):null,"1"==this.state.perms.cham_cong[0]?r.a.createElement(s.b,{to:"personnel/cham_cong_list",className:"setting_card"},r.a.createElement("div",{className:"icon_container"},r.a.createElement(ge.k,{className:"icon"})),r.a.createElement("span",{className:"setting_title"},"Qu\u1ea3n L\xfd Ch\u1ea5m C\xf4ng")):null)):r.a.createElement("div",null)}}]),a}(n.Component),Gt=[{key:"ho_ten",title:"H\u1ecd t\xean"}],Kt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){Q.Staff.getAll().then((function(t){var a=t.data.reverse();e||n.setState({data:a});var r=a.filter((function(t,a){return re(t.email).toLowerCase().indexOf(re(e).toLowerCase())>-1||re(t.ho_ten).toLowerCase().indexOf(re(e).toLowerCase())>-1}));n.setState({data:r})})).catch((function(e){return console.log(e)}))},n.state={data:null,redirectId:null},Q.Staff.getAll().then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirectId?r.a.createElement(d.a,{to:"cham_cong_edit/".concat(this.state.redirectId)}):this.state.data?r.a.createElement("div",null,r.a.createElement(Fe,{handleEdit:null,onGoBack:function(){return e.props.history.goBack()},handleCreate:null,create_btn_link:null,onSearchKeyPress:this.handleSearch,handleSave:null,handleRemove:null,title:"Qu\u1ea3n L\xfd Ch\u1ea5m C\xf4ng",back_link:"/settings"}),r.a.createElement(fe,{columns:Gt,data:this.state.data,onClick:function(t){return e.setState({redirectId:t})}})):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Ht=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleFilter=function(e){var t=e.split("-")[0],a=new Date(e).getMonth()+1;n.setState({date:null}),Q.ChamCong.get(n.props.match.params.id,a,t).then((function(e){n.setState({sang:e.data.sang?e.data.sang:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],chieu:e.data.chieu?e.data.chieu:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],year:t,months:a,date:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]})})).catch((function(e){return console.log(e)}))},n.state={month:[1,2,3,4,5,6,7,8,9,10,11,12],date:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],tab:(new Date).getMonth(),sang:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],year:(new Date).getFullYear(),months:parseInt((new Date).getMonth())+1,chieu:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],perms:null},Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),Q.ChamCong.get(n.props.match.params.id,(new Date).getMonth()+1,(new Date).getFullYear()).then((function(e){var t,a;n.setState({sang:(null===(t=e.data)||void 0===t?void 0:t.sang)||n.state.sang,chieu:(null===(a=e.data)||void 0===a?void 0:a.chieu)||n.state.chieu})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e,t=this;return this.state.perms?r.a.createElement("div",{className:"view"},r.a.createElement(Fe,(e={onDropdownFilterSalaryBtnClick:this.handleFilter,handleSalaryFilter:this.handleFilter},Object(Dt.a)(e,"onDropdownFilterSalaryBtnClick",this.handleFilter),Object(Dt.a)(e,"handleSalaryFilter",this.handleFilter),Object(Dt.a)(e,"handleRemove",null),Object(Dt.a)(e,"onGoBack",(function(){return t.props.history.goBack()})),Object(Dt.a)(e,"title","L\u01b0\u01a1ng Nh\xe2n Vi\xean"),Object(Dt.a)(e,"handleSave","1"==this.state.perms.staff_salary[2]?this.handleSave:null),e)),r.a.createElement(_e,{perms:this.state.perms,user_id:this.props.match.params.id,month:this.state.month,months:this.state.months,year:this.state.year,sang:this.state.sang,chieu:this.state.chieu,date:this.state.date})):r.a.createElement("div",null)}}]),a}(n.Component),Vt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleFilter=function(e){var t=e.split("-")[0],a=new Date(e).getMonth()+1;n.setState({date:null}),Q.ChamCong.getUser(a,t).then((function(e){var r=e.data;n.setState({sang:(null===r||void 0===r?void 0:r.sang)||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],chieu:(null===r||void 0===r?void 0:r.chieu)||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],year:t,months:a,date:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]})})).catch((function(e){return console.log(e)}))},n.state={modal_is_open:"false",edit_modal_is_open:"false",edit_id:null,data_spending:null,perms:null,month:[1,2,3,4,5,6,7,8,9,10,11,12],date:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],tab:(new Date).getMonth(),sang:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],year:(new Date).getFullYear(),months:(new Date).getMonth()+1,chieu:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},Q.ChamCong.getUser((new Date).getMonth()+1,(new Date).getFullYear()).then((function(e){var t,a;n.setState({sang:(null===(t=e.data)||void 0===t?void 0:t.sang)||n.state.sang,chieu:(null===(a=e.data)||void 0===a?void 0:a.chieu)||n.state.chieu})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.perms?r.a.createElement("div",{className:"view"},r.a.createElement(Fe,{type:"1",onDropdownFilterSalaryBtnClick:this.handleFilter,handleSalaryFilter:this.handleFilter,title:"Ch\u1ea5m C\xf4ng",onGoBack:function(){return e.props.history.goBack()},handleCreate:"1"==this.state.perms.spending[1]?this.handleOpenModal:null,onSearchKeyPress:this.handleSearch}),r.a.createElement(_e,{perms:this.state.perms,user_id:localStorage.getItem("user_id"),month:this.state.month,months:this.state.months,year:this.state.year,sang:this.state.sang,chieu:this.state.chieu,date:this.state.date})):r.a.createElement("div",{className:"load_view"},r.a.createElement(he,null))}}]),a}(n.Component),Jt=[{key:"ten_tinh_trang",title:"T\xean t\xecnh tr\u1ea1ng",colored:!0}],Qt=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleOpenCreateModal=function(){n.refs.ten_tinh_trang.value="",n.setState({is_modal_open:"true",color:b.COLORS.blue})},n.handleOpenEditModal=function(e){Q.Status.get(e).then((function(t){n.refs.ten_tinh_trang.value=t.data.ten_tinh_trang,n.setState({is_modal_open:"true",edit_id:e,color:t.data.color})})).catch((function(e){return console.log(e)}))},n.updateData=function(){n.refs.ten_tinh_trang.value="",Q.Status.getAll().then((function(e){n.setState({data:e.data,is_modal_open:"false",edit_id:null,color:b.COLORS.blue})})).catch((function(e){return console.log(e)}))},n.handleChangeColor=function(e){n.setState({color:e})},n.handleSave=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={ten_tinh_trang:n.refs.ten_tinh_trang.value,color:n.state.color},!n.state.edit_id){e.next=6;break}return e.next=4,Q.Status.update(n.state.edit_id,t).catch((function(e){return console.log(e)}));case 4:e.next=8;break;case 6:return e.next=8,Q.Status.add(t).catch((function(e){return console.log(e)}));case 8:n.updateData();case 9:case"end":return e.stop()}}),e)}))),n.handleRemove=function(){Q.Status.remove(n.state.edit_id).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}))},n.state={is_modal_open:"false",data:null,edit_id:null,perms:null,color:b.COLORS.blue},Q.Status.getAll().then((function(e){n.setState({data:e.data})})).catch((function(e){return console.log(e)})),Q.Permission.getUserPerm().then((function(e){n.setState({perms:e.data.perms})})).catch((function(e){return console.log(e)})),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.data&&this.state.perms?r.a.createElement("div",null,r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"T\xecnh Tr\u1ea1ng",handleCreate:"1"==this.state.perms.status[1]?this.handleOpenCreateModal:null}),r.a.createElement(fe,{columns:Jt,data:this.state.data,onClick:this.handleOpenEditModal}),r.a.createElement(Ce,{title:"Th\xeam T\xecnh Tr\u1ea1ng",is_open:this.state.is_modal_open,onClose:this.state.edit_id?null:function(){return e.setState({is_modal_open:"false"})},onSave:"1"==this.state.perms.status[2]?function(){return e.handleSave()}:null,onRemove:"1"==this.state.perms.status[3]&&this.state.edit_id?function(){return e.handleRemove()}:null},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean t\xecnh tr\u1ea1ng"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_tinh_trang"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ch\u1ecdn m\xe0u"),r.a.createElement("div",{className:"colors_picker_container"},Object.values(b.COLORS).map((function(t,a){return r.a.createElement("div",{className:e.state.color===t?"active color":"color",key:"color-select-".concat(a),style:{backgroundColor:t},onClick:function(){return e.handleChangeColor(t)}})})))))):r.a.createElement("div",null)}}]),a}(n.Component),Wt=(a(454),function(e){var t=e.history,a=Object(n.useState)([]),c=Object(h.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(null),p=Object(h.a)(o,2),d=p[0],m=p[1];Object(n.useEffect)((function(){Q.Subscription.getAll().then((function(e){s(e.data)})).catch((function(e){return console.log(e)})),Q.Subscription.getCompany().then((function(e){m(e.data.subscription._id)})).catch((function(e){return console.log(e)}))}),[]);var _=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Subscription.createTransaction(t).then((function(e){window.open(e.data.payUrl,"Test","height=600,width=800").onbeforeunload=function(){console.log("DONE")},m(t)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"view view_subscription"},r.a.createElement(Fe,{onGoBack:function(){return t.goBack()},title:"G\xf3i Mua"}),r.a.createElement("div",{className:"head-container"},r.a.createElement("h2",null,"G\xf3i \u0110\u0103ng K\xfd"),r.a.createElement("p",null,"In publishing and graphic design, Lorem ipsum is a placeholder text commonly")),r.a.createElement("div",{className:"subscription-container"},l.map((function(e,t){return r.a.createElement(je,{title:e.title,description:e.description,price:e.price,strikePrice:e.strikePrice,save:e.discount,key:"subscription-card-".concat(t),subscribed:d===e._id,onClick:function(){return _(e._id)}})}))))}),Xt=(a(455),new R),zt=function(){return r.a.createElement("div",{className:"timeline"},r.a.createElement("div",{className:"timeline__dot"}),r.a.createElement("div",{className:"timeline__date-container"},r.a.createElement("span",{className:"timeline__date-container__value"},"Nov 3, 2022")))},qt=function(e){var t,a,c,l,s,o,p,m,_,f,g=e.history,v=(Object(d.g)().id,Object(n.useState)([])),b=Object(h.a)(v,2),E=b[0],y=b[1],k=Object(n.useState)(0),N=Object(h.a)(k,2),C=N[0],x=N[1];Object(n.useEffect)((function(){w(),O()}),[]);var w=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Spending.getAll();case 2:t=(t=e.sent).data.reverse(),y(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xt.Spending().onAdd((function(e){w()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Spending.confirm(E[C]._id,t);case 2:w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"view transactions"},r.a.createElement(Fe,{onGoBack:function(){return g.goBack()},title:"Qu\u1ea3n L\xfd Giao D\u1ecbch"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col"},r.a.createElement(Te,null,r.a.createElement("h1",null,"Th\xf4ng tin chi ti\u1ebft"),r.a.createElement("span",null,r.a.createElement("b",null,"Tr\u1ea1ng th\xe1i: "),r.a.createElement("span",null,null===(t=E[C])||void 0===t?void 0:t.status)),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\u01b0\u1eddi t\u1ea1o: "),r.a.createElement("span",null,null===(a=E[C])||void 0===a||null===(c=a.user_id)||void 0===c?void 0:c.ho_ten)),r.a.createElement("span",null,r.a.createElement("b",null,"Th\u1eddi gian: "),r.a.createElement("span",null,null===(l=E[C])||void 0===l?void 0:l.date_created)),r.a.createElement("hr",null),r.a.createElement("span",null,r.a.createElement("b",null,"S\u1ed1 ti\u1ec1n: "),r.a.createElement("span",null,null===(s=E[C])||void 0===s?void 0:s.so_tien)),r.a.createElement("span",null,r.a.createElement("b",null,"Lo\u1ea1i thanh to\xe1n: "),r.a.createElement("span",null,null===(o=E[C])||void 0===o?void 0:o.type)),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\u01b0\u1eddi nh\u1eadn: "),r.a.createElement("span",null,null===(p=E[C])||void 0===p?void 0:p.to_wallet)),r.a.createElement("span",null,r.a.createElement("b",null,"N\u1ed9i dung chi: "),r.a.createElement("span",null,null===(m=E[C])||void 0===m?void 0:m.noi_dung)),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex",gap:24}},r.a.createElement("button",{disabled:"pending"!=(null===(_=E[C])||void 0===_?void 0:_.status),className:"btn red",onClick:function(){return S("refused")},style:{flex:1}},"T\u1eeb ch\u1ed1i"),r.a.createElement("button",{disabled:"pending"!=(null===(f=E[C])||void 0===f?void 0:f.status),className:"btn blue",onClick:function(){return S("accepted")},style:{flex:1}},"Duy\u1ec7t")))),r.a.createElement("div",{className:"col"},r.a.createElement(zt,null),E.map((function(e,t){return r.a.createElement(Te,{key:"history-card-".concat(t),onClick:function(){return x(t)}},r.a.createElement("span",null,e.user_id.ho_ten),r.a.createElement("span",null,r.a.createElement("b",null,"Tr\u1ea1ng th\xe1i: "),r.a.createElement("span",null,e.status)))})))))},$t=(a(456),a(457),function(e){var t=e.history,a=Object(n.useState)({}),c=Object(h.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)({}),p=Object(h.a)(o,2),d=p[0],m=p[1],_=Object(n.useState)({}),f=Object(h.a)(_,2),g=f[0],v=f[1],b=Object(n.useState)(""),E=Object(h.a)(b,2),y=(E[0],E[1],Object(n.useState)(!1)),k=Object(h.a)(y,2),N=k[0],C=k[1],x=Object(n.useRef)(0),w=Object(n.useRef)(0);Object(n.useEffect)((function(){O()}),[]);var O=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),e.next=3,Q.Staff.get(t);case 3:return a=e.sent,e.next=6,Q.StaffSalary.getUser(t);case 6:n=e.sent,s(a.data),m(n.data),le(a.data,(new Date).getFullYear(),(new Date).getMonth(),(function(e){v(e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.current.value,a=w.current.value,e.next=4,Q.Staff.updatePassword(t,a).catch((function(e){return alert("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!")}));case 4:C(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"view profile-view"},r.a.createElement(Fe,{onGoBack:function(){return t.goBack()},title:"Th\xf4ng Tin C\xe1 Nh\xe2n"}),r.a.createElement("div",{className:"profile-view__container"},r.a.createElement(Te,{title:"Th\xf4ng tin c\xe1 nh\xe2n"},r.a.createElement("span",null,r.a.createElement("b",null,"H\u1ecd t\xean: "),r.a.createElement("span",null,l.ho_ten)),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\xe0y sinh: "),r.a.createElement("span",null,new Date(l.ngay_sinh).format("dd/MM/yyyy")," - ",new Date(l.ngay_sinh).getAge()," tu\u1ed5i")),r.a.createElement("span",null,r.a.createElement("b",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: "),r.a.createElement("span",null,l.so_dien_thoai)),r.a.createElement("span",null,r.a.createElement("b",null,"TK Ng\xe2n H\xe0ng: "),r.a.createElement("span",null,l.banking_address)),r.a.createElement("span",null,r.a.createElement("b",null,"\u0110\u1ecba ch\u1ec9 v\xed: "),r.a.createElement("span",null,l.wallet_address)),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\xe0y v\xe0o l\xe0m: "),r.a.createElement("span",null,new Date(l.date_created).format("dd/MM/yyyy"))),r.a.createElement("span",null,r.a.createElement("b",null,"M\u1eadt kh\u1ea9u: ")),r.a.createElement("button",{className:"btn blue",onClick:function(){return C(!0)}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u")),r.a.createElement(Te,{title:"B\u1ea3ng l\u01b0\u01a1ng"},r.a.createElement("span",null,r.a.createElement("b",null,"L\u01b0\u01a1ng c\u01a1 b\u1ea3n: "),r.a.createElement("span",null,d.luong_co_ban)),r.a.createElement("span",null,r.a.createElement("b",null,"Ng\xe0y c\xf4ng: "),r.a.createElement("span",null,d.ngay_cong)),r.a.createElement("span",null,r.a.createElement("b",null,"L\u01b0\u01a1ng th\xe1ng n\xe0y: "),r.a.createElement("span",null,g.luong_thang)),r.a.createElement("span",null,r.a.createElement("b",null,"% th\u01b0\u1edfng t\u01b0 v\u1ea5n (GC): "),r.a.createElement("span",null,d.phan_tram_thuong_goi_chup_tu_van," %")),r.a.createElement("span",null,r.a.createElement("b",null,"% th\u01b0\u1edfng photo: "),r.a.createElement("span",null,d.phan_tram_thuong_goi_chup_photo," %")),r.a.createElement("span",null,r.a.createElement("b",null,"% th\u01b0\u1edfng photoshop: "),r.a.createElement("span",null,d.phan_tram_thuong_photoshop," %")),r.a.createElement("span",null,r.a.createElement("b",null,"% th\u01b0\u1edfng t\u01b0 v\u1ea5n (DV): "),r.a.createElement("span",null,d.phan_tram_thuong_dich_vu_tu_van," %")),r.a.createElement("span",null,r.a.createElement("b",null,"Th\u01b0\u1edfng d\u1ecbch v\u1ee5: "),r.a.createElement("span",null,g.total_service)),r.a.createElement("span",null,r.a.createElement("b",null,"T\u1ed5ng th\u01b0\u1edfng doanh thu: "),r.a.createElement("span",null,g.total_photo)),r.a.createElement("span",null,r.a.createElement("b",null,"T\u1ed5ng th\u01b0\u1edfng: "),r.a.createElement("span",null,g.total)),r.a.createElement("hr",null),r.a.createElement("span",null,r.a.createElement("b",null,"Th\u1ef1c l\xe3nh: "),r.a.createElement("span",null,g.thuc_lanh)))),r.a.createElement(Ce,{title:"\u0110\u1ed5i M\u1eadt Kh\u1ea9u",is_open:N,onClose:function(){return C(!1)},onSave:S},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"M\u1eadt kh\u1ea9u c\u0169"),r.a.createElement("input",{type:"password",className:"textbox",ref:x})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"M\u1eadt kh\u1ea9u m\u1edbi"),r.a.createElement("input",{type:"password",className:"textbox",ref:w}))))}),Zt=a(241),ea=function(e){return Object(Zt.a)(e),Object(n.useEffect)((function(){window.close()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Close Transaction"))},ta=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Giao d\u1ecbch th\xe0nh c\xf4ng, h\xe3y t\u1ea3i l\u1ea1i website \u0111\u1ec3 c\u1eadp nh\u1eadt g\xf3i m\u1edbi nh\xe9!"),r.a.createElement("button",{onClick:function(){window.close()}},"\u0110\xf3ng"))},aa=(a(458),function(){return r.a.createElement("div",{className:"view view_error"},r.a.createElement("h1",null,"T\xednh n\u0103ng kh\xf4ng c\xf3 s\u1eb5n"))}),na=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleChangeTab=function(e){n.setState({tab_active:e}),n.props.onChangeTab(e)},n.state={tab_active:n.props.tab},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tab_bar"},this.props.data.map((function(t,a){return r.a.createElement("div",{key:a,onClick:function(){return e.handleChangeTab(a)},className:e.state.tab_active===a?"tab active":"tab"},r.a.createElement("span",{className:"tab_title"},t.title))})))}}]),a}(n.Component),ra=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={empty:[0,0,0,0]},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"tab_content_container"},r.a.createElement("div",{className:"tab_content_header_container",style:{paddingLeft:0}},r.a.createElement("h1",{className:"tab_content_header",style:{position:"relative",marginRight:46}},"Danh s\xe1ch ch\u1ee9c n\u0103ng:"),r.a.createElement("div",{className:"tab_header_right_item_container",style:{flex:1}},r.a.createElement("span",{className:"tab_header_item_title"},"Truy c\u1eadp"),r.a.createElement("span",{className:"tab_header_item_title"},"Gi\u1edbi h\u1ea1n s\u1ed1 l\u01b0\u1ee3ng ( -1 : Kh\xf4ng gi\u1edbi h\u1ea1n )"))),r.a.createElement("div",{className:"tab_content",style:{alignItems:"baseline"}},r.a.createElement("div",{className:"tab_side_bar"},Object.values(t.features).map((function(e,t){return r.a.createElement("span",{className:"tab_side_bar_item",key:"side-bar-item-".concat(t),style:{height:31,marginTop:24}},e.title)}))),r.a.createElement("div",{className:"tab_tick_container",style:{position:"relative",flex:1,justifyContent:"start"}},r.a.createElement("div",{className:"tab_tick",style:{justifyContent:"start",flexDirection:"column",gap:24,margin:0,marginLeft:-24}},Object.values(t.features).map((function(a,n){return r.a.createElement("div",{className:"tick_row",style:{display:"flex",alignItems:"center"},key:"tich-row-".concat(n)},r.a.createElement("div",{className:"checkbox_container",style:{marginLeft:42}},r.a.createElement("input",{type:"checkbox",onChange:function(a){return e.props.onChange(a,Object.keys(t.features)[n],"available")},defaultChecked:a.available||!1})),r.a.createElement("div",{className:"input_container",style:{marginLeft:80}},r.a.createElement("input",{type:"number",onChange:function(a){return e.props.onChange(a,Object.keys(t.features)[n],"limit")},className:"textbox",defaultValue:a.limit||0})))}))))))}}]),a}(n.Component),ca=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onTabChange=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({tab_data:null,tab:t}),Q.Subscription.getAll().then((function(e){n.setState({data:e.data,tab_data:e.data[t]})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOpenCreateModal=function(){n.setState({is_modal_open:"true"})},n.handleOpenEditModal=function(){var e=n.state.tab_data;n.refs.ten_goi.value=e.title,n.refs.mo_ta.value=e.description,n.refs.gia.value=e.price,n.refs.phan_tram_giam.value=e.discount,n.refs.thoi_gian.value=e.duration,n.setState({is_modal_open:"true",edit_id:e._id})},n.handleCloseModal=function(){n.setState({is_modal_open:"false"})},n.handleChangeInput=function(e,t,a){var r="on"==e.target.value.toString()?e.target.checked:Number(e.target.value);n.setState({tab_data:Object(m.a)(Object(m.a)({},n.state.tab_data),{},{features:Object(m.a)(Object(m.a)({},n.state.tab_data.features),{},Object(Dt.a)({},t,Object(m.a)(Object(m.a)({},n.state.tab_data.features[t]),{},Object(Dt.a)({},a,r))))})})},n.handleSave=function(){var e=n.refs.phan_tram_giam.value,t=n.refs.gia.value,a=t/((100-e)/100),r={title:n.refs.ten_goi.value,description:n.refs.mo_ta.value.trim().split("\n"),price:t,strikePrice:a,discount:e,duration:n.refs.thoi_gian.value};n.state.edit_id?Q.Subscription.update(n.state.edit_id,r).then((function(e){n.updateData()})).catch((function(e){return console.log(e)})):Q.Subscription.add(r).then((function(e){n.updateData()})).catch((function(e){return console.log(e)})),n.updateData(),n.handleCloseModal()},n.handleFeatureSave=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.tab_data,Q.Subscription.update(t._id,t).then((function(e){n.updateData()})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.updateData=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.Subscription.getAll().then((function(e){n.setState({data:e.data,tab_data:e.data[0]})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.handleRemove=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.tab_data,Q.Subscription.remove(t._id).then((function(e){n.handleCloseModal(),n.updateData()})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),n.state={is_modal_open:"false",tab_data:null,tab:0,user_perms:null,data:null},Q.Permission.getUserPerm().then((function(e){n.setState({user_perms:e.data.perms})})).catch((function(e){return console.log(e)})),n.updateData(),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.state.tab_data&&this.state.user_perms&&this.state.data?r.a.createElement("div",{className:"view"},r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},create_btn_link:null,handleRemove:null,title:"Qu\u1ea3n L\xfd G\xf3i Mua",handleEdit:this.handleOpenEditModal,handleCreate:this.handleOpenCreateModal,handleSave:this.handleFeatureSave}),r.a.createElement(na,{onChangeTab:this.onTabChange,tab:this.state.tab,data:this.state.data}),r.a.createElement(ra,{data:this.state.tab_data,tab:this.state.tab,onChange:this.handleChangeInput}),r.a.createElement(Ce,{title:"Qu\u1ea3n L\xfd G\xf3i Mua",is_open:this.state.is_modal_open,onClose:this.handleCloseModal,onSave:this.handleSave,onRemove:this.handleRemove},r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"T\xean g\xf3i"),r.a.createElement("input",{type:"text",className:"textbox",ref:"ten_goi"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"M\xf4 t\u1ea3"),r.a.createElement("textarea",{type:"text",className:"textbox",ref:"mo_ta"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Gi\xe1"),r.a.createElement("input",{type:"text",className:"textbox",ref:"gia"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Ph\u1ea7n tr\u0103m gi\u1ea3m"),r.a.createElement("input",{type:"text",className:"textbox",ref:"phan_tram_giam"})),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"title"},"Th\u1eddi gian - ng\xe0y"),r.a.createElement("input",{type:"text",className:"textbox",ref:"thoi_gian"})))):r.a.createElement("div",{className:"view"},r.a.createElement(Fe,{onGoBack:function(){return e.props.history.goBack()},title:"Ch\u1ee9c N\u0103ng Truy C\u1eadp",handleCreate:this.handleUpdateData}))}}]),a}(n.Component),la=new R,sa=function(e){var t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return localStorage.getItem("authed")?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))},oa=function(){return r.a.createElement("div",{className:"version"},r.a.createElement("a",{href:"https://www.lavenes.com/",target:"_blank"},"Beta ",b.APP_VERSION))},ia=function(e){return r.a.createElement("main",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/signup",component:St}),r.a.createElement(d.b,{exact:!0,path:"/login",component:jt}),r.a.createElement(d.b,{exact:!0,path:"/backup",component:qe}),r.a.createElement(d.b,{exact:!0,path:"/backup/:type",component:qe}),r.a.createElement(d.b,{exact:!0,path:"/transaction/close",component:ea}),r.a.createElement(d.b,{exact:!0,path:"/transaction/successful",component:ta}),r.a.createElement(d.b,{exact:!0,path:"/:company_slug/admin/subscription",component:ca}),r.a.createElement(d.b,{exact:!0,path:"/:company_slug/errors/feature_not_available",component:aa}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/",component:Ke}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/transactions",component:qt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/profile",component:$t}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/cham_cong",component:Vt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/cham_cong_list",component:Kt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/cham_cong_edit/:id",component:Ht}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/spending",component:Et}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/bill_history/:id",component:nt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/bill_edit/:id",component:Ze}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/bill_edit/:id/:date",component:Ze}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/bill_restore/:id",component:Ze}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/bill_print/:id",component:et}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/calendar",component:ft}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/customers",component:vt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/packages/:type",component:$e}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/products",component:Qe}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/total_revenue",component:wt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/realtime_revenue",component:Ot}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/trash",component:Ut}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings",component:Tt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/subscription",component:Wt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel",component:Yt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/staff",component:Rt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/staff_edit/:id",component:Ft}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/permission",component:Bt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/branch",component:Lt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/status",component:Qt}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/staff_salary",component:At}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/settings/personnel/staff_salary_edit/:id",component:ze}),r.a.createElement(sa,{exact:!0,path:"/:company_slug/logout",component:We}),r.a.createElement(d.b,{exact:!0,path:"/",component:jt})))},ua=function(){var e=Object(n.useState)(!0),t=Object(h.a)(e,1)[0];Object(n.useEffect)((function(){Q.User.verifyLoggedTime(),Q.User.verifyToken(),localStorage.getItem("authed")&&Q.User.chamCong(),a()}),[]);var a=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:la.Spending().onAdd((function(e){D.info("C\xf3 giao d\u1ecbch m\u1edbi!","C\xf3 giao d\u1ecbch m\u1edbi!",(function(){window.location.href="/#/".concat(localStorage.getItem("company_slug"),"/settings/transactions")}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,localStorage.getItem("authed")?r.a.createElement(Se,null):null,t?r.a.createElement(ia,null):null,r.a.createElement(oa,null),r.a.createElement(S.NotificationContainer,null))};l.a.render(r.a.createElement(s.a,{basename:"/"},r.a.createElement(ua,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[250,1,2]]]);
//# sourceMappingURL=main.ac00e399.chunk.js.map